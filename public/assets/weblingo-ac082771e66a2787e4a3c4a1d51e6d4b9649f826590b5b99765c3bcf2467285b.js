!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Ractive=t()}(this,function(){"use strict";function e(e){var t;if(e&&"boolean"!=typeof e)return"undefined"!=typeof window&&document&&e?e.nodeType?e:"string"==typeof e&&(t=document.getElementById(e),!t&&document.querySelector&&(t=document.querySelector(e)),t&&t.nodeType)?t:e[0]&&e[0].nodeType?e[0]:null:null}function t(e){return e&&"unknown"!=typeof e.parentNode&&e.parentNode&&e.parentNode.removeChild(e),e}function n(e){return null!=e&&e.toString?e:""}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];for(var i,o;o=n.shift();)for(i in o)Au.call(o,i)&&(e[i]=o[i]);return e}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return n.forEach(function(t){for(var n in t)!t.hasOwnProperty(n)||n in e||(e[n]=t[n])}),e}function o(e){return"[object Array]"===Nu.call(e)}function s(e){return ju.test(Nu.call(e))}function a(e,t){return null===e&&null===t?!0:"object"==typeof e||"object"==typeof t?!1:e===t}function u(e){return!isNaN(parseFloat(e))&&isFinite(e)}function l(e){return e&&"[object Object]"===Nu.call(e)}function c(e,t){return e.replace(/%s/g,function(){return t.shift()})}function h(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];throw e=c(e,n),new Error(e)}function d(){Uw.DEBUG&&Tu.apply(null,arguments)}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];e=c(e,n),Su(e,n)}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];e=c(e,n),Du[e]||(Du[e]=!0,Su(e,n))}function m(){Uw.DEBUG&&f.apply(null,arguments)}function g(){Uw.DEBUG&&p.apply(null,arguments)}function v(e,t,n){var r=y(e,t,n);return r?r[e][n]:null}function y(e,t,n){for(;t;){if(n in t[e])return t;if(t.isolated)return null;t=t.parent}}function b(e){return function(){return e}}function w(e){var t,n,r,i,o,s;for(t=e.split("."),(n=Wu[t.length])||(n=x(t.length)),o=[],r=function(e,n){return e?"*":t[n]},i=n.length;i--;)s=n[i].map(r).join("."),o.hasOwnProperty(s)||(o.push(s),o[s]=!0);return o}function x(e){var t,n,r,i,o,s,a,u,l="";if(!Wu[e]){for(r=[];l.length<e;)l+=1;for(t=parseInt(l,2),i=function(e){return"1"===e},o=0;t>=o;o+=1){for(n=o.toString(2);n.length<e;)n="0"+n;for(u=[],a=n.length,s=0;a>s;s++)u.push(i(n[s]));r[o]=u}Wu[e]=r}return Wu[e]}function k(e,t,n,r){var i=e[t];if(!i||!i.equalsOrStartsWith(r)&&i.equalsOrStartsWith(n))return e[t]=i?i.replace(n,r):r,!0}function E(e){var t=e.slice(2);return"i"===e[1]&&u(t)?+t:t}function C(e){return null==e?e:(Vu.hasOwnProperty(e)||(Vu[e]=new $u(e)),Vu[e])}function T(e,t){function n(t,n){var r,i,s;return n.isRoot?s=[].concat(Object.keys(e.viewmodel.data),Object.keys(e.viewmodel.mappings),Object.keys(e.viewmodel.computations)):(r=e.viewmodel.wrapped[n.str],i=r?r.get():e.viewmodel.get(n),s=i?Object.keys(i):null),s&&s.forEach(function(e){"_ractive"===e&&o(i)||t.push(n.join(e))}),t}var r,i,s;for(r=t.str.split("."),s=[Qu];i=r.shift();)"*"===i?s=s.reduce(n,[]):s[0]===Qu?s[0]=C(i):s=s.map(S(i));return s}function S(e){return function(t){return t.join(e)}}function _(e){return e?e.replace(zu,".$1"):""}function A(e,t,n){if("string"!=typeof t||!u(n))throw new Error("Bad arguments");var r=void 0,i=void 0;if(/\*/.test(t))return i={},T(e,C(_(t))).forEach(function(t){var r=e.viewmodel.get(t);if(!u(r))throw new Error(Gu);i[t.str]=r+n}),e.set(i);if(r=e.get(t),!u(r))throw new Error(Gu);return e.set(t,+r+n)}function N(e,t){return Xu(this,e,void 0===t?1:+t)}function j(e){this.event=e,this.method="on"+e,this.deprecate=el[e]}function O(e,t){var n=e.indexOf(t);-1===n&&e.push(t)}function D(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]==t)return!0;return!1}function P(e,t){var n;if(!o(e)||!o(t))return!1;if(e.length!==t.length)return!1;for(n=e.length;n--;)if(e[n]!==t[n])return!1;return!0}function L(e){return"string"==typeof e?[e]:void 0===e?[]:e}function F(e){return e[e.length-1]}function R(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function I(e){for(var t=[],n=e.length;n--;)t[n]=e[n];return t}function q(e){setTimeout(e,0)}function M(e,t){return function(){for(var n;n=e.shift();)n(t)}}function H(e,t,n,r){var i;if(t===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(t instanceof tl)t.then(n,r);else if(!t||"object"!=typeof t&&"function"!=typeof t)n(t);else{try{i=t.then}catch(o){return void r(o)}if("function"==typeof i){var s,a,u;a=function(t){s||(s=!0,H(e,t,n,r))},u=function(e){s||(s=!0,r(e))};try{i.call(t,a,u)}catch(o){if(!s)return r(o),void(s=!0)}}else n(t)}}function W(e,t,n){var r;return t=_(t),"~/"===t.substr(0,2)?(r=C(t.substring(2)),V(e,r.firstKey,n)):"."===t[0]?(r=z(al(n),t),r&&V(e,r.firstKey,n)):r=B(e,C(t),n),r}function z(e,t){var n;if(void 0!=e&&"string"!=typeof e&&(e=e.str),"."===t)return C(e);if(n=e?e.split("."):[],"../"===t.substr(0,3)){for(;"../"===t.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),t=t.substring(3)}return n.push(t),C(n.join("."))}return C(e?e+t.replace(/^\.\//,"."):t.replace(/^\.\/?/,""))}function B(e,t,n,r){var i,o,s,a,u;if(t.isRoot)return t;for(o=t.firstKey;n;)if(i=n.context,n=n.parent,i&&(a=!0,s=e.viewmodel.get(i),s&&("object"==typeof s||"function"==typeof s)&&o in s))return i.join(t.str);return $(e.viewmodel,o)?t:e.parent&&!e.isolated&&(a=!0,n=e.component.parentFragment,o=C(o),u=B(e.parent,o,n,!0))?(e.viewmodel.map(o,{origin:e.parent.viewmodel,keypath:u}),t):r||a?void 0:(e.viewmodel.set(t,void 0),t)}function V(e,t){var n;!e.parent||e.isolated||$(e.viewmodel,t)||(t=C(t),(n=B(e.parent,t,e.component.parentFragment,!0))&&e.viewmodel.map(t,{origin:e.parent.viewmodel,keypath:n}))}function $(e,t){return""===t||t in e.data||t in e.computations||t in e.mappings}function U(e){e.teardown()}function Q(e){e.unbind()}function X(e){e.unrender()}function G(e){e.cancel()}function K(e){e.detach()}function Z(e){e.detachNodes()}function Y(e){!e.ready||e.outros.length||e.outroChildren||(e.outrosComplete||(e.parent?e.parent.decrementOutros(e):e.detachNodes(),e.outrosComplete=!0),e.intros.length||e.totalChildren||("function"==typeof e.callback&&e.callback(),e.parent&&e.parent.decrementTotal()))}function J(){for(var e,t,n;cl.ractives.length;)t=cl.ractives.pop(),n=t.viewmodel.applyChanges(),n&&pl.fire(t,n);for(et(),e=0;e<cl.views.length;e+=1)cl.views[e].update();for(cl.views.length=0,e=0;e<cl.tasks.length;e+=1)cl.tasks[e]();return cl.tasks.length=0,cl.ractives.length?J():void 0}function et(){var e,t,n,r;for(e=fl.length;e--;)t=fl[e],t.keypath?fl.splice(e,1):(n=ul(t.root,t.ref,t.parentFragment))&&((r||(r=[])).push({item:t,keypath:n}),fl.splice(e,1));r&&r.forEach(tt)}function tt(e){e.item.resolve(e.keypath)}function nt(e,t,n){var r,i,o,s,a,u,l,c,h,d,f,p,m,g;if(r=new sl(function(e){return i=e}),"object"==typeof e){n=t||{},u=n.easing,l=n.duration,a=[],c=n.step,h=n.complete,(c||h)&&(f={},n.step=null,n.complete=null,d=function(e){return function(t,n){f[e]=n}});for(o in e)e.hasOwnProperty(o)&&((c||h)&&(p=d(o),n={easing:u,duration:l},c&&(n.step=p)),n.complete=h?p:Ou,a.push(rt(this,o,e[o],n)));return g={easing:u,duration:l},c&&(g.step=function(e){return c(e,f)}),h&&r.then(function(e){return h(e,f)}),g.complete=i,m=rt(this,null,null,g),a.push(m),r.stop=function(){for(var e;e=a.pop();)e.stop();m&&m.stop()},r}return n=n||{},n.complete&&r.then(n.complete),n.complete=i,s=rt(this,e,t,n),r.stop=function(){return s.stop()},r}function rt(e,t,n,r){var i,o,s,u;return t&&(t=C(_(t))),null!==t&&(u=e.viewmodel.get(t)),yl.abort(t,e),a(u,n)?(r.complete&&r.complete(r.to),kl):(r.easing&&(i="function"==typeof r.easing?r.easing:e.easing[r.easing],"function"!=typeof i&&(i=null)),o=void 0===r.duration?400:r.duration,s=new wl({keypath:t,from:u,to:n,root:e,duration:o,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),yl.add(s),e._animations.push(s),s)}function it(){return this.detached?this.detached:(this.el&&R(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Cl.fire(this),this.detached)}function ot(e){return this.el?this.fragment.find(e):null}function st(e,t){var n;return n=this._isComponentQuery?!this.selector||e.name===this.selector:e.node?du(e.node,this.selector):null,n?(this.push(e.node||e.instance),t||this._makeDirty(),!0):void 0}function at(e){var t;return(t=e.parentFragment)?t.owner:e.component&&(t=e.component.parentFragment)?t.owner:void 0}function ut(e){var t,n;for(t=[e],n=at(e);n;)t.push(n),n=at(n);return t}function lt(e,t,n,r){var i=[];return ku(i,{selector:{value:t},live:{value:n},_isComponentQuery:{value:r},_test:{value:Sl}}),n?(ku(i,{cancel:{value:_l},_root:{value:e},_sort:{value:jl},_makeDirty:{value:Ol},_remove:{value:Dl},_dirty:{value:!1,writable:!0}}),i):i}function ct(e,t){var n,r;return this.el?(t=t||{},n=this._liveQueries,(r=n[e])?t&&t.live?r:r.slice():(r=Pl(this,e,!!t.live,!1),r.live&&(n.push(e),n["_"+e]=r),this.fragment.findAll(e,r),r)):[]}function ht(e,t){var n,r;return t=t||{},n=this._liveComponentQueries,(r=n[e])?t&&t.live?r:r.slice():(r=Pl(this,e,!!t.live,!0),r.live&&(n.push(e),n["_"+e]=r),this.fragment.findAllComponents(e,r),r)}function dt(e){return this.fragment.findComponent(e)}function ft(e){return this.container?this.container.component&&this.container.component.name===e?this.container:this.container.findContainer(e):null}function pt(e){return this.parent?this.parent.component&&this.parent.component.name===e?this.parent:this.parent.findParent(e):null}function mt(e,t){var n=void 0===arguments[2]?{}:arguments[2];if(t){n.event?n.event.name=t:n.event={name:t,_noArg:!0};var r=C(t).wildcardMatches();gt(e,r,n.event,n.args,!0)}}function gt(e,t,n,r){var i,o,s=void 0===arguments[4]?!1:arguments[4],a=!0;for(Hl.enqueue(e,n),o=t.length;o>=0;o--)i=e._subs[t[o]],i&&(a=vt(e,i,n,r)&&a);if(Hl.dequeue(e),e.parent&&a){if(s&&e.component){var u=e.component.name+"."+t[t.length-1];t=C(u).wildcardMatches(),n&&(n.component=e)}gt(e.parent,t,n,r)}}function vt(e,t,n,r){var i=null,o=!1;n&&!n._noArg&&(r=[n].concat(r)),t=t.slice();for(var s=0,a=t.length;a>s;s+=1)t[s].apply(e,r)===!1&&(o=!0);return n&&!n._noArg&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}function yt(e){var t={args:Array.prototype.slice.call(arguments,1)};Wl(this,e,t)}function bt(e){var t;return e=C(_(e)),t=this.viewmodel.get(e,Vl),void 0===t&&this.parent&&!this.isolated&&ul(this,e.str,this.component.parentFragment)&&(t=this.viewmodel.get(e)),t}function wt(t,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=e(t),n=e(n)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),n),this.el=t,(t.__ractive_instances__||(t.__ractive_instances__=[])).push(this),this.detached=null,xt(this)}function xt(e){Ul.fire(e),e.findAllComponents("*").forEach(function(e){xt(e.instance)})}function kt(e,t,n){var r,i;return e=C(_(e)),r=this.viewmodel.get(e),o(r)&&o(t)?(i=ml.start(this,!0),this.viewmodel.merge(e,r,t,n),ml.end(),i):this.set(e,t,n&&n.complete)}function Et(e,t){var n,r;return n=T(e,t),r={},n.forEach(function(t){r[t.str]=e.get(t.str)}),r}function Ct(e,t,n,r){var i,o,s;t=C(_(t)),r=r||ac,t.isPattern?(i=new oc(e,t,n,r),e.viewmodel.patternObservers.push(i),o=!0):i=new Kl(e,t,n,r),i.init(r.init),e.viewmodel.register(t,i,o?"patternObservers":"observers"),i.ready=!0;var a={cancel:function(){var n;s||(o?(n=e.viewmodel.patternObservers.indexOf(i),e.viewmodel.patternObservers.splice(n,1),e.viewmodel.unregister(t,i,"patternObservers")):e.viewmodel.unregister(t,i,"observers"),s=!0)}};return e._observers.push(a),a}function Tt(e,t,n){var r,i,o,s;if(l(e)){n=t,i=e,r=[];for(e in i)i.hasOwnProperty(e)&&(t=i[e],r.push(this.observe(e,t,n)));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}if("function"==typeof e)return n=t,t=e,e="",sc(this,e,t,n);if(o=e.split(" "),1===o.length)return sc(this,e,t,n);for(r=[],s=o.length;s--;)e=o[s],e&&r.push(sc(this,e,t,n));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}function St(e,t,n){var r=this.observe(e,function(){t.apply(this,arguments),r.cancel()},{init:!1,defer:n&&n.defer});return r}function _t(e,t){var n,r=this;if(e)n=e.split(" ").map(cc).filter(hc),n.forEach(function(e){var n,i;(n=r._subs[e])&&(t?(i=n.indexOf(t),-1!==i&&n.splice(i,1)):r._subs[e]=[])});else for(e in this._subs)delete this._subs[e];return this}function At(e,t){var n,r,i,o=this;if("object"==typeof e){n=[];for(r in e)e.hasOwnProperty(r)&&n.push(this.on(r,e[r]));return{cancel:function(){for(var e;e=n.pop();)e.cancel()}}}return i=e.split(" ").map(cc).filter(hc),i.forEach(function(e){(o._subs[e]||(o._subs[e]=[])).push(t)}),{cancel:function(){return o.off(e,t)}}}function Nt(e,t){var n=this.on(e,function(){t.apply(this,arguments),n.cancel()});return n}function jt(e,t,n){var r,i,o,s,a,u,l=[];if(r=Ot(e,t,n),!r)return null;for(i=e.length,a=r.length-2-r[1],o=Math.min(i,r[0]),s=o+r[1],u=0;o>u;u+=1)l.push(u);for(;s>u;u+=1)l.push(-1);for(;i>u;u+=1)l.push(u+a);return l.touchedFrom=0!==a?r[0]:e.length,l}function Ot(e,t,n){switch(t){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=e.length+Math.max(n[0],-e.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],e.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return e.length?[e.length-1,1]:[0,0];case"push":return[e.length,0].concat(n);case"shift":return[0,e.length?1:0];case"unshift":return[0,0].concat(n)}}function Dt(t,n){var r,i,o,s=this;if(o=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),r=ml.start(this,!0),ml.scheduleTask(function(){return _c.fire(s)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(t=e(t)||this.el,n=e(n)||this.anchor,this.el=t,this.anchor=n,!this.append&&t){var a=t.__ractive_instances__;a&&a.length&&Pt(a),t.innerHTML=""}return this.cssId&&Tc.apply(),t&&((i=t.__ractive_instances__)?i.push(this):t.__ractive_instances__=[this],n?t.insertBefore(this.fragment.render(),n):t.appendChild(this.fragment.render())),ml.end(),this.transitionsEnabled=o,r.then(function(){return Ac.fire(s)})}function Pt(e){e.splice(0,e.length).forEach(U)}function Lt(e,t){for(var n=e.slice(),r=t.length;r--;)~n.indexOf(t[r])||n.push(t[r]);return n}function Ft(e,t){var n,r,i;return r='[data-ractive-css~="{'+t+'}"]',i=function(e){var t,n,i,o,s,a,u,l=[];for(t=[];n=Lc.exec(e);)t.push({str:n[0],base:n[1],modifiers:n[2]});for(o=t.map(It),u=t.length;u--;)a=o.slice(),i=t[u],a[u]=i.base+r+i.modifiers||"",s=o.slice(),s[u]=r+" "+s[u],l.push(a.join(" "),s.join(" "));return l.join(", ")},n=Rc.test(e)?e.replace(Rc,r):e.replace(Pc,"").replace(Dc,function(e,t){var n,r;return Fc.test(t)?e:(n=t.split(",").map(Rt),r=n.map(i).join(", ")+" ",e.replace(t,r))})}function Rt(e){return e.trim?e.trim():e.replace(/^\s+/,"").replace(/\s+$/,"")}function It(e){return e.str}function qt(e){e&&e.constructor!==Object&&("function"==typeof e||("object"!=typeof e?h("data option must be an object or a function, `"+e+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Mt(e,t){qt(t);var n="function"==typeof e,r="function"==typeof t;return t||n||(t={}),n||r?function(){var i=r?Ht(t,this):t,o=n?Ht(e,this):e;return Wt(i,o)}:Wt(t,e)}function Ht(e,t){var n=e.call(t);if(n)return"object"!=typeof n&&h("Data function must return an object"),n.constructor!==Object&&g("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Wt(e,t){if(e&&t){for(var n in t)n in e||(e[n]=t[n]);return e}return e||t}function zt(e){var t,n,r;return e.matchString("=")?(t=e.pos,e.allowWhitespace(),(n=e.matchPattern(Ph))?e.matchPattern(Lh)?(r=e.matchPattern(Ph))?(e.allowWhitespace(),e.matchString("=")?[n,r]:(e.pos=t,null)):(e.pos=t,null):null:(e.pos=t,null)):null}function Bt(e){var t;return(t=e.matchPattern(Rh))?{t:ph,v:t}:null}function Vt(e){var t,n;if(e.interpolate[e.inside]===!1)return null;for(n=0;n<e.tags.length;n+=1)if(t=$t(e,e.tags[n]))return t}function $t(e,t){var n,r,i,o;if(n=e.pos,e.matchString("\\"+t.open)){if(0===n||"\\"!==e.str[n-1])return t.open}else if(!e.matchString(t.open))return null;if(r=Dh(e))return e.matchString(t.close)?(t.open=r[0],t.close=r[1],e.sortMustacheTags(),qh):null;if(e.allowWhitespace(),e.matchString("/")){e.pos-=1;var s=e.pos;Fh(e)?e.pos=s:(e.pos=s-t.close.length,e.error("Attempted to close a section that wasn't open"))}for(o=0;o<t.readers.length;o+=1)if(i=t.readers[o],r=i(e,t))return t.isStatic&&(r.s=!0),e.includeLinePositions&&(r.p=e.getLinePos(n)),r;return e.pos=n,null}function Ut(e){var t;return(t=e.matchPattern(zh))?{t:lh,v:t}:null}function Qt(e){var t=e.remaining();return"true"===t.substr(0,4)?(e.pos+=4,{t:fh,v:"true"}):"false"===t.substr(0,5)?(e.pos+=5,{t:fh,v:"false"}):null}function Xt(e){var t;return(t=Gh(e))?Yh.test(t.v)?t.v:'"'+t.v.replace(/"/g,'\\"')+'"':(t=Wh(e))?t.v:(t=e.matchPattern(Kh))?t:void 0}function Gt(e){var t,n,r;return t=e.pos,e.allowWhitespace(),n=Zh(e),null===n?(e.pos=t,null):(e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),r=Ad(e),null===r?(e.pos=t,null):{t:gh,k:n,v:r}):(e.pos=t,null))}function Kt(e){var t,n,r,i;return t=e.pos,r=Jh(e),null===r?null:(n=[r],e.matchString(",")?(i=Kt(e),i?n.concat(i):(e.pos=t,null)):n)}function Zt(e){function t(e){r.push(e)}var n,r,i,o;return n=e.pos,e.allowWhitespace(),i=Ad(e),null===i?null:(r=[i],e.allowWhitespace(),e.matchString(",")&&(o=Zt(e),null===o&&e.error(Mh),o.forEach(t)),r)}function Yt(e){return Wh(e)||Bh(e)||Gh(e)||td(e)||rd(e)||Fh(e)}function Jt(e){var t,n,r,i,o,s;return t=e.pos,r=e.matchPattern(/^@(?:keypath|index|key)/),r||(n=e.matchPattern(sd)||"",r=!n&&e.relaxedNames&&e.matchPattern(cd)||e.matchPattern(ld),r||"."!==n||(n="",r=".")),r?n||e.relaxedNames||!$h.test(r)?!n&&Vh.test(r)?(i=Vh.exec(r)[0],e.pos=t+i.length,{t:mh,v:i}):(o=(n||"")+_(r),e.matchString("(")&&(s=o.lastIndexOf("."),-1!==s?(o=o.substr(0,s),e.pos=t+o.length):e.pos-=1),{t:vh,n:o.replace(/^this\./,"./").replace(/^this$/,".")}):(e.pos=t,null):null}function en(e){var t,n;return t=e.pos,e.matchString("(")?(e.allowWhitespace(),n=Ad(e),n||e.error(Mh),e.allowWhitespace(),e.matchString(")")||e.error(Hh),{t:xh,x:n}):null}function tn(e){var t,n,r;if(t=e.pos,e.allowWhitespace(),e.matchString(".")){if(e.allowWhitespace(),n=e.matchPattern(Kh))return{t:yh,n:n};e.error("Expected a property name")}return e.matchString("[")?(e.allowWhitespace(),r=Ad(e),r||e.error(Mh),e.allowWhitespace(),e.matchString("]")||e.error("Expected ']'"),{t:yh,x:r}):null}function nn(e){var t,n,r,i;return(n=Sd(e))?(t=e.pos,e.allowWhitespace(),e.matchString("?")?(e.allowWhitespace(),r=Ad(e),r||e.error(Mh),e.allowWhitespace(),e.matchString(":")||e.error('Expected ":"'),e.allowWhitespace(),i=Ad(e),i||e.error(Mh),{t:kh,o:[n,r,i]}):(e.pos=t,n)):null}function rn(e){return _d(e)}function on(e){function t(e){switch(e.t){case fh:case mh:case lh:case ph:return e.v;case ch:return JSON.stringify(String(e.v));case hh:return"["+(e.m?e.m.map(t).join(","):"")+"]";case dh:return"{"+(e.m?e.m.map(t).join(","):"")+"}";case gh:return e.k+":"+t(e.v);case wh:return("typeof"===e.s?"typeof ":e.s)+t(e.o);case Eh:return t(e.o[0])+("in"===e.s.substr(0,2)?" "+e.s+" ":e.s)+t(e.o[1]);case Ch:return t(e.x)+"("+(e.o?e.o.map(t).join(","):"")+")";case xh:return"("+t(e.x)+")";case bh:return t(e.x)+t(e.r);case yh:return e.n?"."+e.n:"["+t(e.x)+"]";case kh:return t(e.o[0])+"?"+t(e.o[1])+":"+t(e.o[2]);case vh:return"_"+n.indexOf(e.n);default:throw new Error("Expected legal JavaScript")}}var n;return sn(e,n=[]),{r:n,s:t(e)}}function sn(e,t){var n,r;if(e.t===vh&&-1===t.indexOf(e.n)&&t.unshift(e.n),r=e.o||e.m)if(l(r))sn(r,t);else for(n=r.length;n--;)sn(r[n],t);e.x&&sn(e.x,t),e.r&&sn(e.r,t),e.v&&sn(e.v,t)}function an(e,t){var n;if(e){for(;e.t===xh&&e.x;)e=e.x;return e.t===vh?t.r=e.n:e.t===lh&&Od.test(e.v)?t.r=e.v:(n=un(e))?t.rx=n:t.x=Nd(e),t}}function un(e){for(var t,n=[];e.t===bh&&e.r.t===yh;)t=e.r,n.unshift(t.x?t.x.t===vh?t.x:Nd(t.x):t.n),e=e.x;return e.t!==vh?null:{r:e.n,m:n}}function ln(e,t){var n,r=Ad(e);return r?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),n={t:Gc},jd(r,n),n):null}function cn(e,t){var n,r;return e.matchString("&")?(e.allowWhitespace(),(n=Ad(e))?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),r={t:Gc},jd(n,r),r):null):null}function hn(e,t){var n,r,i,o,s;return n=e.pos,e.matchString(">")?(e.allowWhitespace(),r=e.pos,e.relaxedNames=!0,i=Ad(e),e.relaxedNames=!1,e.allowWhitespace(),o=Ad(e),e.allowWhitespace(),i?(s={t:eh},jd(i,s),e.allowWhitespace(),o&&(s={t:Kc,n:Ah,f:[s]},jd(o,s)),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),s):null):null}function dn(e,t){var n;return e.matchString("!")?(n=e.remaining().indexOf(t.close),-1!==n?(e.pos+=n+t.close.length,{t:th}):void 0):null}function fn(e,t){var n,r,i;if(n=e.pos,r=Ad(e),!r)return null;for(i=0;i<t.length;i+=1)if(e.remaining().substr(0,t[i].length)===t[i])return r;return e.pos=n,od(e)}function pn(e,t){var n,r,i,o;n=e.pos;try{r=Rd(e,[t.close])}catch(s){o=s}if(!r){if("!"===e.str.charAt(n))return e.pos=n,null;if(o)throw o}if(!e.matchString(t.close)&&(e.error("Expected closing delimiter '"+t.close+"' after reference"),!r)){if("!"===e.nextChar())return null;e.error("Expected expression or legal reference")}return i={t:Xc},jd(r,i),i}function mn(e,t){var n,r,i;return e.matchPattern(Md)?(n=e.pos,r=e.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),e.allowWhitespace(),e.matchString(t.close)||e.error("expected legal partial name"),i={t:sh},r&&(i.n=r),i):null}function gn(e,t){var n,r,i,o;return n=e.pos,e.matchString(t.open)?(e.allowWhitespace(),e.matchString("/")?(e.allowWhitespace(),r=e.remaining(),i=r.indexOf(t.close),-1!==i?(o={t:Yc,r:r.substr(0,i).split(" ")[0]},e.pos+=i,e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),o):(e.pos=n,null)):(e.pos=n,null)):null}function vn(e,t){var n=e.pos;return e.matchString(t.open)?e.matchPattern(zd)?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),{t:jh}):(e.pos=n,null):null}function yn(e,t){var n,r=e.pos;return e.matchString(t.open)?e.matchPattern(Vd)?(n=Ad(e),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),{t:Oh,x:n}):(e.pos=r,null):null}function bn(e,t){var n,r,i,o,s,a,u,l,c,h,d,f;if(n=e.pos,e.matchString("^"))i={t:Kc,f:[],n:Sh};else{if(!e.matchString("#"))return null;i={t:Kc,f:[]},e.matchString("partial")&&(e.pos=n-e.standardDelimiters[0].length,e.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=e.matchPattern(Gd))&&(f=u,i.n=$d[u])}if(e.allowWhitespace(),r=Ad(e),r||e.error("Expected expression"),d=e.matchPattern(Qd)){var p=void 0;i.i=(p=e.matchPattern(Xd))?d+","+p:d}e.allowWhitespace(),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),e.sectionDepth+=1,s=i.f,c=[];do if(o=Hd(e,t))f&&o.r!==f&&e.error("Expected "+t.open+"/"+f+t.close),e.sectionDepth-=1,h=!0;else if(o=Bd(e,t))i.n===Sh&&e.error("{{else}} not allowed in {{#unless}}"),a&&e.error("illegal {{elseif...}} after {{else}}"),l||(l=wn(r,i.n)),l.f.push({t:Kc,n:Th,x:Nd(kn(c.concat(o.x))),f:s=[]}),c.push(xn(o.x));else if(o=Wd(e,t))i.n===Sh&&e.error("{{else}} not allowed in {{#unless}}"),a&&e.error("there can only be one {{else}} block, at the end of a section"),a=!0,l?l.f.push({t:Kc,n:Th,x:Nd(kn(c)),f:s=[]}):(l=wn(r,i.n),s=l.f);else{if(o=e.read(ep),!o)break;s.push(o)}while(!h);return l&&(i.n===Ah&&(i.n=Nh),i.l=l),jd(r,i),i.f.length||delete i.f,i}function wn(e,t){var n;return t===Ah?(n={t:Kc,n:Th,f:[]},jd(xn(e),n)):(n={t:Kc,n:Sh,f:[]},jd(e,n)),n}function xn(e){return e.t===wh&&"!"===e.s?e.o:{t:wh,s:"!",o:En(e)}}function kn(e){return 1===e.length?e[0]:{t:Eh,s:"&&",o:[En(e[0]),En(kn(e.slice(1)))]}}function En(e){return{t:xh,x:e}}function Cn(e){var t,n,r,i,o;return t=e.pos,e.matchString(Zd)?(r=e.remaining(),i=r.indexOf(Yd),-1===i&&e.error("Illegal HTML - expected closing comment sequence ('-->')"),n=r.substr(0,i),e.pos+=i+3,o={t:th,c:n},e.includeLinePositions&&(o.p=e.getLinePos(t)),o):null}function Tn(e){return e.replace(kd,function(e,t){var n;return n="#"!==t[0]?wd[t]:"x"===t[1]?parseInt(t.substring(2),16):parseInt(t.substring(1),10),n?String.fromCharCode(Sn(n)):e})}function Sn(e){return e?10===e?32:128>e?e:159>=e?xd[e-128]:55296>e?e:57343>=e?65533:65535>=e?e:65533:65533}function _n(e){return e.replace(Td,"&amp;").replace(Ed,"&lt;").replace(Cd,"&gt;")}function An(e){return"string"==typeof e}function Nn(e){return e.t===th||e.t===nh}function jn(e){return(e.t===Kc||e.t===Zc)&&e.f}function On(e,t,n,r,i){var s,a,u,l,c,h,d,f;for(lf(e),s=e.length;s--;)a=e[s],a.exclude?e.splice(s,1):t&&a.t===th&&e.splice(s,1);for(cf(e,r?pf:null,i?mf:null),s=e.length;s--;){if(a=e[s],a.f){var p=a.t===Jc&&ff.test(a.e);c=n||p,!n&&p&&cf(a.f,gf,vf),c||(u=e[s-1],l=e[s+1],(!u||"string"==typeof u&&mf.test(u))&&(h=!0),(!l||"string"==typeof l&&pf.test(l))&&(d=!0)),On(a.f,t,c,h,d)}if(a.l&&(On(a.l.f,t,n,h,d),e.splice(s+1,0,a.l),delete a.l),a.a)for(f in a.a)a.a.hasOwnProperty(f)&&"string"!=typeof a.a[f]&&On(a.a[f],t,n,h,d);if(a.m&&On(a.m,t,n,h,d),a.v)for(f in a.v)a.v.hasOwnProperty(f)&&(o(a.v[f].n)&&On(a.v[f].n,t,n,h,d),o(a.v[f].d)&&On(a.v[f].d,t,n,h,d))}for(s=e.length;s--;)"string"==typeof e[s]&&("string"==typeof e[s+1]&&(e[s]=e[s]+e[s+1],e.splice(s+1,1)),n||(e[s]=e[s].replace(df," ")),""===e[s]&&e.splice(s,1))}function Dn(e){var t,n;return t=e.pos,e.matchString("</")?(n=e.matchPattern(bf))?e.inside&&n!==e.inside?(e.pos=t,null):{t:ih,e:n}:(e.pos-=2,void e.error("Illegal closing tag")):null}function Pn(e){var t,n,r;return e.allowWhitespace(),(n=e.matchPattern(kf))?(t={name:n},r=Ln(e),null!=r&&(t.value=r),t):null}function Ln(e){var t,n,r,i;return t=e.pos,/[=\/>\s]/.test(e.nextChar())||e.error("Expected `=`, `/`, `>` or whitespace"),e.allowWhitespace(),e.matchString("=")?(e.allowWhitespace(),n=e.pos,r=e.sectionDepth,i=In(e,"'")||In(e,'"')||Rn(e),null===i&&e.error("Expected valid attribute value"),e.sectionDepth!==r&&(e.pos=n,e.error("An attribute value must contain as many opening section tags as closing section tags")),i.length?1===i.length&&"string"==typeof i[0]?Tn(i[0]):i:""):(e.pos=t,null)}function Fn(e){var t,n,r,i,o;return t=e.pos,(n=e.matchPattern(Ef))?(r=n,i=e.tags.map(function(e){return e.open}),-1!==(o=wf(r,i))&&(n=n.substr(0,o),e.pos=t+n.length),n):null}function Rn(e){var t,n;for(e.inAttribute=!0,t=[],n=Ih(e)||Fn(e);null!==n;)t.push(n),n=Ih(e)||Fn(e);return t.length?(e.inAttribute=!1,t):null}function In(e,t){var n,r,i;if(n=e.pos,!e.matchString(t))return null;for(e.inAttribute=t,r=[],i=Ih(e)||qn(e,t);null!==i;)r.push(i),i=Ih(e)||qn(e,t);return e.matchString(t)?(e.inAttribute=!1,r):(e.pos=n,null)}function qn(e,t){var n,r,i,o;return n=e.pos,i=e.remaining(),o=e.tags.map(function(e){return e.open}),o.push(t),r=wf(i,o),-1===r&&e.error("Quoted attribute value must have a closing quote"),r?(e.pos+=r,i.substr(0,r)):null}function Mn(e){var t,n,r;return e.allowWhitespace(),(t=Zh(e))?(r={key:t},e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),(n=e.read())?(r.value=n.v,r):null):null):null}function Hn(e,t){var n,r,i,o,s,a,u,l,c;if("string"==typeof e){if(r=_f.exec(e)){var h=e.lastIndexOf(")");return Af.test(e)||t.error("Invalid input after method call expression '"+e.slice(h+1)+"'"),n={m:r[1]},o="["+e.slice(n.m.length+1,h)+"]",i=new Cf(o),n.a=Nd(i.result[0]),n}if(-1===e.indexOf(":"))return e.trim();e=[e]}if(n={},u=[],l=[],e){for(;e.length;)if(s=e.shift(),"string"==typeof s){if(a=s.indexOf(":"),-1!==a){a&&u.push(s.substr(0,a)),s.length>a+1&&(l[0]=s.substring(a+1));break}u.push(s)}else u.push(s);l=l.concat(e)}return u.length?l.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===l.length&&"string"==typeof l[0]?(c=Tf("["+l[0]+"]"),n.a=c?c.value:l[0].trim()):n.d=l):n=u:n="",n}function Wn(e){var t,n,r,i,o,s,a,u,l,c,h,d,f,p,m,g;if(t=e.pos,e.inside||e.inAttribute)return null;if(!e.matchString("<"))return null;if("/"===e.nextChar())return null;if(n={},e.includeLinePositions&&(n.p=e.getLinePos(t)),e.matchString("!"))return n.t=uh,e.matchPattern(/^doctype/i)||e.error("Expected DOCTYPE declaration"),n.a=e.matchPattern(/^(.+?)>/),n;if(n.t=Jc,n.e=e.matchPattern(jf),!n.e)return null;for(Of.test(e.nextChar())||e.error("Illegal tag name"),o=function(t,r){var i=r.n||r;Lf.test(i)&&(e.pos-=i.length,e.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[t]=r},e.allowWhitespace();s=Ih(e)||xf(e);)s.name?(r=Ff[s.name])?n[r]=Sf(s.value,e):(i=Pf.exec(s.name))?(n.v||(n.v={}),a=Sf(s.value,e),o(i[1],a)):e.sanitizeEventAttributes&&Df.test(s.name)||(n.a||(n.a={}),n.a[s.name]=s.value||(""===s.value?"":0)):(n.m||(n.m=[]),n.m.push(s)),e.allowWhitespace();if(e.allowWhitespace(),e.matchString("/")&&(u=!0),!e.matchString(">"))return null;var v=n.e.toLowerCase(),y=e.preserveWhitespace;if(!u&&!bd.test(n.e)){e.elementStack.push(v),("script"===v||"style"===v)&&(e.inside=v),l=[],c=wu(null);do if(p=e.pos,m=e.remaining(),zn(v,m))if(g=yf(e)){f=!0;var b=g.e.toLowerCase();if(b!==v&&(e.pos=p,!~e.elementStack.indexOf(b))){var w="Unexpected closing tag";bd.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),e.error(w)}}else(d=Hd(e,{open:e.standardDelimiters[0],close:e.standardDelimiters[1]}))?(f=!0,e.pos=p):(d=e.read(tp))?(c[d.n]&&(e.pos=p,e.error("Duplicate partial definition")),hf(d.f,e.stripComments,y,!y,!y),c[d.n]=d.f,h=!0):(d=e.read(ep))?l.push(d):f=!0;else f=!0;while(!f);l.length&&(n.f=l),h&&(n.p=c),e.elementStack.pop()}return e.inside=null,e.sanitizeElements&&-1!==e.sanitizeElements.indexOf(v)?Rf:n}function zn(e,t){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(t),r=Nf[e],n&&r?!~r.indexOf(n[1].toLowerCase()):!0}function Bn(e){var t,n,r,i;return n=e.remaining(),i=e.inside?"</"+e.inside:"<",e.inside&&!e.interpolate[e.inside]?t=n.indexOf(i):(r=e.tags.map(function(e){return e.open}),r=r.concat(e.tags.map(function(e){return"\\"+e.open})),e.inAttribute===!0?r.push('"',"'","=","<",">","`"):r.push(e.inAttribute?e.inAttribute:i),t=wf(n,r)),t?(-1===t&&(t=n.length),e.pos+=t,e.inside?n.substr(0,t):Tn(n.substr(0,t))):null}function Vn(e){return e.replace(Wf,"\\$&")}function $n(e){var t=e.pos,n=e.standardDelimiters[0],r=e.standardDelimiters[1],i=void 0,o=void 0;if(!e.matchPattern(Bf)||!e.matchString(n))return e.pos=t,null;var s=e.matchPattern(Vf);if(g("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+s+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+s+"}} --> ... <!-- {{/"+s+"}} -->'"),!e.matchString(r)||!e.matchPattern($f))return e.pos=t,null;i=[];var a=new RegExp("^<!--\\s*"+Hf(n)+"\\s*\\/\\s*"+s+"\\s*"+Hf(r)+"\\s*-->");do e.matchPattern(a)?o=!0:(If=e.read(ep),If||e.error("expected closing comment ('<!-- "+n+"/"+s+r+" -->')"),i.push(If));while(!o);return{t:ah,f:i,n:s}}function Un(e){var t,n,r,i,o;t=e.pos;var s=e.standardDelimiters;if(!e.matchString(s[0]))return null;if(!e.matchPattern(Qf))return e.pos=t,null;n=e.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||e.error("expected legal partial name"),e.matchString(s[1])||e.error("Expected closing delimiter '"+s[1]+"'"),r=[];do(i=Hd(e,{open:e.standardDelimiters[0],close:e.standardDelimiters[1]}))?("partial"===!i.r&&e.error("Expected "+s[0]+"/partial"+s[1]),o=!0):(i=e.read(ep),i||e.error("Expected "+s[0]+"/partial"+s[1]),r.push(i));while(!o);return{t:ah,n:n,f:r}}function Qn(e){for(var t=[],n=wu(null),r=!1,i=e.preserveWhitespace;e.pos<e.str.length;){var o=e.pos,s=void 0,a=void 0;(a=e.read(tp))?(n[a.n]&&(e.pos=o,e.error("Duplicated partial definition")),hf(a.f,e.stripComments,i,!i,!i),n[a.n]=a.f,r=!0):(s=e.read(ep))?t.push(s):e.error("Unexpected template content")}var u={v:su,t:t};return r&&(u.p=n),u}function Xn(e,t){return new Jf(e,t||{}).result}function Gn(e){var t=wu(sp);return t.parse=function(t,n){return Kn(t,n||e)},t}function Kn(e,t){if(!Gf)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Gf(e,t||this.options)}function Zn(e,t){var n;if(!Ja){if(t&&t.noThrow)return;throw new Error("Cannot retrieve template #"+e+" as Ractive is not running in a browser.")}if(Yn(e)&&(e=e.substring(1)),!(n=document.getElementById(e))){if(t&&t.noThrow)return;throw new Error("Could not find template element with id #"+e)}if("SCRIPT"!==n.tagName.toUpperCase()){if(t&&t.noThrow)return;throw new Error("Template element with id #"+e+", must be a <script> element")
}return"textContent"in n?n.textContent:n.innerHTML}function Yn(e){return e&&"#"===e[0]}function Jn(e){return!("string"==typeof e)}function er(e){return e.defaults&&(e=e.defaults),op.reduce(function(t,n){return t[n]=e[n],t},{})}function tr(e){var t,n=e._config.template;if(n&&n.fn)return t=nr(e,n.fn),t!==n.result?(n.result=t,t=ir(t,e)):void 0}function nr(e,t){var n=rr(ap.getParseOptions(e));return t.call(e,n)}function rr(e){var t=wu(ap);return t.parse=function(t,n){return ap.parse(t,n||e)},t}function ir(e,t){if("string"==typeof e)"#"===e[0]&&(e=ap.fromId(e)),e=Gf(e,ap.getParseOptions(t));else{if(void 0==e)throw new Error("The template cannot be "+e+".");if("number"!=typeof e.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(e.v!==su)throw new Error("Mismatched template version (expected "+su+", got "+e.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return e}function or(e,t,n){if(t)for(var r in t)(n||!e.hasOwnProperty(r))&&(e[r]=t[r])}function sr(e,t,n){if(!/_super/.test(n))return n;var r=function(){var e,i=ar(r._parent,t),o="_super"in this,s=this._super;return this._super=i,e=n.apply(this,arguments),o?this._super=s:delete this._super,e};return r._parent=e,r._method=n,r}function ar(e,t){var n,r;return t in e?(n=e[t],r="function"==typeof n?n:function(){return n}):r=Ou,r}function ur(e,t,n){return"options."+e+" has been deprecated in favour of options."+t+"."+(n?" You cannot specify both options, please use options."+t+".":"")}function lr(e,t,n){if(t in e){if(n in e)throw new Error(ur(t,n,!0));m(ur(t,n)),e[n]=e[t]}}function cr(e){lr(e,"beforeInit","onconstruct"),lr(e,"init","onrender"),lr(e,"complete","oncomplete"),lr(e,"eventDefinitions","events"),o(e.adaptors)&&lr(e,"adaptors","adapt")}function hr(e,t,n,r){yp(r);for(var i in r)if(mp.hasOwnProperty(i)){var o=r[i];"el"!==i&&"function"==typeof o?m(""+i+" is a Ractive option that does not expect a function and will be ignored","init"===e?n:null):n[i]=o}gp.forEach(function(i){i[e](t,n,r)}),jc[e](t,n,r),lp[e](t,n,r),Mc[e](t,n,r),dr(t.prototype,n,r)}function dr(e,t,n){for(var r in n)if(!pp[r]&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=vp(e,r,i)),t[r]=i}}function fr(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}function pr(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function mr(){var e;return 1===this.items.length?this.items[0].detach():(e=document.createDocumentFragment(),this.items.forEach(function(t){var n=t.detach();n&&e.appendChild(n)}),e)}function gr(e){var t,n,r,i;if(this.items){for(n=this.items.length,t=0;n>t;t+=1)if(r=this.items[t],r.find&&(i=r.find(e)))return i;return null}}function vr(e,t){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAll&&i.findAll(e,t);return t}function yr(e,t){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(e,t);return t}function br(e){var t,n,r,i;if(this.items){for(t=this.items.length,n=0;t>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(e)))return i;return null}}function wr(e){var t,n=e.index;return t=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xr(){return this.items&&this.items[0]?this.items[0].firstNode():null}function kr(e,t,n,r){return r=r||0,e.map(function(e){var i,o,s;return e.text?e.text:e.fragments?e.fragments.map(function(e){return kr(e.items,t,n,r)}).join(""):(i=n+"-"+r++,s=e.keypath&&(o=e.root.viewmodel.wrapped[e.keypath.str])?o.value:e.getValue(),t[i]=s,"${"+i+"}")}).join("")}function Er(){var e,t,n,r;return this.dirtyArgs&&(t=Ap(this.items,e={},this.root._guid),n=Tf("["+t+"]",e),r=n?n.value:[this.toString()],this.argsList=r,this.dirtyArgs=!1),this.argsList}function Cr(){var e=this;do if(e.pElement)return e.pElement.node;while(e=e.parent);return this.root.detached||this.root.el}function Tr(){var e,t,n,r;return this.dirtyValue&&(t=Ap(this.items,e={},this.root._guid),n=Tf(t,e),r=n?n.value:this.toString(),this.value=r,this.dirtyValue=!1),this.value}function Sr(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function _r(){return this.value}function Ar(e,t){for(var n,r=0;r<t.prop.length;r++)if(void 0!==(n=e[t.prop[r]]))return n}function Nr(e,t){var n,r,i,o,s,a={},u=!1;for(t||(a.refs=n={});e;){if((s=e.owner)&&(r=s.indexRefs)){if(t&&(i=s.getIndexRef(t)))return a.ref={fragment:e,ref:i},a;if(!t)for(o in r)i=r[o],n[i.n]||(u=!0,n[i.n]={fragment:e,ref:i})}!e.parent&&e.owner&&e.owner.component&&e.owner.component.parentFragment&&!e.owner.component.instance.isolated?(a.componentBoundary=!0,e=e.owner.component.parentFragment):e=e.parent}return u?a:void 0}function jr(e,t,n){var r;return"@"===t.charAt(0)?new Wp(e,t,n):(r=Vp(e.parentFragment,t))?new Bp(e,r,n):new qp(e,t,n)}function Or(e,t){var n,r;if(Xp[e])return Xp[e];for(r=[];t--;)r[t]="_"+t;return n=new Function(r.join(","),"return("+e+")"),Xp[e]=n,n}function Dr(e){return e.call()}function Pr(e,t){return e.replace(/_([0-9]+)/g,function(e,n){var r,i;return+n>=t.length?"_"+n:(r=t[n],void 0===r?"undefined":r.isSpecial?(i=r.value,"number"==typeof i?i:'"'+i+'"'):r.str)})}function Lr(e){return C("${"+e.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Fr(e){return void 0!==e&&"@"!==e[0]}function Rr(e,t){var n,r,i;if(e.__ractive_nowrap)return e;if(r="__ractive_"+t._guid,n=e[r])return n;if(/this/.test(e.toString())){xu(e,r,{value:Gp.call(e,t),configurable:!0});for(i in e)e.hasOwnProperty(i)&&(e[r][i]=e[i]);return t._boundFunctions.push({fn:e,prop:r}),e[r]}return xu(e,"__ractive_nowrap",{value:e}),e.__ractive_nowrap}function Ir(e){return e.value}function qr(e){return void 0!=e}function Mr(e){e.forceResolution()}function Hr(e,t){function n(t){e.resolve(t)}function r(t){var n=e.keypath;t!=n&&(e.resolve(t),void 0!==n&&e.fragments&&e.fragments.forEach(function(e){e.rebind(n,t)}))}var i,o,s;o=t.parentFragment,s=t.template,e.root=o.root,e.parentFragment=o,e.pElement=o.pElement,e.template=t.template,e.index=t.index||0,e.isStatic=t.template.s,e.type=t.template.t,e.registered=!1,(i=s.r)&&(e.resolver=Up(e,i,n)),t.template.x&&(e.resolver=new Kp(e,o,t.template.x,r)),t.template.rx&&(e.resolver=new em(e,t.template.rx,r)),e.template.n!==Sh||e.hasOwnProperty("value")||e.setValue(void 0)}function Wr(e){var t,n,r;return e&&e.isSpecial?(this.keypath=e,void this.setValue(e.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,t=!0),this.keypath=e,void 0!=e&&(n=this.root.viewmodel.get(e),this.root.viewmodel.register(e,this),this.registered=!0),this.setValue(n),void(t&&(r=this.twowayBinding)&&r.rebound()))}function zr(e,t){this.fragments&&this.fragments.forEach(function(n){return n.rebind(e,t)}),this.resolver&&this.resolver.rebind(e,t)}function Br(){this.parentFragment.bubble()}function Vr(){var e;return 1===this.fragments.length?this.fragments[0].detach():(e=document.createDocumentFragment(),this.fragments.forEach(function(t){e.appendChild(t.detach())}),e)}function $r(e){var t,n,r;for(n=this.fragments.length,t=0;n>t;t+=1)if(r=this.fragments[t].find(e))return r;return null}function Ur(e,t){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(e,t)}function Qr(e,t){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(e,t)}function Xr(e){var t,n,r;for(n=this.fragments.length,t=0;n>t;t+=1)if(r=this.fragments[t].findComponent(e))return r;return null}function Gr(e){return this.fragments[e.index+1]?this.fragments[e.index+1].firstNode():this.parentFragment.findNextNode(this)}function Kr(){var e,t,n;if(e=this.fragments.length)for(t=0;e>t;t+=1)if(n=this.fragments[t].firstNode())return n;return this.parentFragment.findNextNode(this)}function Zr(e){var t,n,r,i,o,s,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===_h){if(this.shuffling=!0,ml.scheduleTask(function(){return u.shuffling=!1}),t=this.parentFragment,o=[],e.forEach(function(e,t){var r,i,s,a,l;return e===t?void(o[e]=u.fragments[t]):(r=u.fragments[t],void 0===n&&(n=t),-1===e?(u.fragmentsToUnrender.push(r),void r.unbind()):(i=e-t,s=u.keypath.join(t),a=u.keypath.join(e),r.index=e,(l=r.registeredIndexRefs)&&l.forEach(Yr),r.rebind(s,a),void(o[e]=r)))}),i=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===i)return;n=this.length}for(this.length=this.fragments.length=i,this.rendered&&ml.addView(this),s={template:this.template.f,root:this.root,owner:this},r=n;i>r;r+=1)a=o[r],a||this.fragmentsToCreate.push(r),this.fragments[r]=a}}function Yr(e){e.rebind("","")}function Jr(){var e=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(t){return e.docFrag.appendChild(t.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function ei(e){var t,n,r=this;this.updating||(this.updating=!0,this.keypath&&(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(e){var t;n.context=r.keypath.join(e),n.index=e,t=new yw(n),r.fragmentsToRender.push(r.fragments[e]=t)}),this.fragmentsToCreate.length=0):ni(this,e)&&(this.bubble(),this.rendered&&ml.addView(this)),this.value=e,this.updating=!1)}function ti(e,t,n){if(t===_h&&e.indexRefs&&e.indexRefs[0]){var r=e.indexRefs[0];(n&&"i"===r.t||!n&&"k"===r.t)&&(n||(e.length=0,e.fragmentsToUnrender=e.fragments.slice(0),e.fragmentsToUnrender.forEach(function(e){return e.unbind()}))),r.t=n?"k":"i"}e.currentSubtype=t}function ni(e,t){var n={template:e.template.f||[],root:e.root,pElement:e.parentFragment.pElement,owner:e};if(e.hasContext=!0,e.subtype)switch(e.subtype){case Th:return e.hasContext=!1,ai(e,t,!1,n);case Sh:return e.hasContext=!1,ai(e,t,!0,n);case Ah:return si(e,n);case Nh:return oi(e,t,n);case _h:if(l(t))return ti(e,e.subtype,!0),ii(e,t,n)}return e.ordered=!!s(t),e.ordered?(ti(e,_h,!1),ri(e,t,n)):l(t)||"function"==typeof t?e.template.i?(ti(e,_h,!0),ii(e,t,n)):(ti(e,Ah,!1),si(e,n)):(ti(e,Th,!1),e.hasContext=!1,ai(e,t,!1,n))}function ri(e,t,n){var r,i,o;if(i=t.length,i===e.length)return!1;if(i<e.length)e.fragmentsToUnrender=e.fragments.splice(i,e.length-i),e.fragmentsToUnrender.forEach(Q);else if(i>e.length)for(r=e.length;i>r;r+=1)n.context=e.keypath.join(r),n.index=r,o=new yw(n),e.fragmentsToRender.push(e.fragments[r]=o);return e.length=i,!0}function ii(e,t,n){var r,i,o,s,a,u;for(o=e.hasKey||(e.hasKey={}),i=e.fragments.length;i--;)s=e.fragments[i],s.key in t||(a=!0,s.unbind(),e.fragmentsToUnrender.push(s),e.fragments.splice(i,1),o[s.key]=!1);for(i=e.fragments.length;i--;)s=e.fragments[i],s.index!==i&&(s.index=i,(u=s.registeredIndexRefs)&&u.forEach(ci));i=e.fragments.length;for(r in t)o[r]||(a=!0,n.context=e.keypath.join(r),n.key=r,n.index=i++,s=new yw(n),e.fragmentsToRender.push(s),e.fragments.push(s),o[r]=!0);return e.length=e.fragments.length,a}function oi(e,t,n){return t?si(e,n):ui(e)}function si(e,t){var n;return e.length?void 0:(t.context=e.keypath,t.index=0,n=new yw(t),e.fragmentsToRender.push(e.fragments[0]=n),e.length=1,!0)}function ai(e,t,n,r){var i,o,a,u,c;if(o=s(t)&&0===t.length,a=!1,!s(t)&&l(t)){a=!0;for(c in t){a=!1;break}}return i=n?o||a||!t:t&&!o&&!a,i?e.length?e.length>1?(e.fragmentsToUnrender=e.fragments.splice(1),e.fragmentsToUnrender.forEach(Q),!0):void 0:(r.index=0,u=new yw(r),e.fragmentsToRender.push(e.fragments[0]=u),e.length=1,!0):ui(e)}function ui(e){return e.length?(e.fragmentsToUnrender=e.fragments.splice(0,e.fragments.length).filter(li),e.fragmentsToUnrender.forEach(Q),e.length=e.fragmentsToRender.length=0,!0):void 0}function li(e){return e.rendered}function ci(e){e.rebind("","")}function hi(e){var t,n,r;for(t="",n=0,r=this.length,n=0;r>n;n+=1)t+=this.fragments[n].toString(e);return t}function di(){var e=this;this.fragments.forEach(Q),this.fragmentsToRender.forEach(function(t){return R(e.fragments,t)}),this.fragmentsToRender=[],Fp.call(this),this.length=0,this.unbound=!0}function fi(e){this.fragments.forEach(e?pi:mi),this.renderedFragments=[],this.rendered=!1}function pi(e){e.unrender(!0)}function mi(e){e.unrender(!1)}function gi(){var e,t,n,r,i,o,s;for(n=this.renderedFragments;e=this.fragmentsToUnrender.pop();)e.unrender(!0),n.splice(n.indexOf(e),1);for(;e=this.fragmentsToRender.shift();)e.render();for(this.rendered&&(i=this.parentFragment.getNode()),s=this.fragments.length,o=0;s>o;o+=1)e=this.fragments[o],t=n.indexOf(e,o),t!==o?(this.docFrag.appendChild(e.detach()),-1!==t&&n.splice(t,1),n.splice(o,0,e)):this.docFrag.childNodes.length&&(r=e.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()}function vi(){var e,t;if(this.docFrag){for(e=this.nodes.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.nodes[t]);return this.docFrag}}function yi(e){var t,n,r,i;for(n=this.nodes.length,t=0;n>t;t+=1)if(r=this.nodes[t],1===r.nodeType){if(du(r,e))return r;if(i=r.querySelector(e))return i}return null}function bi(e,t){var n,r,i,o,s,a;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType&&(du(i,e)&&t.push(i),o=i.querySelectorAll(e)))for(s=o.length,a=0;s>a;a+=1)t.push(o[a])}function wi(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xi(e){return Om[e]||(Om[e]=hu(e))}function ki(e){var t,n,r;e&&"select"===e.name&&e.binding&&(t=I(e.node.options).filter(Ei),e.getAttribute("multiple")?r=t.map(function(e){return e.value}):(n=t[0])&&(r=n.value),void 0!==r&&e.binding.setValue(r),e.bubble())}function Ei(e){return e.selected}function Ci(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Dm(this.value,this.parentFragment.getNode(),this.docFrag),Pm(this.pElement),this.rendered=!0,this.docFrag}function Ti(e){var t;(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),e!==this.value&&(this.value=e,this.parentFragment.bubble(),this.rendered&&ml.addView(this))}function Si(){return void 0!=this.value?Tn(""+this.value):""}function _i(e){this.rendered&&e&&(this.nodes.forEach(t),this.rendered=!1)}function Ai(){var e,t;if(this.rendered){for(;this.nodes&&this.nodes.length;)e=this.nodes.pop(),e.parentNode.removeChild(e);t=this.parentFragment.getNode(),this.nodes=Dm(this.value,t,this.docFrag),t.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Pm(this.pElement)}}function Ni(){var e,t=this.node;return t?((e=t.parentNode)&&e.removeChild(t),t):void 0}function ji(){return null}function Oi(){return this.node}function Di(e){return this.attributes&&this.attributes[e]?this.attributes[e].value:void 0}function Pi(){var e=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();a(e,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=e,"value"===this.name&&this.node&&(this.node._ractive.value=e),this.rendered&&ml.addView(this))}function Li(e){var t=e.fragment.items;if(1===t.length)return t[0].type===Xc?t[0]:void 0}function Fi(e){return this.type=rh,this.element=e.element,this.root=e.root,og(this,e.name),this.isBoolean=yd.test(this.name),e.value&&"string"!=typeof e.value?(this.parentFragment=this.element.parentFragment,this.fragment=new yw({template:e.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=sg(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:e.value||"")}function Ri(e,t){this.fragment&&this.fragment.rebind(e,t)}function Ii(e){var t;this.node=e,e.namespaceURI&&e.namespaceURI!==ru.html||(t=cg[this.name]||this.name,void 0!==e[t]&&(this.propertyName=t),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===t&&(e._ractive.value=this.value)),this.rendered=!0,this.update()}function qi(){var e=this,t=e.name,n=e.namespacePrefix,r=e.value,i=e.interpolator,o=e.fragment;if(("value"!==t||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==t||void 0===this.element.getAttribute("contenteditable"))){if("name"===t&&"input"===this.element.name&&i)return"name={{"+(i.keypath.str||i.ref)+"}}";if(this.isBoolean)return r?t:"";if(o){if(1===o.items.length&&null==o.items[0].value)return"";r=o.toString()}return n&&(t=n+":"+t),r?t+'="'+Mi(r)+'"':t}}function Mi(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Hi(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Wi(){var e,t,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,e=this.node.options,r=e.length;r--;)if(t=e[r],n=t._ractive?t._ractive.value:t.value,n==i){t.selected=!0;break}}function zi(){var e,t,n,r,i=this.value;for(o(i)||(i=[i]),e=this.node.options,t=e.length;t--;)n=e[t],r=n._ractive?n._ractive.value:n.value,n.selected=D(i,r)}function Bi(){var e=this,t=e.node,n=e.value;t.checked=n==t._ractive.value}function Vi(){var e,t,n,r,i=this.node;if(e=i.checked,i.value=this.element.getAttribute("value"),i.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),e&&!i.checked&&this.element.binding&&(n=this.element.binding.siblings,r=n.length)){for(;r--;){if(t=n[r],!t.element.node)return;if(t.element.node.checked)return ml.addRactive(t.root),t.handleChange()}this.root.viewmodel.set(t.keypath,void 0)}}function $i(){var e,t,n=this,r=n.element,i=n.node,s=n.value,a=r.binding;if(e=r.getAttribute("value"),o(s)){for(t=s.length;t--;)if(e==s[t])return void(a.isChecked=i.checked=!0);a.isChecked=i.checked=!1}else a.isChecked=i.checked=s==e}function Ui(){this.node.className=n(this.value)}function Qi(){var e=this,t=e.node,n=e.value;this.root.nodes[n]=t,t.id=n}function Xi(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),e.style.setAttribute("cssText",t)}function Gi(){var e=this.value;void 0===e&&(e=""),this.locked||(this.node.innerHTML=e)}function Ki(){var e=this,t=e.node,n=e.value;t._ractive.value=n,this.locked||(t.value=void 0==n?"":n)}function Zi(){this.locked||(this.node[this.propertyName]=this.value)}function Yi(){var e=this,t=e.node,n=e.namespace,r=e.name,i=e.value,o=e.fragment;n?t.setAttributeNS(n,r,(o||i).toString()):this.isBoolean?i?t.setAttribute(r,""):t.removeAttribute(r):null==i?t.removeAttribute(r):t.setAttribute(r,(o||i).toString())}function Ji(){var e,t,n=this,r=n.name,i=n.element,o=n.node;"id"===r?t=bg:"value"===r?"select"===i.name&&"value"===r?t=i.getAttribute("multiple")?pg:fg:"textarea"===i.name?t=kg:null!=i.getAttribute("contenteditable")?t=xg:"input"===i.name&&(e=i.getAttribute("type"),t="file"===e?Ou:"radio"===e&&i.binding&&"name"===i.binding.name?gg:kg):this.isTwoway&&"name"===r?"radio"===o.type?t=mg:"checkbox"===o.type&&(t=vg):"style"===r&&o.style.setAttribute?t=wg:"class"!==r||o.namespaceURI&&o.namespaceURI!==ru.html?this.useProperty&&(t=Eg):t=yg,t||(t=Cg),this.update=t,this.update()}function eo(e,t){var n=t?"svg":"div";return _g.innerHTML="<"+n+" "+e+"></"+n+">",I(_g.childNodes[0].attributes)}function to(e,t){for(var n=e.length;n--;)if(e[n].name===t.name)return!1;return!0}function no(e){for(;e=e.parent;)if("form"===e.name)return e}function ro(){this._ractive.binding.handleChange()}function io(){var e;Rg.call(this),e=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==e?"":e}function oo(){var e=this._ractive.binding,t=this;e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.rendered&&Rg.call(t),e._timeout=void 0},e.element.lazy)}function so(e,t,n){var r=e+t+n;return Wg[r]||(Wg[r]=[])}function ao(e){return e.isChecked}function uo(e){return e.element.getAttribute("value")}function lo(e){var t,n,r,i,o,s=e.attributes;return e.binding&&(e.binding.teardown(),e.binding=null),(e.getAttribute("contenteditable")||s.contenteditable&&co(s.contenteditable))&&co(s.value)?n=Mg:"input"===e.name?(t=e.getAttribute("type"),"radio"===t||"checkbox"===t?(r=co(s.name),i=co(s.checked),r&&i&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:e.root}),r?n="radio"===t?$g:Qg:i&&(n="radio"===t?Bg:Gg)):"file"===t&&co(s.value)?n=tv:co(s.value)&&(n="number"===t||"range"===t?nv:Ig)):"select"===e.name&&co(s.value)?n=e.getAttribute("multiple")?Jg:Zg:"textarea"===e.name&&co(s.value)&&(n=Ig),n&&(o=new n(e))&&o.keypath?o:void 0}function co(e){return e&&e.isBindable}function ho(){var e=this.getAction();e&&!this.hasListener?this.listen():!e&&this.hasListener&&this.unrender()}function fo(e){Wl(this.root,this.getAction(),{event:e})}function po(){return this.action.toString().trim()}function mo(e,t,n){var r,i,o,s=this;this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.name=t,-1!==t.indexOf("*")&&(h('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',e.name,t),this.invalid=!0),n.m?(i=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Qp(n.a.s,i.length),this.parentFragment=e.parentFragment,o=this.root,this.refResolvers=[],i.forEach(function(e,t){var n=void 0;(n=uv.exec(e))?s.keypaths[t]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:s.refResolvers.push(Up(s,e,function(e){return s.resolve(t,e)}))}),this.fire=go):(r=n.n||n,"string"!=typeof r&&(r=new yw({template:r,root:this.root,owner:this})),this.action=r,n.d?(this.dynamicParams=new yw({template:n.d,root:this.root,owner:this.element}),this.fire=yo):n.a&&(this.params=n.a,this.fire=vo))}function go(e){var t,n,r;if(t=this.root,"function"!=typeof t[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var r,i,o;if(void 0===n)return void 0;if(n.eventObject){if(r=e,i=n.refinements.length)for(o=0;i>o;o+=1)r=r[n.refinements[o]]}else r=t.viewmodel.get(n);return r}),Hl.enqueue(t,e),r=this.fn.apply(null,n),t[this.method].apply(t,r),Hl.dequeue(t)}function vo(e){Wl(this.root,this.getAction(),{event:e,args:this.params})}function yo(e){var t=this.dynamicParams.getArgsList();"string"==typeof t&&(t=t.substr(1,t.length-2)),Wl(this.root,this.getAction(),{event:e,args:t})}function bo(e){var t,n,r,i={};t=this._ractive,n=t.events[e.type],(r=Vp(n.element.parentFragment))&&(i=Vp.resolve(r)),n.fire({node:this,original:e,index:i,keypath:t.keypath.str,context:t.root.viewmodel.get(t.keypath)})}function wo(){var e,t=this.name;if(!this.invalid){if(e=v("events",this.root,t))this.custom=e(this.node,xo(t));else{if(!("on"+t in this.node||window&&"on"+t in window||eu))return void(dv[t]||g(Fu(t,"event"),{node:this.node}));this.node.addEventListener(t,lv,!1)}this.hasListener=!0}}function xo(e){return hv[e]||(hv[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath.str,t.context=n.root.viewmodel.get(n.keypath),n.events[e].fire(t)}),hv[e]}function ko(e,t){function n(n){n&&n.rebind(e,t)}var r;return this.method?(r=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function Eo(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Co(e,t){this.keypaths[e]=t}function To(){return this.method?void this.refResolvers.forEach(Q):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function So(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,lv,!1),this.hasListener=!1}function _o(){var e=this;this.dirty||(this.dirty=!0,ml.scheduleTask(function(){Ao(e),e.dirty=!1})),this.parentFragment.bubble()}function Ao(e){var t,n,r,i,o;t=e.node,t&&(i=I(t.options),n=e.getAttribute("value"),r=e.getAttribute("multiple"),void 0!==n?(i.forEach(function(e){var t,i;t=e._ractive?e._ractive.value:e.value,i=r?No(n,t):n==t,i&&(o=!0),e.selected=i}),o||(i[0]&&(i[0].selected=!0),e.binding&&e.binding.forceUpdate())):e.binding&&e.binding.forceUpdate())}function No(e,t){for(var n=e.length;n--;)if(e[n]==t)return!0}function jo(e,t){e.select=Do(e.parent),e.select&&(e.select.options.push(e),t.a||(t.a={}),void 0!==t.a.value||t.a.hasOwnProperty("disabled")||(t.a.value=t.f),"selected"in t.a&&void 0!==e.select.getAttribute("value")&&delete t.a.selected)}function Oo(e){e.select&&R(e.select.options,e)}function Do(e){if(e)do if("select"===e.name)return e;while(e=e.parent)}function Po(e){var t,n,r,i,o,s,a;this.type=Jc,t=this.parentFragment=e.parentFragment,n=this.template=e.template,this.parent=e.pElement||t.pElement,this.root=r=t.root,this.index=e.index,this.key=e.key,this.name=ig(n.e),"option"===this.name&&jo(this,n),"select"===this.name&&(this.options=[],this.bubble=_o),"form"===this.name&&(this.formBindings=[]),a=ng(this,n),this.attributes=Ng(this,n.a),this.conditionalAttributes=Dg(this,n.m),n.f&&(this.fragment=new yw({template:n.f,root:r,owner:this,pElement:this,cssIds:null})),s=r.twoway,a.twoway===!1?s=!1:a.twoway===!0&&(s=!0),this.twoway=s,this.lazy=a.lazy,s&&(i=rv(this,n.a))&&(this.binding=i,o=this.root._twowayBindings[i.keypath.str]||(this.root._twowayBindings[i.keypath.str]=[]),o.push(i)),n.v&&(this.eventHandlers=wv(this,n.v)),n.o&&(this.decorator=new Tv(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function Lo(e,t){function n(n){n.rebind(e,t)}var r,i,o,s;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),o=this.liveQueries)for(s=this.root,r=o.length;r--;)o[r]._makeDirty();this.node&&(i=this.node._ractive)&&k(i,"keypath",e,t)}function Fo(e){var t;(e.attributes.width||e.attributes.height)&&e.node.addEventListener("load",t=function(){var n=e.getAttribute("width"),r=e.getAttribute("height");void 0!==n&&e.node.setAttribute("width",n),void 0!==r&&e.node.setAttribute("height",r),e.node.removeEventListener("load",t,!1)},!1)}function Ro(e){e.node.addEventListener("reset",qo,!1)}function Io(e){e.node.removeEventListener("reset",qo,!1)}function qo(){var e=this._ractive.proxy;ml.start(),e.formBindings.forEach(Mo),ml.end()}function Mo(e){e.root.viewmodel.set(e.keypath,e.resetValue)}function Ho(e,t,n){var r,i,o;this.element=e,this.root=r=e.root,this.isIntro=n,i=t.n||t,("string"==typeof i||(o=new yw({template:i,root:r,owner:e}),i=o.toString(),o.unbind(),""!==i))&&(this.name=i,t.a?this.params=t.a:t.d&&(o=new yw({template:t.d,root:r,owner:e}),this.params=o.getArgsList(),o.unbind()),this._fn=v("transitions",r,i),this._fn||g(Fu(i,"transition"),{ractive:this.root}))}function Wo(e){return e}function zo(){ty.hidden=document[Zv]}function Bo(){ty.hidden=!0}function Vo(){ty.hidden=!1}function $o(){var e,t,n,r=this;return e=this.node=this.element.node,t=e.getAttribute("style"),this.complete=function(i){n||(!i&&r.isIntro&&Uo(e,t),e._ractive.transition=null,r._manager.remove(r),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Uo(e,t){t?e.setAttribute("style",t):(e.getAttribute("style"),e.removeAttribute("style"))}function Qo(){var e,t,n,r=this,i=this.root;return e=Xo(this),t=this.node=hu(this.name,e),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(e){return"{"+e+"}"}).join(" ")),xu(this.node,"_ractive",{value:{proxy:this,keypath:al(this.parentFragment),events:wu(null),root:i}}),this.attributes.forEach(function(e){return e.render(t)}),this.conditionalAttributes.forEach(function(e){return e.render(t)}),this.fragment&&("script"===this.name?(this.bubble=dy,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Ou):"style"===this.name?(this.bubble=hy,this.bubble(),this.fragment.unrender=Ou):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Ou:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.render()}),"option"===this.name&&Go(this),"img"===this.name?Fo(this):"form"===this.name?Ro(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&ml.scheduleTask(function(){r.decorator.torndown||r.decorator.init()},!0),i.transitionsEnabled&&this.intro&&(n=new fy(this,this.intro,!0),ml.registerTransition(n),ml.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&ml.scheduleTask(function(){return r.node.focus()},!0),Ko(this),this.node}function Xo(e){var t,n,r;return t=(n=e.getAttribute("xmlns"))?n:"svg"===e.name?ru.svg:(r=e.parent)?"foreignObject"===r.name?ru.html:r.node.namespaceURI:e.root.el.namespaceURI}function Go(e){var t,n,r;if(e.select&&(n=e.select.getAttribute("value"),void 0!==n))if(t=e.getAttribute("value"),e.select.node.multiple&&o(n)){for(r=n.length;r--;)if(t==n[r]){e.node.selected=!0;break}}else e.node.selected=t==n}function Ko(e){var t,n,r,i,o;t=e.root;do for(n=t._liveQueries,r=n.length;r--;)i=n[r],o=n["_"+i],o._test(e)&&(e.liveQueries||(e.liveQueries=[])).push(o);while(t=t.parent)}function Zo(e){var t,n,r;if(t=e.getAttribute("value"),void 0===t||!e.select)return!1;if(n=e.select.getAttribute("value"),n==t)return!0;if(e.select.getAttribute("multiple")&&o(n))for(r=n.length;r--;)if(n[r]==t)return!0}function Yo(e){var t,n,r,i;return t=e.attributes,n=t.type,r=t.value,i=t.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function Jo(e){var t=e.toString();return t?" "+t:""}function es(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Q),"option"===this.name&&Oo(this),this.attributes.forEach(Q),this.conditionalAttributes.forEach(Q)}function ts(e){var t,n,r;(r=this.transition)&&r.complete(),"option"===this.name?this.detach():e&&ml.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(t=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[t.keypath.str],n.splice(n.indexOf(t),1)),this.eventHandlers&&this.eventHandlers.forEach(X),this.decorator&&ml.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(r=new fy(this,this.outro,!1),ml.registerTransition(r),ml.scheduleTask(function(){return r.start()})),this.liveQueries&&ns(this),"form"===this.name&&Io(this)}function ns(e){var t,n,r;for(r=e.liveQueries.length;r--;)t=e.liveQueries[r],n=t.selector,t._remove(e.node)}function rs(e,t){var n=xy.exec(t)[0];return null===e||n.length<e.length?n:e}function is(e,t,n){var r;if(r=os(e,t,n||{}))return r;if(r=ap.fromId(t,{noThrow:!0})){r=ky(r);var i=ap.parse(r,ap.getParseOptions(e));return e.partials[t]=i.t}}function os(e,t,n){var r=void 0,i=us(t,n.owner);if(i)return i;var o=y("partials",e,t);if(o){if(i=o.partials[t],"function"==typeof i&&(r=i.bind(o),r.isOwner=o.partials.hasOwnProperty(t),i=r.call(e,ap)),!i&&""!==i)return void m(Lu,t,"partial","partial",{ractive:e});if(!ap.isParsed(i)){var s=ap.parse(i,ap.getParseOptions(o));s.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",t,{ractive:e});var a=r?o:ss(o,t);a.partials[t]=i=s.t}return r&&(i._fn=r),i.v?i.t:i}}function ss(e,t){return e.partials.hasOwnProperty(t)?e:as(e.constructor,t)}function as(e,t){return e?e.partials.hasOwnProperty(t)?e:as(e._Parent,t):void 0}function us(e,t){if(t){if(t.template&&t.template.p&&t.template.p[e])return t.template.p[e];if(t.parentFragment&&t.parentFragment.owner)return us(e,t.parentFragment.owner)}}function ls(e,t){var n,r=y("components",e,t);if(r&&(n=r.components[t],!n._Parent)){var i=n.bind(r);if(i.isOwner=r.components.hasOwnProperty(t),n=i(),!n)return void m(Lu,t,"component","component",{ractive:e});"string"==typeof n&&(n=ls(e,n)),n._fn=i,r.components[t]=n}return n}function cs(){var e=this.instance.fragment.detach();return Py.fire(this.instance),e}function hs(e){return this.instance.fragment.find(e)}function ds(e,t){return this.instance.fragment.findAll(e,t)}function fs(e,t){t._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(e,t)}function ps(e){return e&&e!==this.name?this.instance.fragment?this.instance.fragment.findComponent(e):null:this.instance}function ms(){return this.parentFragment.findNextNode(this)
}function gs(){return this.rendered?this.instance.fragment.firstNode():null}function vs(e,t,n){function r(e){var n,r;e.value=t,e.updating||(r=e.ractive,n=e.keypath,e.updating=!0,ml.start(r),r.viewmodel.mark(n),ml.end(),e.updating=!1)}var i,o,s,a,u,l;if(i=e.obj,o=e.prop,n&&!n.configurable){if("length"===o)return;throw new Error('Cannot use magic mode with property "'+o+'" - object is not configurable')}n&&(s=n.get,a=n.set),u=s||function(){return t},l=function(e){a&&a(e),t=s?s():e,l._ractiveWrappers.forEach(r)},l._ractiveWrappers=[e],Object.defineProperty(i,o,{get:u,set:l,enumerable:!0,configurable:!0})}function ys(e,t){var n,r,i,o;if(this.adaptors)for(n=this.adaptors.length,r=0;n>r;r+=1)if(i=this.adaptors[r],i.filter(t,e,this.ractive))return o=this.wrapped[e]=i.wrap(this.ractive,t,e,ws(e)),void(o.value=t)}function bs(e,t){var n,r={};if(!t)return e;t+=".";for(n in e)e.hasOwnProperty(n)&&(r[t+n]=e[n]);return r}function ws(e){var t;return rb[e]||(t=e?e+".":"",rb[e]=function(n,r){var i;return"string"==typeof n?(i={},i[t+n]=r,i):"object"==typeof n?t?bs(n,e):n:void 0}),rb[e]}function xs(e){var t,n,r=[Qu];for(t=e.length;t--;)for(n=e[t].parent;n&&!n.isRoot;)-1===e.indexOf(n)&&O(r,n),n=n.parent;return r}function ks(e,t,n){var r;Cs(e,t),n||(r=t.wildcardMatches(),r.forEach(function(n){Es(e,n,t)}))}function Es(e,t,n){var r,i,o;t=t.str||t,r=e.depsMap.patternObservers,i=r&&r[t],i&&i.forEach(function(t){o=n.join(t.lastKey),Cs(e,o),Es(e,t,o)})}function Cs(e,t){e.patternObservers.forEach(function(e){e.regex.test(t.str)&&e.update(t)})}function Ts(){function e(e){var r=e.key;e.viewmodel===s?(s.clearCache(r.str),e.invalidate(),n.push(r),t(r)):e.viewmodel.mark(r)}function t(n){var r,i;s.noCascade.hasOwnProperty(n.str)||((i=s.deps.computed[n.str])&&i.forEach(e),(r=s.depsMap.computed[n.str])&&r.forEach(t))}var n,r,i,o=this,s=this,a={};return n=this.changes,n.length?(n.slice().forEach(t),r=ib(n),r.forEach(function(t){var r;-1===n.indexOf(t)&&(r=s.deps.computed[t.str])&&r.forEach(e)}),this.changes=[],this.patternObservers.length&&(r.forEach(function(e){return ob(o,e,!0)}),n.forEach(function(e){return ob(o,e)})),this.deps.observers&&(r.forEach(function(e){return Ss(o,null,e,"observers")}),As(this,n,"observers")),this.deps["default"]&&(i=[],r.forEach(function(e){return Ss(o,i,e,"default")}),i.length&&_s(this,i,n),As(this,n,"default")),n.forEach(function(e){a[e.str]=o.get(e)}),this.implicitChanges={},this.noCascade={},a):void 0}function Ss(e,t,n,r){var i,o;(i=Ns(e,n,r))&&(o=e.get(n),i.forEach(function(e){t&&e.refineValue?t.push(e):e.setValue(o)}))}function _s(e,t,n){t.forEach(function(t){for(var r=!1,i=0,o=n.length,s=[];o>i;){var a=n[i];if(a===t.keypath){r=!0;break}a.slice(0,t.keypath.length)===t.keypath&&s.push(a),i++}r&&t.setValue(e.get(t.keypath)),s.length&&t.refineValue(s)})}function As(e,t,n){function r(e){e.forEach(i),e.forEach(o)}function i(t){var r=Ns(e,t,n);r&&a.push({keypath:t,deps:r})}function o(t){var i;(i=e.depsMap[n][t.str])&&r(i)}function s(t){var n=e.get(t.keypath);t.deps.forEach(function(e){return e.setValue(n)})}var a=[];r(t),a.forEach(s)}function Ns(e,t,n){var r=e.deps[n];return r?r[t.str]:null}function js(){this.captureGroups.push([])}function Os(e,t){var n,r;if(t||(r=this.wrapped[e])&&r.teardown()!==!1&&(this.wrapped[e]=null),this.cache[e]=void 0,n=this.cacheMap[e])for(;n.length;)this.clearCache(n.pop())}function Ds(e,t){var n=t.firstKey;return!(n in e.data||n in e.computations||n in e.mappings)}function Ps(e,t){var n=new db(e,t);return this.ready&&n.init(this),this.computations[e.str]=n}function Ls(e,t){var n,r,i,o,s,a=this.cache,u=e.str;if(t=t||gb,t.capture&&(o=F(this.captureGroups))&&(~o.indexOf(e)||o.push(e)),Au.call(this.mappings,e.firstKey))return this.mappings[e.firstKey].get(e,t);if(e.isSpecial)return e.value;if(void 0===a[u]?((r=this.computations[u])&&!r.bypass?(n=r.get(),this.adapt(u,n)):(i=this.wrapped[u])?n=i.value:e.isRoot?(this.adapt("",this.data),n=this.data):n=Fs(this,e),a[u]=n):n=a[u],!t.noUnwrap&&(i=this.wrapped[u])&&(n=i.get()),e.isRoot&&t.fullRootGet)for(s in this.mappings)n[s]=this.mappings[s].getValue();return n===pb?void 0:n}function Fs(e,t){var n,r,i,o;return n=e.get(t.parent),(o=e.wrapped[t.parent.str])&&(n=o.get()),null!==n&&void 0!==n?((r=e.cacheMap[t.parent.str])?-1===r.indexOf(t.str)&&r.push(t.str):e.cacheMap[t.parent.str]=[t.str],"object"!=typeof n||t.lastKey in n?(i=n[t.lastKey],e.adapt(t.str,i,!1),e.cache[t.str]=i,i):e.cache[t.str]=pb):void 0}function Rs(){var e;for(e in this.computations)this.computations[e].init(this)}function Is(e,t){var n=this.mappings[e.str]=new bb(e,t);return n.initViewmodel(this),n}function qs(e,t){var n,r=e.str;t&&(t.implicit&&(this.implicitChanges[r]=!0),t.noCascade&&(this.noCascade[r]=!0)),(n=this.computations[r])&&n.invalidate(),-1===this.changes.indexOf(e)&&this.changes.push(e);var i=t?t.keepExistingWrapper:!1;this.clearCache(r,i),this.ready&&this.onchange()}function Ms(e,t,n,r){var i,o,s,a;if(this.mark(e),r&&r.compare){s=Ws(r.compare);try{i=t.map(s),o=n.map(s)}catch(u){m('merge(): "%s" comparison failed. Falling back to identity checking',e),i=t,o=n}}else i=t,o=n;a=xb(i,o),this.smartUpdate(e,n,a,t.length!==n.length)}function Hs(e){return JSON.stringify(e)}function Ws(e){if(e===!0)return Hs;if("string"==typeof e)return Eb[e]||(Eb[e]=function(t){return t[e]}),Eb[e];if("function"==typeof e)return e;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function zs(e,t){var n,r,i,o=void 0===arguments[2]?"default":arguments[2];t.isStatic||((n=this.mappings[e.firstKey])?n.register(e,t,o):(r=this.deps[o]||(this.deps[o]={}),i=r[e.str]||(r[e.str]=[]),i.push(t),this.depsMap[o]||(this.depsMap[o]={}),e.isRoot||Bs(this,e,o)))}function Bs(e,t,n){for(var r,i,o;!t.isRoot;)r=e.depsMap[n],i=r[t.parent.str]||(r[t.parent.str]=[]),o=t.str,void 0===i["_"+o]&&(i["_"+o]=0,i.push(t)),i["_"+o]+=1,t=t.parent}function Vs(){return this.captureGroups.pop()}function $s(e){this.data=e,this.clearCache("")}function Us(e,t){var n,r,i,o,s=void 0===arguments[2]?{}:arguments[2];if(!s.noMapping&&(n=this.mappings[e.firstKey]))return n.set(e,t);if(r=this.computations[e.str]){if(r.setting)return;r.set(t),t=r.get()}a(this.cache[e.str],t)||(i=this.wrapped[e.str],i&&i.reset&&(o=i.reset(t)!==!1,o&&(t=i.get())),r||o||Qs(this,e,t),s.silent?this.clearCache(e.str):this.mark(e))}function Qs(e,t,n){var r,i,o,s;o=function(){r.set?r.set(t.lastKey,n):(i=r.get(),s())},s=function(){i||(i=Zy(t.lastKey),e.set(t.parent,i,{silent:!0})),i[t.lastKey]=n},r=e.wrapped[t.parent.str],r?o():(i=e.get(t.parent),(r=e.wrapped[t.parent.str])?o():s())}function Xs(e,t,n){var r,i,o,s=this;if(i=n.length,n.forEach(function(t,n){-1===t&&s.mark(e.join(n),jb)}),this.set(e,t,{silent:!0}),(r=this.deps["default"][e.str])&&r.filter(Gs).forEach(function(e){return e.shuffle(n,t)}),i!==t.length){for(this.mark(e.join("length"),Nb),o=n.touchedFrom;o<t.length;o+=1)this.mark(e.join(o));for(o=t.length;i>o;o+=1)this.mark(e.join(o),jb)}}function Gs(e){return"function"==typeof e.shuffle}function Ks(){var e,t=this;for(Object.keys(this.cache).forEach(function(e){return t.clearCache(e)});e=this.unresolvedImplicitDependencies.pop();)e.teardown()}function Zs(e,t){var n,r,i,o=void 0===arguments[2]?"default":arguments[2];if(!t.isStatic){if(n=this.mappings[e.firstKey])return n.unregister(e,t,o);if(r=this.deps[o][e.str],i=r.indexOf(t),-1===i)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");r.splice(i,1),e.isRoot||Ys(this,e,o)}}function Ys(e,t,n){for(var r,i;!t.isRoot;)r=e.depsMap[n],i=r[t.parent.str],i["_"+t.str]-=1,i["_"+t.str]||(R(i,t),i["_"+t.str]=void 0),t=t.parent}function Js(e){this.hook=new nl(e),this.inProcess={},this.queue={}}function ea(e,t){return e[t._guid]||(e[t._guid]=[])}function ta(e,t){var n=ea(e.queue,t);for(e.hook.fire(t);n.length;)ta(e,n.shift());delete e.queue[t._guid]}function na(e,t){var n,r={};for(n in t)r[n]=ra(e,n,t[n]);return r}function ra(e,t,n){var r,i;return"function"==typeof n&&(r=oa(n,e)),"string"==typeof n&&(r=ia(e,n)),"object"==typeof n&&("string"==typeof n.get?r=ia(e,n.get):"function"==typeof n.get?r=oa(n.get,e):h("`%s` computation must have a `get()` method",t),"function"==typeof n.set&&(i=oa(n.set,e))),{getter:r,setter:i}}function ia(e,t){var n,r,i;return n="return ("+t.replace(Ib,function(e,t){return r=!0,'__ractive.get("'+t+'")'})+");",r&&(n="var __ractive = this; "+n),i=new Function(n),r?i.bind(e):i}function oa(e,t){return/this/.test(e.toString())?e.bind(t):e}function sa(t){var n,i,o=void 0===arguments[1]?{}:arguments[1],s=void 0===arguments[2]?{}:arguments[2];if(Uw.DEBUG&&_u(),la(t,s),xu(t,"data",{get:ca}),qb.fire(t,o),zb.forEach(function(e){t[e]=r(wu(t.constructor[e]||null),o[e])}),i=new Lb({adapt:aa(t,t.adapt,o),data:Wc.init(t.constructor,t,o),computed:Rb(t,r(wu(t.constructor.prototype.computed),o.computed)),mappings:s.mappings,ractive:t,onchange:function(){return ml.addRactive(t)}}),t.viewmodel=i,i.init(),bp.init(t.constructor,t,o),Mb.fire(t),Hb.begin(t),t.template){var a=void 0;(s.cssIds||t.cssId)&&(a=s.cssIds?s.cssIds.slice():[],t.cssId&&a.push(t.cssId)),t.fragment=new yw({template:t.template,root:t,owner:t,cssIds:a})}if(Hb.end(t),n=e(t.el)){var u=t.render(n,t.append);Uw.DEBUG_PROMISES&&u["catch"](function(e){throw g("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:t}),e.stack&&d(e.stack),e})}}function aa(e,t,n){function r(t){return"string"==typeof t&&(t=v("adaptors",e,t),t||h(Fu(t,"adaptor"))),t}var i,o,s;if(t=t.map(r),i=L(n.adapt).map(r),i=ua(t,i),o="magic"in n?n.magic:e.magic,s="modifyArrays"in n?n.modifyArrays:e.modifyArrays,o){if(!nu)throw new Error("Getters and setters (magic mode) are not supported in this browser");s&&i.push(tb),i.push(eb)}return s&&i.push(Gy),i}function ua(e,t){for(var n=e.slice(),r=t.length;r--;)~n.indexOf(t[r])||n.push(t[r]);return n}function la(e,t){e._guid="r-"+Wb++,e._subs=wu(null),e._config={},e._twowayBindings=wu(null),e._animations=[],e.nodes={},e._liveQueries=[],e._liveComponentQueries=[],e._boundFunctions=[],e._observers=[],t.component?(e.parent=t.parent,e.container=t.container||null,e.root=e.parent.root,e.component=t.component,t.component.instance=e,e._inlinePartials=t.inlinePartials):(e.root=e,e.parent=e.container=null)}function ca(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function ha(e,t,n){this.parentFragment=e.parentFragment,this.callback=n,this.fragment=new yw({template:t,root:e.root,owner:this}),this.update()}function da(e,t,n){var r;return t.r?r=Up(e,t.r,n):t.x?r=new Kp(e,e.parentFragment,t.x,n):t.rx&&(r=new em(e,t.rx,n)),r}function fa(e){return 1===e.length&&e[0].t===Xc}function pa(e,t){var n;for(n in t)t.hasOwnProperty(n)&&ma(e.instance,e.root,n,t[n])}function ma(e,t,n,r){"string"!=typeof r&&h("Components currently only support simple events - you cannot include arguments. Sorry!"),e.on(n,function(){var e,n;return arguments.length&&arguments[0]&&arguments[0].node&&(e=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Wl(t,r,{event:e,args:n}),!1})}function ga(e,t){var n,r;if(!t)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=e.parentFragment,r=n.root,this.root=r,this.type=oh,this.name=e.template.e,this.index=e.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],$b(this,t,e.template.a,e.template.f,e.template.p),Ub(this,e.template.v),(e.template.t0||e.template.t1||e.template.t2||e.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Qb(this)}function va(e,t){function n(n){n.rebind(e,t)}var r;this.resolvers.forEach(n);for(var i in this.yielders)this.yielders[i][0]&&n(this.yielders[i][0]);(r=this.root._liveComponentQueries["_"+this.name])&&r._makeDirty()}function ya(){var e=this.instance;return e.render(this.parentFragment.getNode()),this.rendered=!0,e.fragment.detach()}function ba(){return this.instance.fragment.toString()}function wa(){var e=this.instance;this.resolvers.forEach(Q),xa(this),e._observers.forEach(G),e.fragment.unbind(),e.viewmodel.teardown(),e.fragment.rendered&&e.el.__ractive_instances__&&R(e.el.__ractive_instances__,e),Jb.fire(e)}function xa(e){var t,n;t=e.root;do(n=t._liveComponentQueries["_"+e.name])&&n._remove(e);while(t=t.parent)}function ka(e){this.shouldDestroy=e,this.instance.unrender()}function Ea(e){var t=this;this.owner=e.owner,this.parent=this.owner.parentFragment,this.root=e.root,this.pElement=e.pElement,this.context=e.context,this.index=e.index,this.key=e.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in e?e.cssIds:this.parent?this.parent.cssIds:null,this.items=e.template.map(function(n,r){return Ca({parentFragment:t,pElement:e.pElement,template:n,index:r})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Ca(e){if("string"==typeof e.template)return new Lp(e);switch(e.template.t){case sh:return new sw(e);case Xc:return new sm(e);case Kc:return new Sm(e);case Gc:return new Vm(e);case Jc:var t=void 0;return(t=Oy(e.parentFragment.root,e.template.e))?new nw(e,t):new by(e);case eh:return new jy(e);case th:return new iw(e);case uh:return new uw(e);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Ta(e,t){(!this.owner||this.owner.hasContext)&&k(this,"context",e,t),this.items.forEach(function(n){n.rebind&&n.rebind(e,t)})}function Sa(){var e;return 1===this.items.length?e=this.items[0].render():(e=document.createDocumentFragment(),this.items.forEach(function(t){e.appendChild(t.render())})),this.rendered=!0,e}function _a(e){return this.items?this.items.map(e?Na:Aa).join(""):""}function Aa(e){return e.toString()}function Na(e){return e.toString(!0)}function ja(){this.bound&&(this.items.forEach(Oa),this.bound=!1)}function Oa(e){e.unbind&&e.unbind()}function Da(e){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(t){return t.unrender(e)}),this.rendered=!1}function Pa(e){var t,n,r,i,o;if(e=e||{},"object"!=typeof e)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(e)===!1&&this.viewmodel.reset(e):this.viewmodel.reset(e),r=bp.reset(this),i=r.length;i--;)if(ww.indexOf(r[i])>-1){o=!0;break}if(o){var s=void 0;this.viewmodel.mark(Qu),(s=this.component)&&(s.shouldDestroy=!0),this.unrender(),s&&(s.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new yw({template:this.template,root:this,owner:this})),t=this.render(this.el,this.anchor)}else t=ml.start(this,!0),this.viewmodel.mark(Qu),ml.end();return xw.fire(this,e),t}function La(e){var t,n;lp.init(null,this,{template:e}),t=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new yw({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=t}function Fa(e,t){var n,r;if(r=ml.start(this,!0),l(e)){n=e;for(e in n)n.hasOwnProperty(e)&&(t=n[e],Ra(this,e,t))}else Ra(this,e,t);return ml.end(),r}function Ra(e,t,n){t=C(_(t)),t.isPattern?T(e,t).forEach(function(t){e.viewmodel.set(t,n)}):e.viewmodel.set(t,n)}function Ia(e,t){return Xu(this,e,void 0===t?-1:-t)}function qa(){var e;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(G),this.fragment.rendered&&this.el.__ractive_instances__&&R(this.el.__ractive_instances__,this),this.shouldDestroy=!0,e=this.fragment.rendered?this.unrender():sl.resolve(),Ow.fire(this),this._boundFunctions.forEach(Ma),e}function Ma(e){delete e.fn[e.prop]}function Ha(e){var t=this;if("string"!=typeof e)throw new TypeError(Pu);var n=void 0;return/\*/.test(e)?(n={},T(this,C(_(e))).forEach(function(e){n[e.str]=!t.viewmodel.get(e)}),this.set(n)):this.set(e,!this.get(e))}function Wa(){return this.fragment.toString(!0)}function za(){var e,t;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),sl.resolve();for(e=ml.start(this,!0),t=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(t),R(this.el.__ractive_instances__,this),Fw.fire(this),ml.end(),e}function Ba(e){var t;return e=C(e)||Qu,t=ml.start(this,!0),this.viewmodel.mark(e),ml.end(),qw.fire(this,e),t}function Va(e,t){var n,r,i;if("string"!=typeof e||t){i=[];for(r in this._twowayBindings)(!e||C(r).equalsOrStartsWith(e))&&i.push.apply(i,this._twowayBindings[r])}else i=this._twowayBindings[e];return n=$a(this,i),this.set(n)}function $a(e,t){var n={},r=[];return t.forEach(function(e){var t,i;if(!e.radioName||e.element.node.checked){if(e.checkboxName)return void(r[e.keypath.str]||e.changed()||(r.push(e.keypath),r[e.keypath.str]=e));t=e.attribute.value,i=e.getValue(),P(t,i)||a(t,i)||(n[e.keypath.str]=i)}}),r.length&&r.forEach(function(e){var t,i,o;t=r[e.str],i=t.attribute.value,o=t.getValue(),P(i,o)||(n[e.str]=o)}),n}function Ua(e,t){return"function"==typeof t&&/_super/.test(e)}function Qa(e){for(var t={};e;)Xa(e,t),Ka(e,t),e=e._Parent!==Uw?e._Parent:!1;return t}function Xa(e,t){gp.forEach(function(n){Ga(n.useDefaults?e.prototype:e,t,n.name)})}function Ga(e,t,n){var r,i=Object.keys(e[n]);i.length&&((r=t[n])||(r=t[n]={}),i.filter(function(e){return!(e in r)}).forEach(function(t){return r[t]=e[n][t]}))}function Ka(e,t){Object.keys(e.prototype).forEach(function(n){if("computed"!==n){var r=e.prototype[n];if(n in t){if("function"==typeof t[n]&&"function"==typeof r&&t[n]._method){var i=void 0,o=r._method;o&&(r=r._method),i=Ww(t[n]._method,r),o&&(i._method=i),t[n]=i}}else t[n]=r._method?r._method:r}})}function Za(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.length?t.reduce(Ya,this):Ya(this)}function Ya(e){var t,n,i=void 0===arguments[1]?{}:arguments[1];return i.prototype instanceof Uw&&(i=zw(i)),t=function(e){return this instanceof t?void Bb(this,e):new t(e)},n=wu(e.prototype),n.constructor=t,ku(t,{defaults:{value:n},extend:{value:Za,writable:!0,configurable:!0},_Parent:{value:e}}),bp.extend(e,n,i),Wc.extend(e,n,i),i.computed&&(n.computed=r(wu(e.prototype.computed),i.computed)),t.prototype=n,t}var Ja,eu,tu,nu,ru,iu,ou,su=3,au={el:void 0,append:!1,template:{v:su,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},uu=au,lu={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}};Ja="object"==typeof document,eu="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),tu="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),nu=!0}catch(cu){nu=!1}ru={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},iu="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),ou=["o","ms","moz","webkit"];var hu,du,fu,pu,mu,gu,vu,yu,bu;if(hu=iu?function(e,t){return t&&t!==ru.html?document.createElementNS(t,e):document.createElement(e)}:function(e,t){if(t&&t!==ru.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(e)},Ja){for(fu=hu("div"),pu=["matches","matchesSelector"],bu=function(e){return function(t,n){return t[e](n)}},vu=pu.length;vu--&&!du;)if(mu=pu[vu],fu[mu])du=bu(mu);else for(yu=ou.length;yu--;)if(gu=ou[vu]+mu.substr(0,1).toUpperCase()+mu.substring(1),fu[gu]){du=bu(gu);break}du||(du=function(e,t){var n,r,i;for(r=e.parentNode,r||(fu.innerHTML="",r=fu,e=e.cloneNode(),fu.appendChild(e)),n=r.querySelectorAll(t),i=n.length;i--;)if(n[i]===e)return!0;return!1})}else du=null;var wu,xu,ku,Eu=null;try{Object.defineProperty({},"test",{value:0}),Ja&&Object.defineProperty(document.createElement("div"),"test",{value:0}),xu=Object.defineProperty}catch(Cu){xu=function(e,t,n){e[t]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Cu){throw Cu}Ja&&Object.defineProperties(hu("div"),{test:{value:0}}),ku=Object.defineProperties}catch(Cu){ku=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&xu(e,n,t[n])}}try{Object.create(null),wu=Object.create}catch(Cu){wu=function(){var e=function(){};return function(t,n){var r;return null===t?{}:(e.prototype=t,r=new e,n&&Object.defineProperties(r,n),r)}}()}var Tu,Su,_u,Au=Object.prototype.hasOwnProperty,Nu=Object.prototype.toString,ju=/^\[object (?:Array|FileList)\]$/,Ou=function(){},Du={};tu?!function(){var e=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],t="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";_u=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,e),console.log(t),n&&console.groupEnd(e),_u=Ou},Su=function(e,t){if(_u(),"object"==typeof t[t.length-1]){var n=t.pop(),r=n?n.ractive:null;if(r){var i=void 0;r.component&&(i=r.component.name)&&(e="<"+i+"> "+e);var o=void 0;(o=n.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&t.push(o)}}console.warn.apply(console,["%cRactive.js: %c"+e,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(t))},Tu=function(){console.log.apply(console,arguments)}}():Su=Tu=_u=Ou;var Pu="Bad arguments",Lu='A function was specified for "%s" %s, but no %s was returned',Fu=function(e,t){return'Missing "'+e+'" '+t+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+t+"s"},Ru=function(e,t,n,r){if(e===t)return b(t);if(r){var i=v("interpolators",n,r);if(i)return i(e,t)||b(t);h(Fu(r,"interpolator"))}return Mu.number(e,t)||Mu.array(e,t)||Mu.object(e,t)||b(t)},Iu=Ru,qu={number:function(e,t){var n;return u(e)&&u(t)?(e=+e,t=+t,n=t-e,n?function(t){return e+t*n}:function(){return e}):null},array:function(e,t){var n,r,i,s;if(!o(e)||!o(t))return null;for(n=[],r=[],s=i=Math.min(e.length,t.length);s--;)r[s]=Iu(e[s],t[s]);for(s=i;s<e.length;s+=1)n[s]=e[s];for(s=i;s<t.length;s+=1)n[s]=t[s];return function(e){for(var t=i;t--;)n[t]=r[t](e);return n}},object:function(e,t){var n,r,i,o,s;if(!l(e)||!l(t))return null;n=[],o={},i={};for(s in e)Au.call(e,s)&&(Au.call(t,s)?(n.push(s),i[s]=Iu(e[s],t[s])):o[s]=e[s]);for(s in t)Au.call(t,s)&&!Au.call(e,s)&&(o[s]=t[s]);return r=n.length,function(e){for(var t,s=r;s--;)t=n[s],o[t]=i[t](e);return o}}},Mu=qu,Hu=w,Wu={},zu=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Bu=/\*/,Vu={},$u=function(e){var t=e.split(".");this.str=e,"@"===e[0]&&(this.isSpecial=!0,this.value=E(e)),this.firstKey=t[0],this.lastKey=t.pop(),this.isPattern=Bu.test(e),this.parent=""===e?null:C(t.join(".")),this.isRoot=!e};$u.prototype={equalsOrStartsWith:function(e){return e===this||this.startsWith(e)},join:function(e){return C(this.isRoot?String(e):this.str+"."+e)},replace:function(e,t){return this===e?t:this.startsWith(e)?null===t?t:C(this.str.replace(e.str+".",t.str+".")):void 0},startsWith:function(e){return e?e&&this.str.substr(0,e.str.length+1)===e.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Hu(this.str))}};var Uu,Qu=C(""),Xu=A,Gu="Cannot add to a non-numeric value",Ku=N;"undefined"==typeof window?Uu=null:(!function(e,t,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<e.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(e){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-t)),o=i(function(){e(n+r)},r),t=n+r,o})}}(ou,0,window),Uu=window.requestAnimationFrame);var Zu,Yu=Uu;Zu="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Ju=Zu,el={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};j.prototype.fire=function(e,t){function n(n){return e[n]?(t?e[n](t):e[n](),!0):void 0}n(this.method),!e[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),t?e.fire(this.event,t):e.fire(this.event)};var tl,nl=j,rl={},il={},ol={};"function"==typeof Promise?tl=Promise:(tl=function(e){var t,n,r,i,o,s,a=[],u=[],l=rl;r=function(e){return function(r){l===rl&&(t=r,l=e,n=M(l===il?a:u,t),q(n))}},i=r(il),o=r(ol);try{e(i,o)}catch(c){o(c)}return s={then:function(e,t){var r=new tl(function(i,o){var s=function(e,t,n){t.push("function"==typeof e?function(t){var n;try{n=e(t),H(r,n,i,o)}catch(s){o(s)}}:n)};s(e,a,i),s(t,u,o),l!==rl&&q(n)});return r}},s["catch"]=function(e){return this.then(null,e)},s},tl.all=function(e){return new tl(function(t,n){var r,i,o,s=[];if(!e.length)return void t(s);for(o=function(e,i){e&&"function"==typeof e.then?e.then(function(e){s[i]=e,--r||t(s)},n):(s[i]=e,--r||t(s))},r=i=e.length;i--;)o(e[i],i)})},tl.resolve=function(e){return new tl(function(t){t(e)})},tl.reject=function(e){return new tl(function(t,n){n(e)})});var sl=tl,al=function(e){do if(void 0!==e.context)return e.context;while(e=e.parent);return Qu},ul=W,ll=function(e,t){this.callback=e,this.parent=t,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,t&&t.addChild(this)};ll.prototype={addChild:function(e){this.children.push(e),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Y(this)},decrementTotal:function(){this.totalChildren-=1,Y(this)},add:function(e){var t=e.isIntro?this.intros:this.outros;t.push(e)},addDecorator:function(e){this.decoratorQueue.push(e)},remove:function(e){var t=e.isIntro?this.intros:this.outros;R(t,e),Y(this)},init:function(){this.ready=!0,Y(this)},detachNodes:function(){this.decoratorQueue.forEach(U),this.detachQueue.forEach(K),this.children.forEach(Z)}};var cl,hl,dl=ll,fl=[],pl=new nl("change");hl={start:function(e,t){var n,r;return t&&(n=new sl(function(e){return r=e})),cl={previousBatch:cl,transitionManager:new dl(r,cl&&cl.transitionManager),views:[],tasks:[],ractives:[],instance:e},e&&cl.ractives.push(e),n},end:function(){J(),cl.transitionManager.init(),!cl.previousBatch&&cl.instance&&(cl.instance.viewmodel.changes=[]),cl=cl.previousBatch},addRactive:function(e){cl&&O(cl.ractives,e)},registerTransition:function(e){e._manager=cl.transitionManager,cl.transitionManager.add(e)},registerDecorator:function(e){cl.transitionManager.addDecorator(e)},addView:function(e){cl.views.push(e)},addUnresolved:function(e){fl.push(e)},removeUnresolved:function(e){R(fl,e)},detachWhenReady:function(e){cl.transitionManager.detachQueue.push(e)},scheduleTask:function(e,t){var n;if(cl){for(n=cl;t&&n.previousBatch;)n=n.previousBatch;n.tasks.push(e)}else e()}};var ml=hl,gl=[],vl={tick:function(){var e,t,n;for(n=Ju(),ml.start(),e=0;e<gl.length;e+=1)t=gl[e],t.tick(n)||gl.splice(e--,1);ml.end(),gl.length?Yu(vl.tick):vl.running=!1},add:function(e){gl.push(e),vl.running||(vl.running=!0,Yu(vl.tick))},abort:function(e,t){for(var n,r=gl.length;r--;)n=gl[r],n.root===t&&n.keypath===e&&n.stop()}},yl=vl,bl=function(e){var t;this.startTime=Date.now();for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.interpolator=Iu(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};bl.prototype={tick:function(){var e,t,n,r,i,o;return o=this.keypath,this.running?(r=Date.now(),e=r-this.startTime,e>=this.duration?(null!==o&&(ml.start(this.root),this.root.viewmodel.set(o,this.to),ml.end()),this.step&&this.step(1,this.to),this.complete(this.to),i=this.root._animations.indexOf(this),-1===i&&m("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(t=this.easing?this.easing(e/this.duration):e/this.duration,null!==o&&(n=this.interpolator(t),ml.start(this.root),this.root.viewmodel.set(o,n),ml.end()),this.step&&this.step(t,n),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&m("Animation was not found"),this.root._animations.splice(e,1)}};var wl=bl,xl=nt,kl={stop:Ou},El=it,Cl=new nl("detach"),Tl=ot,Sl=st,_l=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],t=this.selector,n=e.indexOf(t),-1!==n&&(e.splice(n,1),e[t]=null)},Al=function(e,t){var n,r,i,o,s,a,u,l,c,h;for(n=ut(e.component||e._ractive.proxy),r=ut(t.component||t._ractive.proxy),i=F(n),o=F(r);i&&i===o;)n.pop(),r.pop(),s=i,i=F(n),o=F(r);if(i=i.component||i,o=o.component||o,c=i.parentFragment,h=o.parentFragment,c===h)return a=c.items.indexOf(i),u=h.items.indexOf(o),a-u||n.length-r.length;if(l=s.fragments)return a=l.indexOf(c),u=l.indexOf(h),a-u||n.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Nl=function(e,t){var n;return e.compareDocumentPosition?(n=e.compareDocumentPosition(t),2&n?1:-1):Al(e,t)},jl=function(){this.sort(this._isComponentQuery?Al:Nl),this._dirty=!1},Ol=function(){var e=this;this._dirty||(this._dirty=!0,ml.scheduleTask(function(){e._sort()}))},Dl=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);-1!==t&&this.splice(t,1)},Pl=lt,Ll=ct,Fl=ht,Rl=dt,Il=ft,ql=pt,Ml={enqueue:function(e,t){e.event&&(e._eventQueue=e._eventQueue||[],e._eventQueue.push(e.event)),e.event=t},dequeue:function(e){e._eventQueue&&e._eventQueue.length?e.event=e._eventQueue.pop():delete e.event}},Hl=Ml,Wl=mt,zl=yt,Bl=bt,Vl={capture:!0,noUnwrap:!0,fullRootGet:!0},$l=wt,Ul=new nl("insert"),Ql=kt,Xl=function(e,t,n,r){this.root=e,this.keypath=t,this.callback=n,this.defer=r.defer,this.context=r&&r.context?r.context:e};Xl.prototype={init:function(e){this.value=this.root.get(this.keypath.str),e!==!1?this.update():this.oldValue=this.value},setValue:function(e){var t=this;a(e,this.value)||(this.value=e,this.defer&&this.ready?ml.scheduleTask(function(){return t.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)
}};var Gl,Kl=Xl,Zl=Et,Yl=Array.prototype.slice;Gl=function(e,t,n,r){this.root=e,this.callback=n,this.defer=r.defer,this.keypath=t,this.regex=new RegExp("^"+t.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:e},Gl.prototype={init:function(e){var t,n;if(t=Zl(this.root,this.keypath),e!==!1)for(n in t)t.hasOwnProperty(n)&&this.update(C(n));else this.values=t},update:function(e){var t,n=this;if(e.isPattern){t=Zl(this.root,e);for(e in t)t.hasOwnProperty(e)&&this.update(C(e))}else if(!this.root.viewmodel.implicitChanges[e.str])return this.defer&&this.ready?void ml.scheduleTask(function(){return n.getProxy(e).update()}):void this.reallyUpdate(e)},reallyUpdate:function(e){var t,n,r,i;return t=e.str,n=this.root.viewmodel.get(e),this.updating?void(this.values[t]=n):(this.updating=!0,a(n,this.values[t])&&this.ready||(r=Yl.call(this.regex.exec(t),1),i=[n,this.values[t],t].concat(r),this.values[t]=n,this.callback.apply(this.context,i)),void(this.updating=!1))},getProxy:function(e){var t=this;return this.proxies[e.str]||(this.proxies[e.str]={update:function(){return t.reallyUpdate(e)}}),this.proxies[e.str]}};var Jl,ec,tc,nc,rc,ic,oc=Gl,sc=Ct,ac={},uc=Tt,lc=St,cc=function(e){return e.trim()},hc=function(e){return""!==e},dc=_t,fc=At,pc=Nt,mc=jt,gc=Array.prototype,vc=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];var s,a,u,l,c=[];if(t=C(_(t)),s=this.viewmodel.get(t),a=s.length,!o(s))throw new Error("Called ractive."+e+"('"+t.str+"'), but '"+t.str+"' does not refer to an array");return c=mc(s,e,r),l=gc[e].apply(s,r),u=ml.start(this,!0).then(function(){return l}),c?this.viewmodel.smartUpdate(t,s,c):this.viewmodel.mark(t),ml.end(),u}},yc=vc("pop"),bc=vc("push"),wc="/* Ractive.js component styles */\n",xc=[],kc=!1;Ja?(tc=document.createElement("style"),tc.type="text/css",nc=document.getElementsByTagName("head")[0],ic=!1,rc=tc.styleSheet,ec=function(){var e=wc+xc.map(function(e){return"\n/* {"+e.id+"} */\n"+e.styles}).join("\n");rc?rc.cssText=e:tc.innerHTML=e,ic||(nc.appendChild(tc),ic=!0)},Jl={add:function(e){xc.push(e),kc=!0},apply:function(){kc&&(ec(),kc=!1)}}):Jl={add:Ou,apply:Ou};var Ec,Cc,Tc=Jl,Sc=Dt,_c=new nl("render"),Ac=new nl("complete"),Nc={extend:function(e,t,n){t.adapt=Lt(t.adapt,L(n.adapt))},init:function(){}},jc=Nc,Oc=Ft,Dc=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Pc=/\/\*.*?\*\//g,Lc=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Fc=/^@media/,Rc=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Ic=1,qc={name:"css",extend:function(e,t,n){if(n.css){var r=Ic++,i=n.noCssTransform?n.css:Oc(n.css,r);t.cssId=r,Tc.add({id:r,styles:i})}},init:function(){}},Mc=qc,Hc={name:"data",extend:function(e,t,n){var r=void 0,i=void 0;if(n.data&&l(n.data))for(r in n.data)i=n.data[r],i&&"object"==typeof i&&(l(i)||o(i))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");t.data=Mt(t.data,n.data)},init:function(e,t,n){var r=Mt(e.prototype.data,n.data);return"function"==typeof r&&(r=r.call(t)),r||{}},reset:function(e){var t=this.init(e.constructor,e,e.viewmodel);return e.viewmodel.reset(t),!0}},Wc=Hc,zc=/^\s+/;Cc=function(e){this.name="ParseError",this.message=e;try{throw new Error(e)}catch(t){this.stack=t.stack}},Cc.prototype=Error.prototype,Ec=function(e,t){var n,r,i=0;for(this.str=e,this.options=t||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(e){var t=i+e.length+1;return i=t,t},0),this.init&&this.init(e,t),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,t):n},Ec.prototype={read:function(e){var t,n,r,i;for(e||(e=this.converters),t=this.pos,r=e.length,n=0;r>n;n+=1)if(this.pos=t,i=e[n](this))return i;return null},getLinePos:function(e){for(var t,n=0,r=0;e>=this.lineEnds[n];)r=this.lineEnds[n],n+=1;return t=e-r,[n+1,t+1,e]},error:function(e){var t=this.getLinePos(this.pos),n=t[0],r=t[1],i=this.lines[t[0]-1],o=0,s=i.replace(/\t/g,function(e,n){return n<t[1]&&(o+=1),"  "})+"\n"+new Array(t[1]+o).join(" ")+"^----",a=new Cc(""+e+" at line "+n+" character "+r+":\n"+s);throw a.line=t[0],a.character=t[1],a.shortMessage=e,a},matchString:function(e){return this.str.substr(this.pos,e.length)===e?(this.pos+=e.length,e):void 0},matchPattern:function(e){var t;return(t=e.exec(this.remaining()))?(this.pos+=t[0].length,t[1]||t[0]):void 0},allowWhitespace:function(){this.matchPattern(zc)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Ec.extend=function(e){var t,n,r=this;t=function(e,t){Ec.call(this,e,t)},t.prototype=wu(r.prototype);for(n in e)Au.call(e,n)&&(t.prototype[n]=e[n]);return t.extend=Ec.extend,t};var Bc,Vc,$c,Uc=Ec,Qc=1,Xc=2,Gc=3,Kc=4,Zc=5,Yc=6,Jc=7,eh=8,th=9,nh=10,rh=13,ih=14,oh=15,sh=16,ah=17,uh=18,lh=20,ch=21,hh=22,dh=23,fh=24,ph=25,mh=26,gh=27,vh=30,yh=31,bh=32,wh=33,xh=34,kh=35,Eh=36,Ch=40,Th=50,Sh=51,_h=52,Ah=53,Nh=54,jh=60,Oh=61,Dh=zt,Ph=/^[^\s=]+/,Lh=/^\s+/,Fh=Bt,Rh=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Ih=Vt,qh={t:nh,exclude:!0},Mh="Expected a JavaScript expression",Hh="Expected closing paren",Wh=Ut,zh=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Bh=Qt;Bc=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Vc=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,$c=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Vh,$h,Uh=function(e){return function(t){var n,r,i,o;for(n=t.pos,r='"',i=!1;!i;)o=t.matchPattern(Bc)||t.matchPattern(Vc)||t.matchString(e),o?r+='"'===o?'\\"':"\\'"===o?"'":o:(o=t.matchPattern($c),o?r+="\\u"+("000"+o.charCodeAt(1).toString(16)).slice(-4):i=!0);return r+='"',JSON.parse(r)}},Qh=Uh('"'),Xh=Uh("'"),Gh=function(e){var t,n;return t=e.pos,e.matchString('"')?(n=Xh(e),e.matchString('"')?{t:ch,v:n}:(e.pos=t,null)):e.matchString("'")?(n=Qh(e),e.matchString("'")?{t:ch,v:n}:(e.pos=t,null)):null},Kh=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Zh=Xt,Yh=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Jh=Gt,ed=Kt,td=function(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("{")?(n=ed(e),e.allowWhitespace(),e.matchString("}")?{t:dh,m:n}:(e.pos=t,null)):(e.pos=t,null)},nd=Zt,rd=function(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("[")?(n=nd(e),e.matchString("]")?{t:hh,m:n}:(e.pos=t,null)):(e.pos=t,null)},id=Yt,od=Jt,sd=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Vh=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,$h=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var ad,ud,ld=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,cd=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,hd=en,dd=function(e){return id(e)||od(e)||hd(e)},fd=tn,pd=function(e){var t,n,r,i;if(n=dd(e),!n)return null;for(;n;)if(t=e.pos,r=fd(e))n={t:bh,x:n,r:r};else{if(!e.matchString("("))break;e.allowWhitespace(),i=nd(e),e.allowWhitespace(),e.matchString(")")||e.error(Hh),n={t:Ch,x:n},i&&(n.o=i)}return n};ud=function(e,t){return function(n){var r;return(r=t(n))?r:n.matchString(e)?(n.allowWhitespace(),r=Ad(n),r||n.error(Mh),{s:e,o:r,t:wh}):null}},function(){var e,t,n,r,i;for(r="! ~ + - typeof".split(" "),i=pd,e=0,t=r.length;t>e;e+=1)n=ud(r[e],i),i=n;ad=i}();var md,gd,vd=ad;gd=function(e,t){return function(n){var r,i,o;if(i=t(n),!i)return null;for(;;){if(r=n.pos,n.allowWhitespace(),!n.matchString(e))return n.pos=r,i;if("in"===e&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=r,i;if(n.allowWhitespace(),o=t(n),!o)return n.pos=r,i;i={t:Eh,s:e,o:[i,o]}}}},function(){var e,t,n,r,i;for(r="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),i=vd,e=0,t=r.length;t>e;e+=1)n=gd(r[e],i),i=n;md=i}();var yd,bd,wd,xd,kd,Ed,Cd,Td,Sd=md,_d=nn,Ad=rn,Nd=on,jd=an,Od=/^[0-9][1-9]*$/,Dd=ln,Pd=cn,Ld=hn,Fd=dn,Rd=fn,Id=pn,qd=mn,Md=/^yield\s*/,Hd=gn,Wd=vn,zd=/^\s*else\s*/,Bd=yn,Vd=/^\s*elseif\s+/,$d={each:_h,"if":Th,"if-with":Nh,"with":Ah,unless:Sh},Ud=bn,Qd=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Xd=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Gd=new RegExp("^("+Object.keys($d).join("|")+")\\b"),Kd=Cn,Zd="<!--",Yd="-->";yd=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,bd=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,wd={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},xd=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],kd=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(wd).join("|")+"));?","g"),Ed=/</g,Cd=/>/g,Td=/&/g;var Jd,ef,tf,nf,rf,of,sf,af=/^\s*\r?\n/,uf=/\r?\n\s*$/,lf=function(e){var t,n,r,i,o;for(t=1;t<e.length;t+=1)n=e[t],r=e[t-1],i=e[t-2],An(n)&&Nn(r)&&An(i)&&uf.test(i)&&af.test(n)&&(e[t-2]=i.replace(uf,"\n"),e[t]=n.replace(af,"")),jn(n)&&An(r)&&uf.test(r)&&An(n.f[0])&&af.test(n.f[0])&&(e[t-1]=r.replace(uf,"\n"),n.f[0]=n.f[0].replace(af,"")),An(n)&&jn(r)&&(o=F(r.f),An(o)&&uf.test(o)&&af.test(n)&&(r.f[r.f.length-1]=o.replace(uf,"\n"),e[t]=n.replace(af,"")));return e},cf=function(e,t,n){var r;t&&(r=e[0],"string"==typeof r&&(r=r.replace(t,""),r?e[0]=r:e.shift())),n&&(r=F(e),"string"==typeof r&&(r=r.replace(n,""),r?e[e.length-1]=r:e.pop()))},hf=On,df=/[ \t\f\r\n]+/g,ff=/^(?:pre|script|style|textarea)$/i,pf=/^[ \t\f\r\n]+/,mf=/[ \t\f\r\n]+$/,gf=/^(?:\r\n|\r|\n)/,vf=/(?:\r\n|\r|\n)$/,yf=Dn,bf=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,wf=function(e,t){var n,r,i;for(n=t.length;n--;){if(r=e.indexOf(t[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},xf=Pn,kf=/^[^\s"'>\/=]+/,Ef=/^[^\s"'=<>`]+/;ef={"true":!0,"false":!1,undefined:void 0,"null":null},tf=new RegExp("^(?:"+Object.keys(ef).join("|")+")"),nf=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,rf=/\$\{([^\}]+)\}/g,of=/^\$\{([^\}]+)\}/,sf=/^\s*$/,Jd=Uc.extend({init:function(e,t){this.values=t.values,this.allowWhitespace()},postProcess:function(e){return 1===e.length&&sf.test(this.leftover)?{value:e[0].v}:null},converters:[function(e){var t;return e.values?(t=e.matchPattern(of),t&&e.values.hasOwnProperty(t)?{v:e.values[t]}:void 0):null},function(e){var t;return(t=e.matchPattern(tf))?{v:ef[t]}:void 0},function(e){var t;return(t=e.matchPattern(nf))?{v:+t}:void 0},function(e){var t,n=Gh(e);return n&&(t=e.values)?{v:n.v.replace(rf,function(e,n){return n in t?t[n]:n})}:n},function(e){var t,n;if(!e.matchString("{"))return null;if(t={},e.allowWhitespace(),e.matchString("}"))return{v:t};for(;n=Mn(e);){if(t[n.key]=n.value,e.allowWhitespace(),e.matchString("}"))return{v:t};if(!e.matchString(","))return null}return null},function(e){var t,n;if(!e.matchString("["))return null;if(t=[],e.allowWhitespace(),e.matchString("]"))return{v:t};for(;n=e.read();){if(t.push(n.v),e.allowWhitespace(),e.matchString("]"))return{v:t};if(!e.matchString(","))return null;e.allowWhitespace()}return null}]});var Cf,Tf=function(e,t){var n=new Jd(e,{values:t});return n.result},Sf=Hn,_f=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Af=/\)\s*$/;Cf=Uc.extend({converters:[Ad]});var Nf,jf=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Of=/^[\s\n\/>]/,Df=/^on/,Pf=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Lf=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Ff={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Rf={exclude:!0};Nf={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var If,qf=Wn,Mf=Bn,Hf=Vn,Wf=/[-/\\^$*+?.()|[\]{}]/g,zf=$n,Bf=/^<!--\s*/,Vf=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,$f=/\s*-->/,Uf=Un,Qf=/^#\s*partial\s+/,Xf=Qn,Gf=Xn,Kf=[Ld,Pd,Ud,qd,Id,Fd],Zf=[Dd],Yf=[Pd,Ud,Id],Jf=void 0,ep=[Ih,Kd,qf,Mf],tp=[zf,Uf];Jf=Uc.extend({init:function(e,t){var n=t.tripleDelimiters||["{{{","}}}"],r=t.staticDelimiters||["[[","]]"],i=t.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=t.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Kf},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Zf},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:Yf},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:Zf}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!t.interpolate||t.interpolate.script!==!1,style:!t.interpolate||t.interpolate.style!==!1},t.sanitize===!0&&(t.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=t.stripComments!==!1,this.preserveWhitespace=t.preserveWhitespace,this.sanitizeElements=t.sanitize&&t.sanitize.elements,this.sanitizeEventAttributes=t.sanitize&&t.sanitize.eventAttributes,this.includeLinePositions=t.includeLinePositions},postProcess:function(e){return e.length?(this.sectionDepth>0&&this.error("A section was left open"),hf(e[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),e[0]):{t:[],v:su}},converters:[Xf],sortMustacheTags:function(){this.tags.sort(function(e,t){return t.open.length-e.open.length})}});var np,rp,ip,op=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],sp={fromId:Zn,isHashedId:Yn,isParsed:Jn,getParseOptions:er,createHelper:Gn,parse:Kn},ap=sp,up={name:"template",extend:function(e,t,n){var r;"template"in n&&(r=n.template,t.template="function"==typeof r?r:ir(r,t))},init:function(e,t,n){var r,i;r="template"in n?n.template:e.prototype.template,"function"==typeof r&&(i=r,r=nr(t,i),t._config.template={fn:i,result:r}),r=ir(r,t),t.template=r.t,r.p&&or(t.partials,r.p)},reset:function(e){var t,n=tr(e);return n?(t=ir(n,e),e.template=t.t,or(e.partials,t.p,!0),!0):void 0}},lp=up;np=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],rp=function(e,t){this.name=e,this.useDefaults=t},rp.prototype={constructor:rp,extend:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,this.useDefaults?t:t.constructor,n)},init:function(){},configure:function(e,t,n){var r,i=this.name,o=n[i];r=wu(e[i]);for(var s in o)r[s]=o[s];t[i]=r},reset:function(e){var t=e[this.name],n=!1;return Object.keys(t).forEach(function(e){var r=t[e];r._fn&&(r._fn.isOwner?t[e]=r._fn:delete t[e],n=!0)}),n}},ip=np.map(function(e){return new rp(e,"computed"===e)});var cp,hp,dp,fp,pp,mp,gp=ip,vp=sr,yp=cr;fp={adapt:jc,css:Mc,data:Wc,template:lp},dp=Object.keys(uu),mp=fr(dp.filter(function(e){return!fp[e]})),pp=fr(dp.concat(gp.map(function(e){return e.name}))),hp=[].concat(dp.filter(function(e){return!gp[e]&&!fp[e]}),gp,fp.data,fp.template,fp.css),cp={extend:function(e,t,n){return hr("extend",e,t,n)},init:function(e,t,n){return hr("init",e,t,n)},reset:function(e){return hp.filter(function(t){return t.reset&&t.reset(e)}).map(function(e){return e.name})},order:hp};var bp=cp,wp=pr,xp=mr,kp=gr,Ep=vr,Cp=yr,Tp=br,Sp=wr,_p=xr,Ap=kr,Np=Er,jp=Cr,Op=Tr,Dp=function(){return t(this.node)},Pp=function(e){this.type=Qc,this.text=e.template};Pp.prototype={detach:Dp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(e){return e?_n(this.text):this.text},unrender:function(e){return e?this.detach():void 0}};var Lp=Pp,Fp=Sr,Rp=_r,Ip=function(e,t,n){var r;this.ref=t,this.resolved=!1,this.root=e.root,this.parentFragment=e.parentFragment,this.callback=n,r=ul(e.root,t,e.parentFragment),void 0!=r?this.resolve(r):ml.addUnresolved(this)};Ip.prototype={resolve:function(e){this.keypath&&!e&&ml.addUnresolved(this),this.resolved=!0,this.keypath=e,this.callback(e)},forceResolution:function(){this.resolve(C(this.ref))},rebind:function(e,t){var n;void 0!=this.keypath&&(n=this.keypath.replace(e,t),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||ml.removeUnresolved(this)}};var qp=Ip,Mp=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,this.rebind()},Hp={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Mp.prototype={rebind:function(){var e,t=this.ref,n=this.parentFragment,r=Hp[t];if(!r)throw new Error('Unknown special reference "'+t+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(C("@"+r.prefix+Ar(this.cached,r)));if(-1!==r.prop.indexOf("index")||-1!==r.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===_h&&void 0!==(e=Ar(n,r)))return this.cached=n,n.registerIndexRef(this),this.callback(C("@"+r.prefix+e));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(e=Ar(n,r)))return this.callback(C("@"+r.prefix+e.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Wp=Mp,zp=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,t.ref.fragment.registerIndexRef(this),this.rebind()};zp.prototype={rebind:function(){var e,t=this.ref.ref;e="k"===t.ref.t?"k"+t.fragment.key:"i"+t.fragment.index,void 0!==e&&this.callback(C("@"+e))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Bp=zp,Vp=Nr;Nr.resolve=function(e){var t,n,r={};for(t in e.refs)n=e.refs[t],r[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return r};var $p,Up=jr,Qp=Or,Xp={},Gp=Function.prototype.bind;$p=function(e,t,n,r){var i,o=this;i=e.root,this.root=i,this.parentFragment=t,this.callback=r,this.owner=e,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(e,t){return Up(o,e,function(e){o.resolve(t,e)})}),this.ready=!0,this.bubble()},$p.prototype={bubble:function(){this.ready&&(this.uniqueString=Pr(this.str,this.keypaths),this.keypath=Lr(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var e;e=this.refResolvers.pop();)e.unbind()},resolve:function(e,t){this.keypaths[e]=t,this.bubble()},createEvaluator:function(){var e,t,n,r,i,o=this;r=this.keypath,e=this.root.viewmodel.computations[r.str],e?this.root.viewmodel.mark(r):(i=Qp(this.str,this.refResolvers.length),t=this.keypaths.map(function(e){var t;return"undefined"===e?function(){return void 0}:e.isSpecial?(t=e.value,function(){return t}):function(){var t=o.root.viewmodel.get(e,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof t&&(t=Rr(t,o.root)),t}}),n={deps:this.keypaths.filter(Fr),getter:function(){var e=t.map(Dr);return i.apply(null,e)}},e=this.root.viewmodel.compute(r,n))},rebind:function(e,t){this.refResolvers.forEach(function(n){return n.rebind(e,t)})}};var Kp=$p,Zp=function(e,t,n){var r=this;this.resolver=t,this.root=t.root,this.parentFragment=n,this.viewmodel=t.root.viewmodel,"string"==typeof e?this.value=e:e.t===vh?this.refResolver=Up(this,e.n,function(e){r.resolve(e)}):new Kp(t,n,e,function(e){r.resolve(e)})};Zp.prototype={resolve:function(e){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=e,this.value=this.viewmodel.get(e),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(e,t){this.refResolver&&this.refResolver.rebind(e,t)},setValue:function(e){this.value=e,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Yp=Zp,Jp=function(e,t,n){var r,i,o,s,a=this;this.parentFragment=s=e.parentFragment,this.root=r=e.root,this.mustache=e,this.ref=i=t.r,this.callback=n,this.unresolved=[],(o=ul(r,i,s))?this.base=o:this.baseResolver=new qp(this,i,function(e){a.base=e,a.baseResolver=null,a.bubble()}),this.members=t.m.map(function(e){return new Yp(e,a,s)}),this.ready=!0,this.bubble()};Jp.prototype={getKeypath:function(){var e=this.members.map(Ir);return!e.every(qr)||this.baseResolver?null:this.base.join(e.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Q)},rebind:function(e,t){var n;if(this.base){var r=this.base.replace(e,t);r&&r!==this.base&&(this.base=r,n=!0)}this.members.forEach(function(r){r.rebind(e,t)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=C(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Mr),this.bubble()}};var em=Jp,tm=Hr,nm=Wr,rm=zr,im={getValue:Rp,init:tm,resolve:nm,rebind:rm},om=function(e){this.type=Xc,im.init(this,e)};om.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:im.resolve,rebind:im.rebind,detach:Dp,unbind:Fp,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(e){e&&t(this.node)},getValue:im.getValue,setValue:function(e){var t;this.keypath&&(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),a(e,this.value)||(this.value=e,this.parentFragment.bubble(),this.node&&ml.addView(this))},firstNode:function(){return this.node},toString:function(e){var t=""+n(this.value);return e?_n(t):t}};var sm=om,am=Br,um=Vr,lm=$r,cm=Ur,hm=Qr,dm=Xr,fm=Gr,pm=Kr,mm=Zr,gm=function(e,t){im.rebind.call(this,e,t)},vm=Jr,ym=ei,bm=hi,wm=di,xm=fi,km=gi,Em=function(e){this.type=Kc,this.subtype=this.currentSubtype=e.template.n,this.inverted=this.subtype===Sh,this.pElement=e.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],e.template.i&&(this.indexRefs=e.template.i.split(",").map(function(e,t){return{n:e,t:0===t?"k":"i"}})),this.renderedFragments=[],this.length=0,im.init(this,e)};Em.prototype={bubble:am,detach:um,find:lm,findAll:cm,findAllComponents:hm,findComponent:dm,findNextNode:fm,firstNode:pm,getIndexRef:function(e){if(this.indexRefs)for(var t=this.indexRefs.length;t--;){var n=this.indexRefs[t];if(n.n===e)return n}},getValue:im.getValue,shuffle:mm,rebind:gm,render:vm,resolve:im.resolve,setValue:ym,toString:bm,unbind:wm,unrender:xm,update:km};var Cm,Tm,Sm=Em,_m=vi,Am=yi,Nm=bi,jm=wi,Om={};try{hu("table").innerHTML="foo"}catch(Cu){Cm=!0,Tm={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Dm=function(e,t,n){var r,i,o,s,a,u=[];if(null!=e&&""!==e){for(Cm&&(i=Tm[t.tagName])?(r=xi("DIV"),r.innerHTML=i[0]+e+i[1],r=r.querySelector(".x"),"SELECT"===r.tagName&&(o=r.options[r.selectedIndex])):t.namespaceURI===ru.svg?(r=xi("DIV"),r.innerHTML='<svg class="x">'+e+"</svg>",r=r.querySelector(".x")):(r=xi(t.tagName),r.innerHTML=e,"SELECT"===r.tagName&&(o=r.options[r.selectedIndex]));s=r.firstChild;)u.push(s),n.appendChild(s);if("SELECT"===t.tagName)for(a=u.length;a--;)u[a]!==o&&(u[a].selected=!1)}return u},Pm=ki,Lm=Ci,Fm=Ti,Rm=Si,Im=_i,qm=Ai,Mm=function(e){this.type=Gc,im.init(this,e)};Mm.prototype={detach:_m,find:Am,findAll:Nm,firstNode:jm,getValue:im.getValue,rebind:im.rebind,render:Lm,resolve:im.resolve,setValue:Fm,toString:Rm,unbind:Fp,unrender:Im,update:qm};var Hm,Wm,zm,Bm,Vm=Mm,$m=function(){this.parentFragment.bubble()},Um=Ni,Qm=function(e){return this.node?du(this.node,e)?this.node:this.fragment&&this.fragment.find?this.fragment.find(e):void 0:null},Xm=function(e,t){t._test(this,!0)&&t.live&&(this.liveQueries||(this.liveQueries=[])).push(t),this.fragment&&this.fragment.findAll(e,t)},Gm=function(e,t){this.fragment&&this.fragment.findAllComponents(e,t)},Km=function(e){return this.fragment?this.fragment.findComponent(e):void 0},Zm=ji,Ym=Oi,Jm=Di,eg=/^true|on|yes|1$/i,tg=/^[0-9]+$/,ng=function(e,t){var n,r,i;return i=t.a||{},r={},n=i.twoway,void 0!==n&&(r.twoway=0===n||eg.test(n)),n=i.lazy,void 0!==n&&(r.lazy=0!==n&&tg.test(n)?parseInt(n):0===n||eg.test(n)),r},rg=Pi;Hm="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Wm="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),zm=function(e){for(var t={},n=e.length;n--;)t[e[n].toLowerCase()]=e[n];return t},Bm=zm(Hm.concat(Wm));var ig=function(e){var t=e.toLowerCase();return Bm[t]||t},og=function(e,t){var n,r;if(n=t.indexOf(":"),-1===n||(r=t.substr(0,n),"xmlns"===r))e.name=e.element.namespace!==ru.html?ig(t):t;else if(t=t.substring(n+1),e.name=ig(t),e.namespace=ru[r.toLowerCase()],e.namespacePrefix=r,!e.namespace)throw'Unknown namespace ("'+r+'")'},sg=Li,ag=Fi,ug=Ri,lg=Ii,cg={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},hg=qi,dg=Hi,fg=Wi,pg=zi,mg=Bi,gg=Vi,vg=$i,yg=Ui,bg=Qi,wg=Xi,xg=Gi,kg=Ki,Eg=Zi,Cg=Yi,Tg=Ji,Sg=function(e){this.init(e)};Sg.prototype={bubble:rg,init:ag,rebind:ug,render:lg,toString:hg,unbind:dg,update:Tg};var _g,Ag=Sg,Ng=function(e,t){var n,r,i=[];for(n in t)"twoway"!==n&&"lazy"!==n&&t.hasOwnProperty(n)&&(r=new Ag({element:e,name:n,value:t[n],root:e.root}),i[n]=r,"value"!==n&&i.push(r));return(r=i.value)&&i.push(r),i};"undefined"!=typeof document&&(_g=hu("div"));var jg=function(e,t){this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.attributes=[],this.fragment=new yw({root:e.root,owner:this,template:[t]})};jg.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(e,t){this.fragment.rebind(e,t)},render:function(e){this.node=e,this.isSvg=e.namespaceURI===ru.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var e,t,n=this;e=this.fragment.toString(),t=eo(e,this.isSvg),this.attributes.filter(function(e){return to(t,e)}).forEach(function(e){n.node.removeAttribute(e.name)}),t.forEach(function(e){n.node.setAttribute(e.name,e.value)}),this.attributes=t},toString:function(){return this.fragment.toString()}};var Og=jg,Dg=function(e,t){return t?t.map(function(t){return new Og(e,t)}):[]},Pg=function(e){var t,n,r,i;if(this.element=e,this.root=e.root,this.attribute=e.attributes[this.name||"value"],t=this.attribute.interpolator,t.twowayBinding=this,n=t.keypath){if("}"===n.str.slice(-1))return g("Two-way binding does not work with expressions (`%s` on <%s>)",t.resolver.uniqueString,e.name,{ractive:this.root}),!1;if(n.isSpecial)return g("Two-way binding does not work with %s",t.resolver.ref,{ractive:this.root}),!1}else{var o=t.template.r?"'"+t.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",o,{ractive:this.root}),t.resolver.forceResolution(),n=t.keypath}this.attribute.isTwoway=!0,this.keypath=n,r=this.root.viewmodel.get(n),void 0===r&&this.getInitialValue&&(r=this.getInitialValue(),void 0!==r&&this.root.viewmodel.set(n,r)),(i=no(e))&&(this.resetValue=r,i.formBindings.push(this))};Pg.prototype={handleChange:function(){var e=this;ml.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),ml.scheduleTask(function(){return e.attribute.locked=!1}),ml.end()},rebound:function(){var e,t,n;t=this.keypath,n=this.attribute.interpolator.keypath,t!==n&&(R(this.root._twowayBindings[t.str],this),this.keypath=n,e=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),e.push(this))},unbind:function(){}},Pg.extend=function(e){var t,n=this;return t=function(e){Pg.call(this,e),this.init&&this.init()},t.prototype=wu(n.prototype),r(t.prototype,e),t.extend=Pg.extend,t};var Lg,Fg=Pg,Rg=ro;Lg=Fg.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var e,t=this.element.node,n=!1;
this.rendered=!0,e=this.root.lazy,this.element.lazy===!0?e=!0:this.element.lazy===!1?e=!1:u(this.element.lazy)?(e=!1,n=+this.element.lazy):u(e||"")&&(n=+e,e=!1,this.element.lazy=n),this.handler=n?oo:Rg,t.addEventListener("change",Rg,!1),e||(t.addEventListener("input",this.handler,!1),t.attachEvent&&t.addEventListener("keyup",this.handler,!1)),t.addEventListener("blur",io,!1)},unrender:function(){var e=this.element.node;this.rendered=!1,e.removeEventListener("change",Rg,!1),e.removeEventListener("input",this.handler,!1),e.removeEventListener("keyup",this.handler,!1),e.removeEventListener("blur",io,!1)}});var Ig=Lg,qg=Ig.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),Mg=qg,Hg=so,Wg={},zg=Fg.extend({name:"checked",init:function(){this.siblings=Hg(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var e=this.element.node;e.addEventListener("change",Rg,!1),e.attachEvent&&e.addEventListener("click",Rg,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Rg,!1),e.removeEventListener("click",Rg,!1)},handleChange:function(){ml.start(this.root),this.siblings.forEach(function(e){e.root.viewmodel.set(e.keypath,e.getValue())}),ml.end()},getValue:function(){return this.element.node.checked},unbind:function(){R(this.siblings,this)}}),Bg=zg,Vg=Fg.extend({name:"name",init:function(){this.siblings=Hg(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var e=this.element.node;e.name="{{"+this.keypath.str+"}}",e.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),e.addEventListener("change",Rg,!1),e.attachEvent&&e.addEventListener("click",Rg,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Rg,!1),e.removeEventListener("click",Rg,!1)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){this.element.node.checked&&Fg.prototype.handleChange.call(this)},rebound:function(e,t){var n;Fg.prototype.rebound.call(this,e,t),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){R(this.siblings,this)}}),$g=Vg,Ug=Fg.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var e,t;this.checkboxName=!0,this.siblings=Hg(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),e.push(t))},unbind:function(){R(this.siblings,this)},render:function(){var e,t,n=this.element.node;e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),this.isChecked=o(e)?D(e,t):e==t,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Rg,!1),n.attachEvent&&n.addEventListener("click",Rg,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Rg,!1),e.removeEventListener("click",Rg,!1)},changed:function(){var e=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===e},handleChange:function(){this.isChecked=this.element.node.checked,Fg.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ao).map(uo)}}),Qg=Ug,Xg=Fg.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",Rg,!1),e.attachEvent&&e.addEventListener("click",Rg,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Rg,!1),e.removeEventListener("click",Rg,!1)},getValue:function(){return this.element.node.checked}}),Gg=Xg,Kg=Fg.extend({getInitialValue:function(){var e,t,n,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(t=e=i.length,e)){for(;t--;)if(i[t].getAttribute("selected")){n=i[t].getAttribute("value"),r=!0;break}if(!r)for(;++t<e;)if(!i[t].getAttribute("disabled")){n=i[t].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Rg,!1)},unrender:function(){this.element.node.removeEventListener("change",Rg,!1)},setValue:function(e){this.root.viewmodel.set(this.keypath,e)},getValue:function(){var e,t,n,r,i;for(e=this.element.node.options,n=e.length,t=0;n>t;t+=1)if(r=e[t],e[t].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var e=this,t=this.getValue();void 0!==t&&(this.attribute.locked=!0,ml.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,t))}}),Zg=Kg,Yg=Zg.extend({getInitialValue:function(){return this.element.options.filter(function(e){return e.getAttribute("selected")}).map(function(e){return e.getAttribute("value")})},render:function(){var e;this.element.node.addEventListener("change",Rg,!1),e=this.root.viewmodel.get(this.keypath),void 0===e&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Rg,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,r,i,o;for(e=[],t=this.element.node.options,r=t.length,n=0;r>n;n+=1)i=t[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,e.push(o));return e},handleChange:function(){var e,t,n;return e=this.attribute,t=e.value,n=this.getValue(),void 0!==t&&P(n,t)||Zg.prototype.handleChange.call(this),this},forceUpdate:function(){var e=this,t=this.getValue();void 0!==t&&(this.attribute.locked=!0,ml.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,t))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Jg=Yg,ev=Fg.extend({render:function(){this.element.node.addEventListener("change",Rg,!1)},unrender:function(){this.element.node.removeEventListener("change",Rg,!1)},getValue:function(){return this.element.node.files}}),tv=ev,nv=Ig.extend({getInitialValue:function(){return void 0},getValue:function(){var e=parseFloat(this.element.node.value);return isNaN(e)?void 0:e}}),rv=lo,iv=ho,ov=fo,sv=po,av=mo,uv=/^event(?:\.(.+))?/,lv=bo,cv=wo,hv={},dv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},fv=ko,pv=Eo,mv=Co,gv=To,vv=So,yv=function(e,t,n){this.init(e,t,n)};yv.prototype={bubble:iv,fire:ov,getAction:sv,init:av,listen:cv,rebind:fv,render:pv,resolve:mv,unbind:gv,unrender:vv};var bv=yv,wv=function(e,t){var n,r,i,o,s=[];for(r in t)if(t.hasOwnProperty(r))for(i=r.split("-"),n=i.length;n--;)o=new bv(e,i[n],t[r]),s.push(o);return s},xv=function(e,t){var n,r,i,o=this;this.element=e,this.root=n=e.root,r=t.n||t,("string"==typeof r||(i=new yw({template:r,root:n,owner:e}),r=i.toString(),i.unbind(),""!==r))&&(t.a?this.params=t.a:t.d&&(this.fragment=new yw({template:t.d,root:n,owner:e}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,o.params=this.getArgsList(),o.ready&&o.update()}),this.fn=v("decorators",n,r),this.fn||h(Fu(r,"decorator")))};xv.prototype={init:function(){var e,t,n;if(e=this.element.node,this.params?(n=[e].concat(this.params),t=this.fn.apply(this.root,n)):t=this.fn.call(this.root,e),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=t,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(e,t){this.fragment&&this.fragment.rebind(e,t)},teardown:function(e){this.torndown=!0,this.ready&&this.actual.teardown(),!e&&this.fragment&&this.fragment.unbind()}};var kv,Ev,Cv,Tv=xv,Sv=Po,_v=Lo,Av=Ho,Nv=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};Ja?(Ev={},Cv=hu("div").style,kv=function(e){var t,n,r;if(e=Nv(e),!Ev[e])if(void 0!==Cv[e])Ev[e]=e;else for(r=e.charAt(0).toUpperCase()+e.substring(1),t=ou.length;t--;)if(n=ou[t],void 0!==Cv[n+r]){Ev[e]=n+r;break}return Ev[e]}):kv=null;var jv,Ov,Dv=kv;Ja?(Ov=window.getComputedStyle||Eu.getComputedStyle,jv=function(e){var t,n,r,i,s;if(t=Ov(this.node),"string"==typeof e)return s=t[Dv(e)],"0px"===s&&(s=0),s;if(!o(e))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},r=e.length;r--;)i=e[r],s=t[Dv(i)],"0px"===s&&(s=0),n[i]=s;return n}):jv=null;var Pv=jv,Lv=function(e,t){var n;if("string"==typeof e)this.node.style[Dv(e)]=t;else for(n in e)e.hasOwnProperty(n)&&(this.node.style[Dv(n)]=e[n]);return this},Fv=function(e){var t;this.duration=e.duration,this.step=e.step,this.complete=e.complete,"string"==typeof e.easing?(t=e.root.easing[e.easing],t||(g(Fu(e.easing,"easing")),t=Wo)):t="function"==typeof e.easing?e.easing:Wo,this.easing=t,this.start=Ju(),this.end=this.start+this.duration,this.running=!0,yl.add(this)};Fv.prototype={tick:function(e){var t,n;return this.running?e>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(t=e-this.start,n=this.easing(t/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Rv,Iv,qv,Mv,Hv,Wv,zv,Bv,Vv=Fv,$v=new RegExp("^-(?:"+ou.join("|")+")-"),Uv=function(e){return e.replace($v,"")},Qv=new RegExp("^(?:"+ou.join("|")+")([A-Z])"),Xv=function(e){var t;return e?(Qv.test(e)&&(e="-"+e),t=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})):""},Gv={},Kv={};Ja?(Iv=hu("div").style,function(){void 0!==Iv.transition?(qv="transition",Mv="transitionend",Hv=!0):void 0!==Iv.webkitTransition?(qv="webkitTransition",Mv="webkitTransitionEnd",Hv=!0):Hv=!1}(),qv&&(Wv=qv+"Duration",zv=qv+"Property",Bv=qv+"TimingFunction"),Rv=function(e,t,n,r,i){setTimeout(function(){var o,s,a,u,l;u=function(){s&&a&&(e.root.fire(e.name+":end",e.node,e.isIntro),i())},o=(e.node.namespaceURI||"")+e.node.tagName,e.node.style[zv]=r.map(Dv).map(Xv).join(","),e.node.style[Bv]=Xv(n.easing||"linear"),e.node.style[Wv]=n.duration/1e3+"s",l=function(t){var n;n=r.indexOf(Nv(Uv(t.propertyName))),-1!==n&&r.splice(n,1),r.length||(e.node.removeEventListener(Mv,l,!1),a=!0,u())},e.node.addEventListener(Mv,l,!1),setTimeout(function(){for(var i,c,h,d,f,p=r.length,g=[];p--;)d=r[p],i=o+d,Hv&&!Kv[i]&&(e.node.style[Dv(d)]=t[d],Gv[i]||(c=e.getStyle(d),Gv[i]=e.getStyle(d)!=t[d],Kv[i]=!Gv[i],Kv[i]&&(e.node.style[Dv(d)]=c))),(!Hv||Kv[i])&&(void 0===c&&(c=e.getStyle(d)),h=r.indexOf(d),-1===h?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:e.node}):r.splice(h,1),f=/[^\d]*$/.exec(t[d])[0],g.push({name:Dv(d),interpolator:Iu(parseFloat(c),parseFloat(t[d])),suffix:f}));g.length?new Vv({root:e.root,duration:n.duration,easing:Nv(n.easing||""),step:function(t){var n,r;for(r=g.length;r--;)n=g[r],e.node.style[n.name]=n.interpolator(t)+n.suffix},complete:function(){s=!0,u()}}):s=!0,r.length||(e.node.removeEventListener(Mv,l,!1),a=!0,u())},0)},n.delay||0)}):Rv=null;var Zv,Yv,Jv,ey,ty,ny=Rv;if("undefined"!=typeof document){if(Zv="hidden",ty={},Zv in document)Jv="";else for(ey=ou.length;ey--;)Yv=ou[ey],Zv=Yv+"Hidden",Zv in document&&(Jv=Yv);void 0!==Jv?(document.addEventListener(Jv+"visibilitychange",zo),zo()):("onfocusout"in document?(document.addEventListener("focusout",Bo),document.addEventListener("focusin",Vo)):(window.addEventListener("pagehide",Bo),window.addEventListener("blur",Bo),window.addEventListener("pageshow",Vo),window.addEventListener("focus",Vo)),ty.hidden=!1)}var ry,iy,oy,sy=ty;Ja?(iy=window.getComputedStyle||Eu.getComputedStyle,ry=function(e,t,n){var r,i=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(sy.hidden)return this.setStyle(e,t),oy||(oy=sl.resolve());"string"==typeof e?(r={},r[e]=t):(r=e,n=t),n||(g('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var o=new sl(function(e){var t,o,s,a,u,l,c;if(!n.duration)return i.setStyle(r),void e();for(t=Object.keys(r),o=[],s=iy(i.node),u={},l=t.length;l--;)c=t[l],a=s[Dv(c)],"0px"===a&&(a=0),a!=r[c]&&(o.push(c),i.node.style[Dv(c)]=a);return o.length?void ny(i,r,n,o,e):void e()});return o}):ry=null;var ay=ry,uy=function(e,t){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),i({},e,t)},ly=$o,cy=function(e,t,n){this.init(e,t,n)};cy.prototype={init:Av,start:ly,getStyle:Pv,setStyle:Lv,animateStyle:ay,processParams:uy};var hy,dy,fy=cy,py=Qo;hy=function(){var e=this.node,t=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(e.type="text/css"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},dy=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var my=function(){var e,t;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(e="<"+this.template.e,e+=this.attributes.map(Jo).join("")+this.conditionalAttributes.map(Jo).join(""),"option"===this.name&&Zo(this)&&(e+=" selected"),"input"===this.name&&Yo(this)&&(e+=" checked"),e+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?e+=_n(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(e+=this.getAttribute("value")||""),this.fragment&&(t="script"!==this.name&&"style"!==this.name,e+=this.fragment.toString(t)),bd.test(this.template.e)||(e+="</"+this.template.e+">"),e)},gy=es,vy=ts,yy=function(e){this.init(e)};yy.prototype={bubble:$m,detach:Um,find:Qm,findAll:Xm,findAllComponents:Gm,findComponent:Km,findNextNode:Zm,firstNode:Ym,getAttribute:Jm,init:Sv,rebind:_v,render:py,toString:my,unbind:gy,unrender:vy};var by=yy,wy=/^\s*$/,xy=/^\s*/,ky=function(e){var t,n,r,i;return t=e.split("\n"),n=t[0],void 0!==n&&wy.test(n)&&t.shift(),r=F(t),void 0!==r&&wy.test(r)&&t.pop(),i=t.reduce(rs,null),i&&(e=t.map(function(e){return e.replace(i,"")}).join("\n")),e},Ey=is,Cy=function(e,t){var n;return t?n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n"):e},Ty='Could not find template for partial "%s"',Sy=function(e){var t,n;t=this.parentFragment=e.parentFragment,this.root=t.root,this.type=eh,this.index=e.index,this.name=e.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,im.init(this,e),this.keypath||((n=Ey(this.root,this.name,t))?(Fp.call(this),this.isNamed=!0,this.setTemplate(n)):g(Ty,this.name))};Sy.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(e,t){this.isNamed||rm.call(this,e,t),this.fragment&&this.fragment.rebind(e,t)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:im.resolve,setValue:function(e){var t;(void 0===e||e!==this.value)&&(void 0!==e&&(t=Ey(this.root,""+e,this.parentFragment)),!t&&this.name&&(t=Ey(this.root,this.name,this.parentFragment))&&(Fp.call(this),this.isNamed=!0),t||g(Ty,this.name,{ractive:this.root}),this.value=e,this.setTemplate(t||[]),this.bubble(),this.rendered&&ml.addView(this))},setTemplate:function(e){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new yw({template:e,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(e){var t,n,r,i;return t=this.fragment.toString(e),n=this.parentFragment.items[this.index-1],n&&n.type===Qc?(r=n.text.split("\n").pop(),(i=/^\s+$/.exec(r))?Cy(t,i[0]):t):t},unbind:function(){this.isNamed||Fp.call(this),this.fragment&&this.fragment.unbind()},unrender:function(e){this.rendered&&(this.fragment&&this.fragment.unrender(e),this.rendered=!1)},update:function(){var e,t;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(e=this.parentFragment.getNode(),t=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,t))}};var _y,Ay,Ny,jy=Sy,Oy=ls,Dy=cs,Py=new nl("detach"),Ly=hs,Fy=ds,Ry=fs,Iy=ps,qy=ms,My=gs,Hy=function(e,t,n,r){var i=e.root,o=e.keypath;r?i.viewmodel.smartUpdate(o,t,r):i.viewmodel.mark(o)},Wy=[],zy=["pop","push","reverse","shift","sort","splice","unshift"];zy.forEach(function(e){var t=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];var i,o,s,a;for(i=mc(this,e,n),o=Array.prototype[e].apply(this,arguments),ml.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)s=this._ractive.wrappers[a],ml.addRactive(s.root),Hy(s,this,e,i);return ml.end(),this._ractive.setting=!1,o};xu(Wy,e,{value:t})}),_y={},_y.__proto__?(Ay=function(e){e.__proto__=Wy},Ny=function(e){e.__proto__=Array.prototype}):(Ay=function(e){var t,n;for(t=zy.length;t--;)n=zy[t],xu(e,n,{value:Wy[n],configurable:!0})},Ny=function(e){var t;for(t=zy.length;t--;)delete e[zy[t]]}),Ay.unpatch=Ny;var By,Vy,$y,Uy=Ay;By={filter:function(e){return o(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new Vy(e,t,n)}},Vy=function(e,t,n){this.root=e,this.value=t,this.keypath=C(n),t._ractive||(xu(t,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Uy(t)),t._ractive.instances[e._guid]||(t._ractive.instances[e._guid]=0,t._ractive.instances.push(e)),t._ractive.instances[e._guid]+=1,t._ractive.wrappers.push(this)},Vy.prototype={get:function(){return this.value},teardown:function(){var e,t,n,r,i;if(e=this.value,t=e._ractive,n=t.wrappers,r=t.instances,t.setting)return!1;if(i=n.indexOf(this),-1===i)throw new Error($y);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(i=r.indexOf(this.root),-1===i)throw new Error($y);r.splice(i,1)}}else delete e._ractive,Uy.unpatch(this.value)}},$y="Something went wrong in a rather interesting way";var Qy,Xy,Gy=By,Ky=/^\s*[0-9]+\s*$/,Zy=function(e){return Ky.test(e)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Qy={filter:function(e,t,n){var r,i;return t?(t=C(t),(r=n.viewmodel.wrapped[t.parent.str])&&!r.magic?!1:(i=n.viewmodel.get(t.parent),o(i)&&/^[0-9]+$/.test(t.lastKey)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(e,t,n){return new Xy(e,t,n)}},Xy=function(e,t,n){var r,i,o;return n=C(n),this.magic=!0,this.ractive=e,this.keypath=n,this.value=t,this.prop=n.lastKey,r=n.parent,this.obj=r.isRoot?e.viewmodel.data:e.viewmodel.get(r),i=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),i&&i.set&&(o=i.set._ractiveWrappers)?void(-1===o.indexOf(this)&&o.push(this)):void vs(this,t,i)},Xy.prototype={get:function(){return this.value},reset:function(e){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=e,ml.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(e,t){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Zy(e),this.updating=!1),this.obj[this.prop][e]=t)},teardown:function(){var e,t,n,r,i;return this.updating?!1:(e=Object.getOwnPropertyDescriptor(this.obj,this.prop),t=e&&e.set,void(t&&(r=t._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(Cu){Qy=!1}var Yy,Jy,eb=Qy;eb&&(Yy={filter:function(e,t,n){return eb.filter(e,t,n)&&Gy.filter(e)},wrap:function(e,t,n){return new Jy(e,t,n)}},Jy=function(e,t,n){this.value=t,this.magic=!0,this.magicWrapper=eb.wrap(e,t,n),this.arrayWrapper=Gy.wrap(e,t,n)},Jy.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}});var tb=Yy,nb=ys,rb={},ib=xs,ob=ks,sb=Ts,ab=js,ub=Os,lb=function(e,t){this.computation=e,this.viewmodel=e.viewmodel,this.ref=t,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};lb.prototype={resolve:function(e){this.computation.softDeps.push(e),this.computation.unresolvedDeps[e.str]=null,this.viewmodel.register(e,this.computation,"computed")}};var cb=lb,hb=function(e,t){this.key=e,this.getter=t.getter,this.setter=t.setter,this.hardDeps=t.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};hb.prototype={constructor:hb,init:function(e){var t,n=this;this.viewmodel=e,this.bypass=!0,t=e.get(this.key),e.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==t&&this.set(t),this.hardDeps&&this.hardDeps.forEach(function(t){return e.register(t,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var e,t,n=this,r=!1;if(this.getting){var i="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(i),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(e){var t,i,o;if(!r)for(o=e.length;o--;)if(t=e[o],i=n.viewmodel.get(t),!a(i,n.depValues[t.str]))return n.depValues[t.str]=i,void(r=!0)}),r){this.viewmodel.capture();try{this.value=this.getter()}catch(o){m('Failed to compute "%s"',this.key.str),d(o.stack||o),this.value=void 0}e=this.viewmodel.release(),t=this.updateDependencies(e),t&&[this.hardDeps,this.softDeps].forEach(function(e){e.forEach(function(e){n.depValues[e.str]=n.viewmodel.get(e)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(e){if(this.setting)return void(this.value=e);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(e)},updateDependencies:function(e){var t,n,r,i,o;for(n=this.softDeps,t=n.length;t--;)r=n[t],-1===e.indexOf(r)&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(t=e.length;t--;)r=e[t],-1!==n.indexOf(r)||this.hardDeps&&-1!==this.hardDeps.indexOf(r)||(i=!0,Ds(this.viewmodel,r)&&!this.unresolvedDeps[r.str]?(o=new cb(this,r.str),e.splice(t,1),this.unresolvedDeps[r.str]=o,ml.addUnresolved(o)):this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=e.slice()),i}};var db=hb,fb=Ps,pb={FAILED_LOOKUP:!0},mb=Ls,gb={},vb=Rs,yb=Is,bb=function(e,t){this.localKey=e,this.keypath=t.keypath,this.origin=t.origin,this.deps=[],this.unresolved=[],this.resolved=!1};bb.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(e,t){return this.resolved?this.origin.get(this.map(e),t):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(e){this.local=e,this.setup()},map:function(e){return void 0===typeof this.keypath?this.localKey:e.replace(this.localKey,this.keypath)},register:function(e,t,n){this.deps.push({keypath:e,dep:t,group:n}),this.resolved&&this.origin.register(this.map(e),t,n)},resolve:function(e){void 0!==this.keypath&&this.unbind(!0),this.keypath=e,this.setup()},set:function(e,t){this.resolved||this.forceResolution(),this.origin.set(this.map(e),t)},setup:function(){var e=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(t){var n=e.map(t.keypath);if(e.origin.register(n,t.dep,t.group),t.dep.setValue)t.dep.setValue(e.origin.get(n));else{if(!t.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");t.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(e){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,e)},unbind:function(e){var t=this;e||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(e){t.origin.unregister(t.map(e.keypath),e.dep,e.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(e,t,n){var r,i;if(this.resolved){for(r=this.deps,i=r.length;i--;)if(r[i].dep===t){r.splice(i,1);break}this.origin.unregister(this.map(e),t,n)}}};var wb=qs,xb=function(e,t){var n,r,i,o;return n={},r=0,i=e.map(function(e,i){var s,a,u;a=r,u=t.length;do{if(s=t.indexOf(e,a),-1===s)return o=!0,-1;a=s+1}while(n[s]&&u>a);return s===r&&(r+=1),s!==i&&(o=!0),n[s]=!0,s})},kb=Ms,Eb={},Cb=zs,Tb=Vs,Sb=$s,_b=Us,Ab=Xs,Nb={implicit:!0},jb={noCascade:!0},Ob=Ks,Db=Zs,Pb=function(e){var t,n,r=e.adapt,i=e.data,o=e.ractive,s=e.computed,a=e.mappings;this.ractive=o,this.adaptors=r,this.onchange=e.onchange,this.cache={},this.cacheMap=wu(null),this.deps={computed:wu(null),"default":wu(null)},this.depsMap={computed:wu(null),"default":wu(null)},this.patternObservers=[],this.specials=wu(null),this.wrapped=wu(null),this.computations=wu(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=i,this.mappings=wu(null);for(t in a)this.map(C(t),a[t]);if(i)for(t in i)(n=this.mappings[t])&&void 0===n.getValue()&&n.setValue(i[t]);for(t in s)a&&t in a&&h("Cannot map to a computed property ('%s')",t),this.compute(C(t),s[t]);this.ready=!0};Pb.prototype={adapt:nb,applyChanges:sb,capture:ab,clearCache:ub,compute:fb,get:mb,init:vb,map:yb,mark:wb,merge:kb,register:Cb,release:Tb,reset:Sb,set:_b,smartUpdate:Ab,teardown:Ob,unregister:Db};var Lb=Pb;Js.prototype={constructor:Js,begin:function(e){this.inProcess[e._guid]=!0},end:function(e){var t=e.parent;t&&this.inProcess[t._guid]?ea(this.queue,t).push(e):ta(this,e),delete this.inProcess[e._guid]}};var Fb=Js,Rb=na,Ib=/\$\{([^\}]+)\}/g,qb=new nl("construct"),Mb=new nl("config"),Hb=new Fb("init"),Wb=0,zb=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Bb=sa,Vb=ha;ha.prototype={bubble:function(){this.dirty||(this.dirty=!0,ml.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(e,t){this.fragment.rebind(e,t)},unbind:function(){this.fragment.unbind()}};var $b=function(e,t,n,i,s){var a,u,l,c,h,d,f={},p={},g={},v=[];for(u=e.parentFragment,l=e.root,s=s||{},r(f,s),s.content=i||[],f[""]=s.content,t.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",e.name),c=u;c;){if(c.owner.type===sh){h=c.owner.container;break}c=c.parent}return n&&Object.keys(n).forEach(function(t){var r,i,s=n[t];if("string"==typeof s)r=Tf(s),p[t]=r?r.value:s;else if(0===s)p[t]=!0;else{if(!o(s))throw new Error("erm wut");fa(s)?(g[t]={origin:e.root.viewmodel,keypath:void 0},i=da(e,s[0],function(e){e.isSpecial?d?a.set(t,e.value):(p[t]=e.value,delete g[t]):d?a.viewmodel.mappings[t].resolve(e):g[t].keypath=e})):i=new Vb(e,s,function(e){d?a.set(t,e):p[t]=e}),v.push(i)}}),a=wu(t.prototype),Bb(a,{el:null,append:!0,data:p,partials:s,magic:l.magic||t.defaults.magic,modifyArrays:l.modifyArrays,adapt:l.adapt},{parent:l,component:e,container:h,mappings:g,inlinePartials:f,cssIds:u.cssIds}),d=!0,e.resolvers=v,a},Ub=pa,Qb=function(e){var t,n;for(t=e.root;t;)(n=t._liveComponentQueries["_"+e.name])&&n.push(e.instance),t=t.parent},Xb=ga,Gb=va,Kb=ya,Zb=ba,Yb=wa,Jb=new nl("teardown"),ew=ka,tw=function(e,t){this.init(e,t)};tw.prototype={detach:Dy,find:Ly,findAll:Fy,findAllComponents:Ry,findComponent:Iy,findNextNode:qy,firstNode:My,init:Xb,rebind:Gb,render:Kb,toString:Zb,unbind:Yb,unrender:ew};var nw=tw,rw=function(e){this.type=th,this.value=e.template.c};rw.prototype={detach:Dp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){e&&this.node.parentNode.removeChild(this.node)}};var iw=rw,ow=function(e){var t,n;this.type=sh,this.container=t=e.parentFragment.root,this.component=n=t.component,this.container=t,this.containerFragment=e.parentFragment,this.parentFragment=n.parentFragment;var r=this.name=e.template.n||"",i=t._inlinePartials[r];i||(m('Could not find template for partial "'+r+'"',{ractive:e.root}),i=[]),this.fragment=new yw({owner:this,root:t.parent,template:i,pElement:this.containerFragment.pElement}),o(n.yielders[r])?n.yielders[r].push(this):n.yielders[r]=[this],ml.scheduleTask(function(){if(n.yielders[r].length>1)throw new Error("A component template can only have one {{yield"+(r?" "+r:"")+"}} declaration at a time")})};ow.prototype={detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(e){return this.fragment.getValue(e)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(e){this.fragment.unrender(e),R(this.component.yielders[this.name],this)},rebind:function(e,t){this.fragment.rebind(e,t)},toString:function(){return this.fragment.toString()}};var sw=ow,aw=function(e){this.declaration=e.template.a};aw.prototype={init:Ou,render:Ou,unrender:Ou,teardown:Ou,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var uw=aw,lw=Ea,cw=Ta,hw=Sa,dw=_a,fw=ja,pw=Da,mw=function(e){this.init(e)};mw.prototype={bubble:wp,detach:xp,find:kp,findAll:Ep,findAllComponents:Cp,findComponent:Tp,findNextNode:Sp,firstNode:_p,getArgsList:Np,getNode:jp,getValue:Op,init:lw,rebind:cw,registerIndexRef:function(e){var t=this.registeredIndexRefs;-1===t.indexOf(e)&&t.push(e)},render:hw,toString:dw,unbind:fw,unregisterIndexRef:function(e){var t=this.registeredIndexRefs;t.splice(t.indexOf(e),1)},unrender:pw};var gw,vw,yw=mw,bw=Pa,ww=["template","partials","components","decorators","events"],xw=new nl("reset"),kw=function(e,t){function n(t,r,i){i&&i.partials[e]||t.forEach(function(t){t.type===eh&&t.getPartialName()===e&&r.push(t),t.fragment&&n(t.fragment.items,r,i),o(t.fragments)?n(t.fragments,r,i):o(t.items)?n(t.items,r,i):t.type===oh&&t.instance&&n(t.instance.fragment.items,r,t.instance),t.type===Jc&&(o(t.attributes)&&n(t.attributes,r,i),o(t.conditionalAttributes)&&n(t.conditionalAttributes,r,i))})}var r,i=[];return n(this.fragment.items,i),this.partials[e]=t,r=ml.start(this,!0),i.forEach(function(t){t.value=void 0,t.setValue(e)}),ml.end(),r},Ew=La,Cw=vc("reverse"),Tw=Fa,Sw=vc("shift"),_w=vc("sort"),Aw=vc("splice"),Nw=Ia,jw=qa,Ow=new nl("teardown"),Dw=Ha,Pw=Wa,Lw=za,Fw=new nl("unrender"),Rw=vc("unshift"),Iw=Ba,qw=new nl("update"),Mw=Va,Hw={add:Ku,animate:xl,detach:El,find:Tl,findAll:Ll,findAllComponents:Fl,findComponent:Rl,findContainer:Il,findParent:ql,fire:zl,get:Bl,insert:$l,merge:Ql,observe:uc,observeOnce:lc,off:dc,on:fc,once:pc,pop:yc,push:bc,render:Sc,reset:bw,resetPartial:kw,resetTemplate:Ew,reverse:Cw,set:Tw,shift:Sw,sort:_w,splice:Aw,subtract:Nw,teardown:jw,toggle:Dw,toHTML:Pw,toHtml:Pw,unrender:Lw,unshift:Rw,update:Iw,updateModel:Mw},Ww=function(e,t,n){return n||Ua(e,t)?function(){var n,r="_super"in this,i=this._super;return this._super=t,n=e.apply(this,arguments),r&&(this._super=i),n}:e},zw=Qa,Bw=Za,Vw=function(e){var t,n,r={};return e&&(t=e._ractive)?(r.ractive=t.root,r.keypath=t.keypath.str,r.index={},(n=Vp(t.proxy.parentFragment))&&(r.index=Vp.resolve(n)),r):r};gw=function(e){return this instanceof gw?void Bb(this,e):new gw(e)
},vw={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Bw},getNodeInfo:{value:Vw},parse:{value:Gf},Promise:{value:sl},svg:{value:iu},magic:{value:nu},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:lu},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Mu},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},ku(gw,vw),gw.prototype=r(Hw,uu),gw.prototype.constructor=gw,gw.defaults=gw.prototype;var $w="function";if(typeof Date.now!==$w||typeof String.prototype.trim!==$w||typeof Object.keys!==$w||typeof Array.prototype.indexOf!==$w||typeof Array.prototype.forEach!==$w||typeof Array.prototype.map!==$w||typeof Array.prototype.filter!==$w||"undefined"!=typeof window&&typeof window.addEventListener!==$w)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Uw=gw;return Uw}),window.Weblingo=Ractive.extend({template:RactiveTemplates["templates/weblingo"]});