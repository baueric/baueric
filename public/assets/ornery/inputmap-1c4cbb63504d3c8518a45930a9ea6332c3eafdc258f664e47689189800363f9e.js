function createInputMap(e,t,n){_user=e,_canvasRect=t.getBoundingClientRect(),_arena=n;var r=!(void 0==document.ontouchmove||null==document.ontouchmove);r?t.addEventListener("touchdown",player_touch_down,!1):(t.addEventListener("mousedown",player_touch_down,!1),addEventListener("mousemove",player_touch_moved,!1),addEventListener("mouseup",player_touch_up,!1))}function player_touch_down(e){var t,n;e.preventDefault(),t=e.clientX-_canvasRect.left,n=e.clientY-_canvasRect.top,console.log("x:"+t+" y:"+n);var r=_arena.GetObjectAtPoint(new oVec2(t,n),_arena.objects);console.log("object:"+r),null!=r&&r.user==_user&&(_activeObj=r,_activeObj.active=!0)}function player_touch_moved(e){if(null!=_activeObj&&_activeObj.active){e.preventDefault();var t=e.clientX-_canvasRect.left,n=e.clientY-_canvasRect.top,r=new oVec2(t,n);_activeObj.pos=r}}function player_touch_up(e){e.preventDefault(),null!=_activeObj&&(_activeObj.active=!1,_activeObj=null)}var _arena,_canvasRect,_activeObj,_user;