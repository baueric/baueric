!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Ractive=t()}(this,function(){"use strict";function e(e){var t;if(e&&"boolean"!=typeof e)return"undefined"!=typeof window&&document&&e?e.nodeType?e:"string"==typeof e&&(t=document.getElementById(e),!t&&document.querySelector&&(t=document.querySelector(e)),t&&t.nodeType)?t:e[0]&&e[0].nodeType?e[0]:null:null}function t(e){return e&&"unknown"!=typeof e.parentNode&&e.parentNode&&e.parentNode.removeChild(e),e}function n(e){return null!=e&&e.toString?e:""}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];for(var i,o;o=n.shift();)for(i in o)Au.call(o,i)&&(e[i]=o[i]);return e}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return n.forEach(function(t){for(var n in t)!t.hasOwnProperty(n)||n in e||(e[n]=t[n])}),e}function o(e){return"[object Array]"===Nu.call(e)}function a(e){return ju.test(Nu.call(e))}function s(e,t){return null===e&&null===t?!0:"object"==typeof e||"object"==typeof t?!1:e===t}function u(e){return!isNaN(parseFloat(e))&&isFinite(e)}function l(e){return e&&"[object Object]"===Nu.call(e)}function c(e,t){return e.replace(/%s/g,function(){return t.shift()})}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];throw e=c(e,n),new Error(e)}function h(){Uw.DEBUG&&Cu.apply(null,arguments)}function d(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];e=c(e,n),Tu(e,n)}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];e=c(e,n),Lu[e]||(Lu[e]=!0,Tu(e,n))}function g(){Uw.DEBUG&&d.apply(null,arguments)}function m(){Uw.DEBUG&&p.apply(null,arguments)}function v(e,t,n){var r=y(e,t,n);return r?r[e][n]:null}function y(e,t,n){for(;t;){if(n in t[e])return t;if(t.isolated)return null;t=t.parent}}function b(e){return function(){return e}}function w(e){var t,n,r,i,o,a;for(t=e.split("."),(n=Wu[t.length])||(n=x(t.length)),o=[],r=function(e,n){return e?"*":t[n]},i=n.length;i--;)a=n[i].map(r).join("."),o.hasOwnProperty(a)||(o.push(a),o[a]=!0);return o}function x(e){var t,n,r,i,o,a,s,u,l="";if(!Wu[e]){for(r=[];l.length<e;)l+=1;for(t=parseInt(l,2),i=function(e){return"1"===e},o=0;t>=o;o+=1){for(n=o.toString(2);n.length<e;)n="0"+n;for(u=[],s=n.length,a=0;s>a;a++)u.push(i(n[a]));r[o]=u}Wu[e]=r}return Wu[e]}function _(e,t,n,r){var i=e[t];if(!i||!i.equalsOrStartsWith(r)&&i.equalsOrStartsWith(n))return e[t]=i?i.replace(n,r):r,!0}function k(e){var t=e.slice(2);return"i"===e[1]&&u(t)?+t:t}function E(e){return null==e?e:($u.hasOwnProperty(e)||($u[e]=new Vu(e)),$u[e])}function C(e,t){function n(t,n){var r,i,a;return n.isRoot?a=[].concat(Object.keys(e.viewmodel.data),Object.keys(e.viewmodel.mappings),Object.keys(e.viewmodel.computations)):(r=e.viewmodel.wrapped[n.str],i=r?r.get():e.viewmodel.get(n),a=i?Object.keys(i):null),a&&a.forEach(function(e){"_ractive"===e&&o(i)||t.push(n.join(e))}),t}var r,i,a;for(r=t.str.split("."),a=[Xu];i=r.shift();)"*"===i?a=a.reduce(n,[]):a[0]===Xu?a[0]=E(i):a=a.map(T(i));return a}function T(e){return function(t){return t.join(e)}}function S(e){return e?e.replace(zu,".$1"):""}function A(e,t,n){if("string"!=typeof t||!u(n))throw new Error("Bad arguments");var r=void 0,i=void 0;if(/\*/.test(t))return i={},C(e,E(S(t))).forEach(function(t){var r=e.viewmodel.get(t);if(!u(r))throw new Error(Gu);i[t.str]=r+n}),e.set(i);if(r=e.get(t),!u(r))throw new Error(Gu);return e.set(t,+r+n)}function N(e,t){return Qu(this,e,void 0===t?1:+t)}function j(e){this.event=e,this.method="on"+e,this.deprecate=el[e]}function D(e,t){var n=e.indexOf(t);-1===n&&e.push(t)}function L(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]==t)return!0;return!1}function O(e,t){var n;if(!o(e)||!o(t))return!1;if(e.length!==t.length)return!1;for(n=e.length;n--;)if(e[n]!==t[n])return!1;return!0}function F(e){return"string"==typeof e?[e]:void 0===e?[]:e}function q(e){return e[e.length-1]}function P(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function R(e){for(var t=[],n=e.length;n--;)t[n]=e[n];return t}function I(e){setTimeout(e,0)}function H(e,t){return function(){for(var n;n=e.shift();)n(t)}}function M(e,t,n,r){var i;if(t===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(t instanceof tl)t.then(n,r);else if(!t||"object"!=typeof t&&"function"!=typeof t)n(t);else{try{i=t.then}catch(o){return void r(o)}if("function"==typeof i){var a,s,u;s=function(t){a||(a=!0,M(e,t,n,r))},u=function(e){a||(a=!0,r(e))};try{i.call(t,s,u)}catch(o){if(!a)return r(o),void(a=!0)}}else n(t)}}function W(e,t,n){var r;return t=S(t),"~/"===t.substr(0,2)?(r=E(t.substring(2)),$(e,r.firstKey,n)):"."===t[0]?(r=z(sl(n),t),r&&$(e,r.firstKey,n)):r=B(e,E(t),n),r}function z(e,t){var n;if(void 0!=e&&"string"!=typeof e&&(e=e.str),"."===t)return E(e);if(n=e?e.split("."):[],"../"===t.substr(0,3)){for(;"../"===t.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),t=t.substring(3)}return n.push(t),E(n.join("."))}return E(e?e+t.replace(/^\.\//,"."):t.replace(/^\.\/?/,""))}function B(e,t,n,r){var i,o,a,s,u;if(t.isRoot)return t;for(o=t.firstKey;n;)if(i=n.context,n=n.parent,i&&(s=!0,a=e.viewmodel.get(i),a&&("object"==typeof a||"function"==typeof a)&&o in a))return i.join(t.str);return V(e.viewmodel,o)?t:e.parent&&!e.isolated&&(s=!0,n=e.component.parentFragment,o=E(o),u=B(e.parent,o,n,!0))?(e.viewmodel.map(o,{origin:e.parent.viewmodel,keypath:u}),t):r||s?void 0:(e.viewmodel.set(t,void 0),t)}function $(e,t){var n;!e.parent||e.isolated||V(e.viewmodel,t)||(t=E(t),(n=B(e.parent,t,e.component.parentFragment,!0))&&e.viewmodel.map(t,{origin:e.parent.viewmodel,keypath:n}))}function V(e,t){return""===t||t in e.data||t in e.computations||t in e.mappings}function U(e){e.teardown()}function X(e){e.unbind()}function Q(e){e.unrender()}function G(e){e.cancel()}function K(e){e.detach()}function Y(e){e.detachNodes()}function Z(e){!e.ready||e.outros.length||e.outroChildren||(e.outrosComplete||(e.parent?e.parent.decrementOutros(e):e.detachNodes(),e.outrosComplete=!0),e.intros.length||e.totalChildren||("function"==typeof e.callback&&e.callback(),e.parent&&e.parent.decrementTotal()))}function J(){for(var e,t,n;cl.ractives.length;)t=cl.ractives.pop(),n=t.viewmodel.applyChanges(),n&&pl.fire(t,n);for(et(),e=0;e<cl.views.length;e+=1)cl.views[e].update();for(cl.views.length=0,e=0;e<cl.tasks.length;e+=1)cl.tasks[e]();return cl.tasks.length=0,cl.ractives.length?J():void 0}function et(){var e,t,n,r;for(e=dl.length;e--;)t=dl[e],t.keypath?dl.splice(e,1):(n=ul(t.root,t.ref,t.parentFragment))&&((r||(r=[])).push({item:t,keypath:n}),dl.splice(e,1));r&&r.forEach(tt)}function tt(e){e.item.resolve(e.keypath)}function nt(e,t,n){var r,i,o,a,s,u,l,c,f,h,d,p,g,m;if(r=new al(function(e){return i=e}),"object"==typeof e){n=t||{},u=n.easing,l=n.duration,s=[],c=n.step,f=n.complete,(c||f)&&(d={},n.step=null,n.complete=null,h=function(e){return function(t,n){d[e]=n}});for(o in e)e.hasOwnProperty(o)&&((c||f)&&(p=h(o),n={easing:u,duration:l},c&&(n.step=p)),n.complete=f?p:Du,s.push(rt(this,o,e[o],n)));return m={easing:u,duration:l},c&&(m.step=function(e){return c(e,d)}),f&&r.then(function(e){return f(e,d)}),m.complete=i,g=rt(this,null,null,m),s.push(g),r.stop=function(){for(var e;e=s.pop();)e.stop();g&&g.stop()},r}return n=n||{},n.complete&&r.then(n.complete),n.complete=i,a=rt(this,e,t,n),r.stop=function(){return a.stop()},r}function rt(e,t,n,r){var i,o,a,u;return t&&(t=E(S(t))),null!==t&&(u=e.viewmodel.get(t)),yl.abort(t,e),s(u,n)?(r.complete&&r.complete(r.to),_l):(r.easing&&(i="function"==typeof r.easing?r.easing:e.easing[r.easing],"function"!=typeof i&&(i=null)),o=void 0===r.duration?400:r.duration,a=new wl({keypath:t,from:u,to:n,root:e,duration:o,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),yl.add(a),e._animations.push(a),a)}function it(){return this.detached?this.detached:(this.el&&P(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),El.fire(this),this.detached)}function ot(e){return this.el?this.fragment.find(e):null}function at(e,t){var n;return n=this._isComponentQuery?!this.selector||e.name===this.selector:e.node?hu(e.node,this.selector):null,n?(this.push(e.node||e.instance),t||this._makeDirty(),!0):void 0}function st(e){var t;return(t=e.parentFragment)?t.owner:e.component&&(t=e.component.parentFragment)?t.owner:void 0}function ut(e){var t,n;for(t=[e],n=st(e);n;)t.push(n),n=st(n);return t}function lt(e,t,n,r){var i=[];return _u(i,{selector:{value:t},live:{value:n},_isComponentQuery:{value:r},_test:{value:Tl}}),n?(_u(i,{cancel:{value:Sl},_root:{value:e},_sort:{value:jl},_makeDirty:{value:Dl},_remove:{value:Ll},_dirty:{value:!1,writable:!0}}),i):i}function ct(e,t){var n,r;return this.el?(t=t||{},n=this._liveQueries,(r=n[e])?t&&t.live?r:r.slice():(r=Ol(this,e,!!t.live,!1),r.live&&(n.push(e),n["_"+e]=r),this.fragment.findAll(e,r),r)):[]}function ft(e,t){var n,r;return t=t||{},n=this._liveComponentQueries,(r=n[e])?t&&t.live?r:r.slice():(r=Ol(this,e,!!t.live,!0),r.live&&(n.push(e),n["_"+e]=r),this.fragment.findAllComponents(e,r),r)}function ht(e){return this.fragment.findComponent(e)}function dt(e){return this.container?this.container.component&&this.container.component.name===e?this.container:this.container.findContainer(e):null}function pt(e){return this.parent?this.parent.component&&this.parent.component.name===e?this.parent:this.parent.findParent(e):null}function gt(e,t){var n=void 0===arguments[2]?{}:arguments[2];if(t){n.event?n.event.name=t:n.event={name:t,_noArg:!0};var r=E(t).wildcardMatches();mt(e,r,n.event,n.args,!0)}}function mt(e,t,n,r){var i,o,a=void 0===arguments[4]?!1:arguments[4],s=!0;for(Ml.enqueue(e,n),o=t.length;o>=0;o--)i=e._subs[t[o]],i&&(s=vt(e,i,n,r)&&s);if(Ml.dequeue(e),e.parent&&s){if(a&&e.component){var u=e.component.name+"."+t[t.length-1];t=E(u).wildcardMatches(),n&&(n.component=e)}mt(e.parent,t,n,r)}}function vt(e,t,n,r){var i=null,o=!1;n&&!n._noArg&&(r=[n].concat(r)),t=t.slice();for(var a=0,s=t.length;s>a;a+=1)t[a].apply(e,r)===!1&&(o=!0);return n&&!n._noArg&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}function yt(e){var t={args:Array.prototype.slice.call(arguments,1)};Wl(this,e,t)}function bt(e){var t;return e=E(S(e)),t=this.viewmodel.get(e,$l),void 0===t&&this.parent&&!this.isolated&&ul(this,e.str,this.component.parentFragment)&&(t=this.viewmodel.get(e)),t}function wt(t,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=e(t),n=e(n)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),n),this.el=t,(t.__ractive_instances__||(t.__ractive_instances__=[])).push(this),this.detached=null,xt(this)}function xt(e){Ul.fire(e),e.findAllComponents("*").forEach(function(e){xt(e.instance)})}function _t(e,t,n){var r,i;return e=E(S(e)),r=this.viewmodel.get(e),o(r)&&o(t)?(i=gl.start(this,!0),this.viewmodel.merge(e,r,t,n),gl.end(),i):this.set(e,t,n&&n.complete)}function kt(e,t){var n,r;return n=C(e,t),r={},n.forEach(function(t){r[t.str]=e.get(t.str)}),r}function Et(e,t,n,r){var i,o,a;t=E(S(t)),r=r||sc,t.isPattern?(i=new oc(e,t,n,r),e.viewmodel.patternObservers.push(i),o=!0):i=new Kl(e,t,n,r),i.init(r.init),e.viewmodel.register(t,i,o?"patternObservers":"observers"),i.ready=!0;var s={cancel:function(){var n;a||(o?(n=e.viewmodel.patternObservers.indexOf(i),e.viewmodel.patternObservers.splice(n,1),e.viewmodel.unregister(t,i,"patternObservers")):e.viewmodel.unregister(t,i,"observers"),a=!0)}};return e._observers.push(s),s}function Ct(e,t,n){var r,i,o,a;if(l(e)){n=t,i=e,r=[];for(e in i)i.hasOwnProperty(e)&&(t=i[e],r.push(this.observe(e,t,n)));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}if("function"==typeof e)return n=t,t=e,e="",ac(this,e,t,n);if(o=e.split(" "),1===o.length)return ac(this,e,t,n);for(r=[],a=o.length;a--;)e=o[a],e&&r.push(ac(this,e,t,n));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}function Tt(e,t,n){var r=this.observe(e,function(){t.apply(this,arguments),r.cancel()},{init:!1,defer:n&&n.defer});return r}function St(e,t){var n,r=this;if(e)n=e.split(" ").map(cc).filter(fc),n.forEach(function(e){var n,i;(n=r._subs[e])&&(t?(i=n.indexOf(t),-1!==i&&n.splice(i,1)):r._subs[e]=[])});else for(e in this._subs)delete this._subs[e];return this}function At(e,t){var n,r,i,o=this;if("object"==typeof e){n=[];for(r in e)e.hasOwnProperty(r)&&n.push(this.on(r,e[r]));return{cancel:function(){for(var e;e=n.pop();)e.cancel()}}}return i=e.split(" ").map(cc).filter(fc),i.forEach(function(e){(o._subs[e]||(o._subs[e]=[])).push(t)}),{cancel:function(){return o.off(e,t)}}}function Nt(e,t){var n=this.on(e,function(){t.apply(this,arguments),n.cancel()});return n}function jt(e,t,n){var r,i,o,a,s,u,l=[];if(r=Dt(e,t,n),!r)return null;for(i=e.length,s=r.length-2-r[1],o=Math.min(i,r[0]),a=o+r[1],u=0;o>u;u+=1)l.push(u);for(;a>u;u+=1)l.push(-1);for(;i>u;u+=1)l.push(u+s);return l.touchedFrom=0!==s?r[0]:e.length,l}function Dt(e,t,n){switch(t){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=e.length+Math.max(n[0],-e.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],e.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return e.length?[e.length-1,1]:[0,0];case"push":return[e.length,0].concat(n);case"shift":return[0,e.length?1:0];case"unshift":return[0,0].concat(n)}}function Lt(t,n){var r,i,o,a=this;if(o=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),r=gl.start(this,!0),gl.scheduleTask(function(){return Sc.fire(a)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(t=e(t)||this.el,n=e(n)||this.anchor,this.el=t,this.anchor=n,!this.append&&t){var s=t.__ractive_instances__;s&&s.length&&Ot(s),t.innerHTML=""}return this.cssId&&Cc.apply(),t&&((i=t.__ractive_instances__)?i.push(this):t.__ractive_instances__=[this],n?t.insertBefore(this.fragment.render(),n):t.appendChild(this.fragment.render())),gl.end(),this.transitionsEnabled=o,r.then(function(){return Ac.fire(a)})}function Ot(e){e.splice(0,e.length).forEach(U)}function Ft(e,t){for(var n=e.slice(),r=t.length;r--;)~n.indexOf(t[r])||n.push(t[r]);return n}function qt(e,t){var n,r,i;return r='[data-ractive-css~="{'+t+'}"]',i=function(e){var t,n,i,o,a,s,u,l=[];for(t=[];n=Fc.exec(e);)t.push({str:n[0],base:n[1],modifiers:n[2]});for(o=t.map(Rt),u=t.length;u--;)s=o.slice(),i=t[u],s[u]=i.base+r+i.modifiers||"",a=o.slice(),a[u]=r+" "+a[u],l.push(s.join(" "),a.join(" "));return l.join(", ")},n=Pc.test(e)?e.replace(Pc,r):e.replace(Oc,"").replace(Lc,function(e,t){var n,r;return qc.test(t)?e:(n=t.split(",").map(Pt),r=n.map(i).join(", ")+" ",e.replace(t,r))})}function Pt(e){return e.trim?e.trim():e.replace(/^\s+/,"").replace(/\s+$/,"")}function Rt(e){return e.str}function It(e){e&&e.constructor!==Object&&("function"==typeof e||("object"!=typeof e?f("data option must be an object or a function, `"+e+"` is not valid"):g("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Ht(e,t){It(t);var n="function"==typeof e,r="function"==typeof t;return t||n||(t={}),n||r?function(){var i=r?Mt(t,this):t,o=n?Mt(e,this):e;return Wt(i,o)}:Wt(t,e)}function Mt(e,t){var n=e.call(t);if(n)return"object"!=typeof n&&f("Data function must return an object"),n.constructor!==Object&&m("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Wt(e,t){if(e&&t){for(var n in t)n in e||(e[n]=t[n]);return e}return e||t}function zt(e){var t,n,r;return e.matchString("=")?(t=e.pos,e.allowWhitespace(),(n=e.matchPattern(Ff))?e.matchPattern(qf)?(r=e.matchPattern(Ff))?(e.allowWhitespace(),e.matchString("=")?[n,r]:(e.pos=t,null)):(e.pos=t,null):null:(e.pos=t,null)):null}function Bt(e){var t;return(t=e.matchPattern(Rf))?{t:gf,v:t}:null}function $t(e){var t,n;if(e.interpolate[e.inside]===!1)return null;for(n=0;n<e.tags.length;n+=1)if(t=Vt(e,e.tags[n]))return t}function Vt(e,t){var n,r,i,o;if(n=e.pos,e.matchString("\\"+t.open)){if(0===n||"\\"!==e.str[n-1])return t.open}else if(!e.matchString(t.open))return null;if(r=Of(e))return e.matchString(t.close)?(t.open=r[0],t.close=r[1],e.sortMustacheTags(),Hf):null;if(e.allowWhitespace(),e.matchString("/")){e.pos-=1;var a=e.pos;Pf(e)?e.pos=a:(e.pos=a-t.close.length,e.error("Attempted to close a section that wasn't open"))}for(o=0;o<t.readers.length;o+=1)if(i=t.readers[o],r=i(e,t))return t.isStatic&&(r.s=!0),e.includeLinePositions&&(r.p=e.getLinePos(n)),r;return e.pos=n,null}function Ut(e){var t;return(t=e.matchPattern(Bf))?{t:cf,v:t}:null}function Xt(e){var t=e.remaining();return"true"===t.substr(0,4)?(e.pos+=4,{t:pf,v:"true"}):"false"===t.substr(0,5)?(e.pos+=5,{t:pf,v:"false"}):null}function Qt(e){var t;return(t=Kf(e))?Jf.test(t.v)?t.v:'"'+t.v.replace(/"/g,'\\"')+'"':(t=zf(e))?t.v:(t=e.matchPattern(Yf))?t:void 0}function Gt(e){var t,n,r;return t=e.pos,e.allowWhitespace(),n=Zf(e),null===n?(e.pos=t,null):(e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),r=Nh(e),null===r?(e.pos=t,null):{t:vf,k:n,v:r}):(e.pos=t,null))}function Kt(e){var t,n,r,i;return t=e.pos,r=eh(e),null===r?null:(n=[r],e.matchString(",")?(i=Kt(e),i?n.concat(i):(e.pos=t,null)):n)}function Yt(e){function t(e){r.push(e)}var n,r,i,o;return n=e.pos,e.allowWhitespace(),i=Nh(e),null===i?null:(r=[i],e.allowWhitespace(),e.matchString(",")&&(o=Yt(e),null===o&&e.error(Mf),o.forEach(t)),r)}function Zt(e){return zf(e)||$f(e)||Kf(e)||nh(e)||ih(e)||Pf(e)}function Jt(e){var t,n,r,i,o,a;return t=e.pos,r=e.matchPattern(/^@(?:keypath|index|key)/),r||(n=e.matchPattern(sh)||"",r=!n&&e.relaxedNames&&e.matchPattern(fh)||e.matchPattern(ch),r||"."!==n||(n="",r=".")),r?n||e.relaxedNames||!Uf.test(r)?!n&&Vf.test(r)?(i=Vf.exec(r)[0],e.pos=t+i.length,{t:mf,v:i}):(o=(n||"")+S(r),e.matchString("(")&&(a=o.lastIndexOf("."),-1!==a?(o=o.substr(0,a),e.pos=t+o.length):e.pos-=1),{t:yf,n:o.replace(/^this\./,"./").replace(/^this$/,".")}):(e.pos=t,null):null}function en(e){var t,n;return t=e.pos,e.matchString("(")?(e.allowWhitespace(),n=Nh(e),n||e.error(Mf),e.allowWhitespace(),e.matchString(")")||e.error(Wf),{t:_f,x:n}):null}function tn(e){var t,n,r;if(t=e.pos,e.allowWhitespace(),e.matchString(".")){if(e.allowWhitespace(),n=e.matchPattern(Yf))return{t:bf,n:n};e.error("Expected a property name")}return e.matchString("[")?(e.allowWhitespace(),r=Nh(e),r||e.error(Mf),e.allowWhitespace(),e.matchString("]")||e.error("Expected ']'"),{t:bf,x:r}):null}function nn(e){var t,n,r,i;return(n=Sh(e))?(t=e.pos,e.allowWhitespace(),e.matchString("?")?(e.allowWhitespace(),r=Nh(e),r||e.error(Mf),e.allowWhitespace(),e.matchString(":")||e.error('Expected ":"'),e.allowWhitespace(),i=Nh(e),i||e.error(Mf),{t:kf,o:[n,r,i]}):(e.pos=t,n)):null}function rn(e){return Ah(e)}function on(e){function t(e){switch(e.t){case pf:case mf:case cf:case gf:return e.v;case ff:return JSON.stringify(String(e.v));case hf:return"["+(e.m?e.m.map(t).join(","):"")+"]";case df:return"{"+(e.m?e.m.map(t).join(","):"")+"}";case vf:return e.k+":"+t(e.v);case xf:return("typeof"===e.s?"typeof ":e.s)+t(e.o);case Ef:return t(e.o[0])+("in"===e.s.substr(0,2)?" "+e.s+" ":e.s)+t(e.o[1]);case Cf:return t(e.x)+"("+(e.o?e.o.map(t).join(","):"")+")";case _f:return"("+t(e.x)+")";case wf:return t(e.x)+t(e.r);case bf:return e.n?"."+e.n:"["+t(e.x)+"]";case kf:return t(e.o[0])+"?"+t(e.o[1])+":"+t(e.o[2]);case yf:return"_"+n.indexOf(e.n);default:throw new Error("Expected legal JavaScript")}}var n;return an(e,n=[]),{r:n,s:t(e)}}function an(e,t){var n,r;if(e.t===yf&&-1===t.indexOf(e.n)&&t.unshift(e.n),r=e.o||e.m)if(l(r))an(r,t);else for(n=r.length;n--;)an(r[n],t);e.x&&an(e.x,t),e.r&&an(e.r,t),e.v&&an(e.v,t)}function sn(e,t){var n;if(e){for(;e.t===_f&&e.x;)e=e.x;return e.t===yf?t.r=e.n:e.t===cf&&Lh.test(e.v)?t.r=e.v:(n=un(e))?t.rx=n:t.x=jh(e),t}}function un(e){for(var t,n=[];e.t===wf&&e.r.t===bf;)t=e.r,n.unshift(t.x?t.x.t===yf?t.x:jh(t.x):t.n),e=e.x;return e.t!==yf?null:{r:e.n,m:n}}function ln(e,t){var n,r=Nh(e);return r?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),n={t:Gc},Dh(r,n),n):null}function cn(e,t){var n,r;return e.matchString("&")?(e.allowWhitespace(),(n=Nh(e))?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),r={t:Gc},Dh(n,r),r):null):null}function fn(e,t){var n,r,i,o,a;return n=e.pos,e.matchString(">")?(e.allowWhitespace(),r=e.pos,e.relaxedNames=!0,i=Nh(e),e.relaxedNames=!1,e.allowWhitespace(),o=Nh(e),e.allowWhitespace(),i?(a={t:ef},Dh(i,a),e.allowWhitespace(),o&&(a={t:Kc,n:Nf,f:[a]},Dh(o,a)),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),a):null):null}function hn(e,t){var n;return e.matchString("!")?(n=e.remaining().indexOf(t.close),-1!==n?(e.pos+=n+t.close.length,{t:tf}):void 0):null}function dn(e,t){var n,r,i;if(n=e.pos,r=Nh(e),!r)return null;for(i=0;i<t.length;i+=1)if(e.remaining().substr(0,t[i].length)===t[i])return r;return e.pos=n,ah(e)}function pn(e,t){var n,r,i,o;n=e.pos;try{r=Rh(e,[t.close])}catch(a){o=a}if(!r){if("!"===e.str.charAt(n))return e.pos=n,null;if(o)throw o}if(!e.matchString(t.close)&&(e.error("Expected closing delimiter '"+t.close+"' after reference"),!r)){if("!"===e.nextChar())return null;e.error("Expected expression or legal reference")}return i={t:Qc},Dh(r,i),i}function gn(e,t){var n,r,i;return e.matchPattern(Mh)?(n=e.pos,r=e.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),e.allowWhitespace(),e.matchString(t.close)||e.error("expected legal partial name"),i={t:sf},r&&(i.n=r),i):null}function mn(e,t){var n,r,i,o;return n=e.pos,e.matchString(t.open)?(e.allowWhitespace(),e.matchString("/")?(e.allowWhitespace(),r=e.remaining(),i=r.indexOf(t.close),-1!==i?(o={t:Zc,r:r.substr(0,i).split(" ")[0]},e.pos+=i,e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),o):(e.pos=n,null)):(e.pos=n,null)):null}function vn(e,t){var n=e.pos;return e.matchString(t.open)?e.matchPattern(Bh)?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),{t:Df}):(e.pos=n,null):null}function yn(e,t){var n,r=e.pos;return e.matchString(t.open)?e.matchPattern(Vh)?(n=Nh(e),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),{t:Lf,x:n}):(e.pos=r,null):null}function bn(e,t){var n,r,i,o,a,s,u,l,c,f,h,d;if(n=e.pos,e.matchString("^"))i={t:Kc,f:[],n:Sf};else{if(!e.matchString("#"))return null;i={t:Kc,f:[]},e.matchString("partial")&&(e.pos=n-e.standardDelimiters[0].length,e.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=e.matchPattern(Kh))&&(d=u,i.n=Uh[u])}if(e.allowWhitespace(),r=Nh(e),r||e.error("Expected expression"),h=e.matchPattern(Qh)){var p=void 0;i.i=(p=e.matchPattern(Gh))?h+","+p:h}e.allowWhitespace(),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),e.sectionDepth+=1,a=i.f,c=[];do if(o=Wh(e,t))d&&o.r!==d&&e.error("Expected "+t.open+"/"+d+t.close),e.sectionDepth-=1,f=!0;else if(o=$h(e,t))i.n===Sf&&e.error("{{else}} not allowed in {{#unless}}"),s&&e.error("illegal {{elseif...}} after {{else}}"),l||(l=wn(r,i.n)),l.f.push({t:Kc,n:Tf,x:jh(_n(c.concat(o.x))),f:a=[]}),c.push(xn(o.x));else if(o=zh(e,t))i.n===Sf&&e.error("{{else}} not allowed in {{#unless}}"),s&&e.error("there can only be one {{else}} block, at the end of a section"),s=!0,l?l.f.push({t:Kc,n:Tf,x:jh(_n(c)),f:a=[]}):(l=wn(r,i.n),a=l.f);else{if(o=e.read(ep),!o)break;a.push(o)}while(!f);return l&&(i.n===Nf&&(i.n=jf),i.l=l),Dh(r,i),i.f.length||delete i.f,i}function wn(e,t){var n;return t===Nf?(n={t:Kc,n:Tf,f:[]},Dh(xn(e),n)):(n={t:Kc,n:Sf,f:[]},Dh(e,n)),n}function xn(e){return e.t===xf&&"!"===e.s?e.o:{t:xf,s:"!",o:kn(e)}}function _n(e){return 1===e.length?e[0]:{t:Ef,s:"&&",o:[kn(e[0]),kn(_n(e.slice(1)))]}}function kn(e){return{t:_f,x:e}}function En(e){var t,n,r,i,o;return t=e.pos,e.matchString(Zh)?(r=e.remaining(),i=r.indexOf(Jh),-1===i&&e.error("Illegal HTML - expected closing comment sequence ('-->')"),n=r.substr(0,i),e.pos+=i+3,o={t:tf,c:n},e.includeLinePositions&&(o.p=e.getLinePos(t)),o):null}function Cn(e){return e.replace(kh,function(e,t){var n;return n="#"!==t[0]?xh[t]:"x"===t[1]?parseInt(t.substring(2),16):parseInt(t.substring(1),10),n?String.fromCharCode(Tn(n)):e})}function Tn(e){return e?10===e?32:128>e?e:159>=e?_h[e-128]:55296>e?e:57343>=e?65533:65535>=e?e:65533:65533}function Sn(e){return e.replace(Th,"&amp;").replace(Eh,"&lt;").replace(Ch,"&gt;")}function An(e){return"string"==typeof e}function Nn(e){return e.t===tf||e.t===nf}function jn(e){return(e.t===Kc||e.t===Yc)&&e.f}function Dn(e,t,n,r,i){var a,s,u,l,c,f,h,d;for(ld(e),a=e.length;a--;)s=e[a],s.exclude?e.splice(a,1):t&&s.t===tf&&e.splice(a,1);for(cd(e,r?pd:null,i?gd:null),a=e.length;a--;){if(s=e[a],s.f){var p=s.t===Jc&&dd.test(s.e);c=n||p,!n&&p&&cd(s.f,md,vd),c||(u=e[a-1],l=e[a+1],(!u||"string"==typeof u&&gd.test(u))&&(f=!0),(!l||"string"==typeof l&&pd.test(l))&&(h=!0)),Dn(s.f,t,c,f,h)}if(s.l&&(Dn(s.l.f,t,n,f,h),e.splice(a+1,0,s.l),delete s.l),s.a)for(d in s.a)s.a.hasOwnProperty(d)&&"string"!=typeof s.a[d]&&Dn(s.a[d],t,n,f,h);if(s.m&&Dn(s.m,t,n,f,h),s.v)for(d in s.v)s.v.hasOwnProperty(d)&&(o(s.v[d].n)&&Dn(s.v[d].n,t,n,f,h),o(s.v[d].d)&&Dn(s.v[d].d,t,n,f,h))}for(a=e.length;a--;)"string"==typeof e[a]&&("string"==typeof e[a+1]&&(e[a]=e[a]+e[a+1],e.splice(a+1,1)),n||(e[a]=e[a].replace(hd," ")),""===e[a]&&e.splice(a,1))}function Ln(e){var t,n;return t=e.pos,e.matchString("</")?(n=e.matchPattern(bd))?e.inside&&n!==e.inside?(e.pos=t,null):{t:of,e:n}:(e.pos-=2,void e.error("Illegal closing tag")):null}function On(e){var t,n,r;return e.allowWhitespace(),(n=e.matchPattern(_d))?(t={name:n},r=Fn(e),null!=r&&(t.value=r),t):null}function Fn(e){var t,n,r,i;return t=e.pos,/[=\/>\s]/.test(e.nextChar())||e.error("Expected `=`, `/`, `>` or whitespace"),e.allowWhitespace(),e.matchString("=")?(e.allowWhitespace(),n=e.pos,r=e.sectionDepth,i=Rn(e,"'")||Rn(e,'"')||Pn(e),null===i&&e.error("Expected valid attribute value"),e.sectionDepth!==r&&(e.pos=n,e.error("An attribute value must contain as many opening section tags as closing section tags")),i.length?1===i.length&&"string"==typeof i[0]?Cn(i[0]):i:""):(e.pos=t,null)}function qn(e){var t,n,r,i,o;return t=e.pos,(n=e.matchPattern(kd))?(r=n,i=e.tags.map(function(e){return e.open}),-1!==(o=wd(r,i))&&(n=n.substr(0,o),e.pos=t+n.length),n):null}function Pn(e){var t,n;for(e.inAttribute=!0,t=[],n=If(e)||qn(e);null!==n;)t.push(n),n=If(e)||qn(e);return t.length?(e.inAttribute=!1,t):null}function Rn(e,t){var n,r,i;if(n=e.pos,!e.matchString(t))return null;for(e.inAttribute=t,r=[],i=If(e)||In(e,t);null!==i;)r.push(i),i=If(e)||In(e,t);return e.matchString(t)?(e.inAttribute=!1,r):(e.pos=n,null)}function In(e,t){var n,r,i,o;return n=e.pos,i=e.remaining(),o=e.tags.map(function(e){return e.open}),o.push(t),r=wd(i,o),-1===r&&e.error("Quoted attribute value must have a closing quote"),r?(e.pos+=r,i.substr(0,r)):null}function Hn(e){var t,n,r;return e.allowWhitespace(),(t=Zf(e))?(r={key:t},e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),(n=e.read())?(r.value=n.v,r):null):null):null}function Mn(e,t){var n,r,i,o,a,s,u,l,c;if("string"==typeof e){if(r=Sd.exec(e)){var f=e.lastIndexOf(")");return Ad.test(e)||t.error("Invalid input after method call expression '"+e.slice(f+1)+"'"),n={m:r[1]},o="["+e.slice(n.m.length+1,f)+"]",i=new Ed(o),n.a=jh(i.result[0]),n}if(-1===e.indexOf(":"))return e.trim();e=[e]}if(n={},u=[],l=[],e){for(;e.length;)if(a=e.shift(),"string"==typeof a){if(s=a.indexOf(":"),-1!==s){s&&u.push(a.substr(0,s)),a.length>s+1&&(l[0]=a.substring(s+1));break}u.push(a)}else u.push(a);l=l.concat(e)}return u.length?l.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===l.length&&"string"==typeof l[0]?(c=Cd("["+l[0]+"]"),n.a=c?c.value:l[0].trim()):n.d=l):n=u:n="",n}function Wn(e){var t,n,r,i,o,a,s,u,l,c,f,h,d,p,g,m;if(t=e.pos,e.inside||e.inAttribute)return null;if(!e.matchString("<"))return null;if("/"===e.nextChar())return null;if(n={},e.includeLinePositions&&(n.p=e.getLinePos(t)),e.matchString("!"))return n.t=lf,e.matchPattern(/^doctype/i)||e.error("Expected DOCTYPE declaration"),n.a=e.matchPattern(/^(.+?)>/),n;if(n.t=Jc,n.e=e.matchPattern(jd),!n.e)return null;for(Dd.test(e.nextChar())||e.error("Illegal tag name"),o=function(t,r){var i=r.n||r;Fd.test(i)&&(e.pos-=i.length,e.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[t]=r},e.allowWhitespace();a=If(e)||xd(e);)a.name?(r=qd[a.name])?n[r]=Td(a.value,e):(i=Od.exec(a.name))?(n.v||(n.v={}),s=Td(a.value,e),o(i[1],s)):e.sanitizeEventAttributes&&Ld.test(a.name)||(n.a||(n.a={}),n.a[a.name]=a.value||(""===a.value?"":0)):(n.m||(n.m=[]),n.m.push(a)),e.allowWhitespace();if(e.allowWhitespace(),e.matchString("/")&&(u=!0),!e.matchString(">"))return null;var v=n.e.toLowerCase(),y=e.preserveWhitespace;if(!u&&!wh.test(n.e)){e.elementStack.push(v),("script"===v||"style"===v)&&(e.inside=v),l=[],c=wu(null);do if(p=e.pos,g=e.remaining(),zn(v,g))if(m=yd(e)){d=!0;var b=m.e.toLowerCase();if(b!==v&&(e.pos=p,!~e.elementStack.indexOf(b))){var w="Unexpected closing tag";wh.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),e.error(w)}}else(h=Wh(e,{open:e.standardDelimiters[0],close:e.standardDelimiters[1]}))?(d=!0,e.pos=p):(h=e.read(tp))?(c[h.n]&&(e.pos=p,e.error("Duplicate partial definition")),fd(h.f,e.stripComments,y,!y,!y),c[h.n]=h.f,f=!0):(h=e.read(ep))?l.push(h):d=!0;else d=!0;while(!d);l.length&&(n.f=l),f&&(n.p=c),e.elementStack.pop()}return e.inside=null,e.sanitizeElements&&-1!==e.sanitizeElements.indexOf(v)?Pd:n}function zn(e,t){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(t),r=Nd[e],n&&r?!~r.indexOf(n[1].toLowerCase()):!0}function Bn(e){var t,n,r,i;return n=e.remaining(),i=e.inside?"</"+e.inside:"<",e.inside&&!e.interpolate[e.inside]?t=n.indexOf(i):(r=e.tags.map(function(e){return e.open}),r=r.concat(e.tags.map(function(e){return"\\"+e.open})),e.inAttribute===!0?r.push('"',"'","=","<",">","`"):r.push(e.inAttribute?e.inAttribute:i),t=wd(n,r)),t?(-1===t&&(t=n.length),e.pos+=t,e.inside?n.substr(0,t):Cn(n.substr(0,t))):null}function $n(e){return e.replace(Wd,"\\$&")}function Vn(e){var t=e.pos,n=e.standardDelimiters[0],r=e.standardDelimiters[1],i=void 0,o=void 0;if(!e.matchPattern(Bd)||!e.matchString(n))return e.pos=t,null;var a=e.matchPattern($d);if(m("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+a+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+a+"}} --> ... <!-- {{/"+a+"}} -->'"),!e.matchString(r)||!e.matchPattern(Vd))return e.pos=t,null;i=[];var s=new RegExp("^<!--\\s*"+Md(n)+"\\s*\\/\\s*"+a+"\\s*"+Md(r)+"\\s*-->");do e.matchPattern(s)?o=!0:(Rd=e.read(ep),Rd||e.error("expected closing comment ('<!-- "+n+"/"+a+r+" -->')"),i.push(Rd));while(!o);return{t:uf,f:i,n:a}}function Un(e){var t,n,r,i,o;t=e.pos;var a=e.standardDelimiters;if(!e.matchString(a[0]))return null;if(!e.matchPattern(Xd))return e.pos=t,null;n=e.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||e.error("expected legal partial name"),e.matchString(a[1])||e.error("Expected closing delimiter '"+a[1]+"'"),r=[];do(i=Wh(e,{open:e.standardDelimiters[0],close:e.standardDelimiters[1]}))?("partial"===!i.r&&e.error("Expected "+a[0]+"/partial"+a[1]),o=!0):(i=e.read(ep),i||e.error("Expected "+a[0]+"/partial"+a[1]),r.push(i));while(!o);return{t:uf,n:n,f:r}}function Xn(e){for(var t=[],n=wu(null),r=!1,i=e.preserveWhitespace;e.pos<e.str.length;){var o=e.pos,a=void 0,s=void 0;(s=e.read(tp))?(n[s.n]&&(e.pos=o,e.error("Duplicated partial definition")),fd(s.f,e.stripComments,i,!i,!i),n[s.n]=s.f,r=!0):(a=e.read(ep))?t.push(a):e.error("Unexpected template content")}var u={v:au,t:t};return r&&(u.p=n),u}function Qn(e,t){return new Jd(e,t||{}).result}function Gn(e){var t=wu(ap);return t.parse=function(t,n){return Kn(t,n||e)},t}function Kn(e,t){if(!Gd)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Gd(e,t||this.options)}function Yn(e,t){var n;if(!Js){if(t&&t.noThrow)return;throw new Error("Cannot retrieve template #"+e+" as Ractive is not running in a browser.")}if(Zn(e)&&(e=e.substring(1)),!(n=document.getElementById(e))){if(t&&t.noThrow)return;throw new Error("Could not find template element with id #"+e)}if("SCRIPT"!==n.tagName.toUpperCase()){if(t&&t.noThrow)return;throw new Error("Template element with id #"+e+", must be a <script> element")
}return"textContent"in n?n.textContent:n.innerHTML}function Zn(e){return e&&"#"===e[0]}function Jn(e){return!("string"==typeof e)}function er(e){return e.defaults&&(e=e.defaults),op.reduce(function(t,n){return t[n]=e[n],t},{})}function tr(e){var t,n=e._config.template;if(n&&n.fn)return t=nr(e,n.fn),t!==n.result?(n.result=t,t=ir(t,e)):void 0}function nr(e,t){var n=rr(sp.getParseOptions(e));return t.call(e,n)}function rr(e){var t=wu(sp);return t.parse=function(t,n){return sp.parse(t,n||e)},t}function ir(e,t){if("string"==typeof e)"#"===e[0]&&(e=sp.fromId(e)),e=Gd(e,sp.getParseOptions(t));else{if(void 0==e)throw new Error("The template cannot be "+e+".");if("number"!=typeof e.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(e.v!==au)throw new Error("Mismatched template version (expected "+au+", got "+e.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return e}function or(e,t,n){if(t)for(var r in t)(n||!e.hasOwnProperty(r))&&(e[r]=t[r])}function ar(e,t,n){if(!/_super/.test(n))return n;var r=function(){var e,i=sr(r._parent,t),o="_super"in this,a=this._super;return this._super=i,e=n.apply(this,arguments),o?this._super=a:delete this._super,e};return r._parent=e,r._method=n,r}function sr(e,t){var n,r;return t in e?(n=e[t],r="function"==typeof n?n:function(){return n}):r=Du,r}function ur(e,t,n){return"options."+e+" has been deprecated in favour of options."+t+"."+(n?" You cannot specify both options, please use options."+t+".":"")}function lr(e,t,n){if(t in e){if(n in e)throw new Error(ur(t,n,!0));g(ur(t,n)),e[n]=e[t]}}function cr(e){lr(e,"beforeInit","onconstruct"),lr(e,"init","onrender"),lr(e,"complete","oncomplete"),lr(e,"eventDefinitions","events"),o(e.adaptors)&&lr(e,"adaptors","adapt")}function fr(e,t,n,r){yp(r);for(var i in r)if(gp.hasOwnProperty(i)){var o=r[i];"el"!==i&&"function"==typeof o?g(""+i+" is a Ractive option that does not expect a function and will be ignored","init"===e?n:null):n[i]=o}mp.forEach(function(i){i[e](t,n,r)}),jc[e](t,n,r),lp[e](t,n,r),Hc[e](t,n,r),hr(t.prototype,n,r)}function hr(e,t,n){for(var r in n)if(!pp[r]&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=vp(e,r,i)),t[r]=i}}function dr(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}function pr(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function gr(){var e;return 1===this.items.length?this.items[0].detach():(e=document.createDocumentFragment(),this.items.forEach(function(t){var n=t.detach();n&&e.appendChild(n)}),e)}function mr(e){var t,n,r,i;if(this.items){for(n=this.items.length,t=0;n>t;t+=1)if(r=this.items[t],r.find&&(i=r.find(e)))return i;return null}}function vr(e,t){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAll&&i.findAll(e,t);return t}function yr(e,t){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(e,t);return t}function br(e){var t,n,r,i;if(this.items){for(t=this.items.length,n=0;t>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(e)))return i;return null}}function wr(e){var t,n=e.index;return t=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xr(){return this.items&&this.items[0]?this.items[0].firstNode():null}function _r(e,t,n,r){return r=r||0,e.map(function(e){var i,o,a;return e.text?e.text:e.fragments?e.fragments.map(function(e){return _r(e.items,t,n,r)}).join(""):(i=n+"-"+r++,a=e.keypath&&(o=e.root.viewmodel.wrapped[e.keypath.str])?o.value:e.getValue(),t[i]=a,"${"+i+"}")}).join("")}function kr(){var e,t,n,r;return this.dirtyArgs&&(t=Ap(this.items,e={},this.root._guid),n=Cd("["+t+"]",e),r=n?n.value:[this.toString()],this.argsList=r,this.dirtyArgs=!1),this.argsList}function Er(){var e=this;do if(e.pElement)return e.pElement.node;while(e=e.parent);return this.root.detached||this.root.el}function Cr(){var e,t,n,r;return this.dirtyValue&&(t=Ap(this.items,e={},this.root._guid),n=Cd(t,e),r=n?n.value:this.toString(),this.value=r,this.dirtyValue=!1),this.value}function Tr(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Sr(){return this.value}function Ar(e,t){for(var n,r=0;r<t.prop.length;r++)if(void 0!==(n=e[t.prop[r]]))return n}function Nr(e,t){var n,r,i,o,a,s={},u=!1;for(t||(s.refs=n={});e;){if((a=e.owner)&&(r=a.indexRefs)){if(t&&(i=a.getIndexRef(t)))return s.ref={fragment:e,ref:i},s;if(!t)for(o in r)i=r[o],n[i.n]||(u=!0,n[i.n]={fragment:e,ref:i})}!e.parent&&e.owner&&e.owner.component&&e.owner.component.parentFragment&&!e.owner.component.instance.isolated?(s.componentBoundary=!0,e=e.owner.component.parentFragment):e=e.parent}return u?s:void 0}function jr(e,t,n){var r;return"@"===t.charAt(0)?new Wp(e,t,n):(r=$p(e.parentFragment,t))?new Bp(e,r,n):new Ip(e,t,n)}function Dr(e,t){var n,r;if(Qp[e])return Qp[e];for(r=[];t--;)r[t]="_"+t;return n=new Function(r.join(","),"return("+e+")"),Qp[e]=n,n}function Lr(e){return e.call()}function Or(e,t){return e.replace(/_([0-9]+)/g,function(e,n){var r,i;return+n>=t.length?"_"+n:(r=t[n],void 0===r?"undefined":r.isSpecial?(i=r.value,"number"==typeof i?i:'"'+i+'"'):r.str)})}function Fr(e){return E("${"+e.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function qr(e){return void 0!==e&&"@"!==e[0]}function Pr(e,t){var n,r,i;if(e.__ractive_nowrap)return e;if(r="__ractive_"+t._guid,n=e[r])return n;if(/this/.test(e.toString())){xu(e,r,{value:Gp.call(e,t),configurable:!0});for(i in e)e.hasOwnProperty(i)&&(e[r][i]=e[i]);return t._boundFunctions.push({fn:e,prop:r}),e[r]}return xu(e,"__ractive_nowrap",{value:e}),e.__ractive_nowrap}function Rr(e){return e.value}function Ir(e){return void 0!=e}function Hr(e){e.forceResolution()}function Mr(e,t){function n(t){e.resolve(t)}function r(t){var n=e.keypath;t!=n&&(e.resolve(t),void 0!==n&&e.fragments&&e.fragments.forEach(function(e){e.rebind(n,t)}))}var i,o,a;o=t.parentFragment,a=t.template,e.root=o.root,e.parentFragment=o,e.pElement=o.pElement,e.template=t.template,e.index=t.index||0,e.isStatic=t.template.s,e.type=t.template.t,e.registered=!1,(i=a.r)&&(e.resolver=Up(e,i,n)),t.template.x&&(e.resolver=new Kp(e,o,t.template.x,r)),t.template.rx&&(e.resolver=new eg(e,t.template.rx,r)),e.template.n!==Sf||e.hasOwnProperty("value")||e.setValue(void 0)}function Wr(e){var t,n,r;return e&&e.isSpecial?(this.keypath=e,void this.setValue(e.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,t=!0),this.keypath=e,void 0!=e&&(n=this.root.viewmodel.get(e),this.root.viewmodel.register(e,this),this.registered=!0),this.setValue(n),void(t&&(r=this.twowayBinding)&&r.rebound()))}function zr(e,t){this.fragments&&this.fragments.forEach(function(n){return n.rebind(e,t)}),this.resolver&&this.resolver.rebind(e,t)}function Br(){this.parentFragment.bubble()}function $r(){var e;return 1===this.fragments.length?this.fragments[0].detach():(e=document.createDocumentFragment(),this.fragments.forEach(function(t){e.appendChild(t.detach())}),e)}function Vr(e){var t,n,r;for(n=this.fragments.length,t=0;n>t;t+=1)if(r=this.fragments[t].find(e))return r;return null}function Ur(e,t){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(e,t)}function Xr(e,t){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(e,t)}function Qr(e){var t,n,r;for(n=this.fragments.length,t=0;n>t;t+=1)if(r=this.fragments[t].findComponent(e))return r;return null}function Gr(e){return this.fragments[e.index+1]?this.fragments[e.index+1].firstNode():this.parentFragment.findNextNode(this)}function Kr(){var e,t,n;if(e=this.fragments.length)for(t=0;e>t;t+=1)if(n=this.fragments[t].firstNode())return n;return this.parentFragment.findNextNode(this)}function Yr(e){var t,n,r,i,o,a,s,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Af){if(this.shuffling=!0,gl.scheduleTask(function(){return u.shuffling=!1}),t=this.parentFragment,o=[],e.forEach(function(e,t){var r,i,a,s,l;return e===t?void(o[e]=u.fragments[t]):(r=u.fragments[t],void 0===n&&(n=t),-1===e?(u.fragmentsToUnrender.push(r),void r.unbind()):(i=e-t,a=u.keypath.join(t),s=u.keypath.join(e),r.index=e,(l=r.registeredIndexRefs)&&l.forEach(Zr),r.rebind(a,s),void(o[e]=r)))}),i=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===i)return;n=this.length}for(this.length=this.fragments.length=i,this.rendered&&gl.addView(this),a={template:this.template.f,root:this.root,owner:this},r=n;i>r;r+=1)s=o[r],s||this.fragmentsToCreate.push(r),this.fragments[r]=s}}function Zr(e){e.rebind("","")}function Jr(){var e=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(t){return e.docFrag.appendChild(t.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function ei(e){var t,n,r=this;this.updating||(this.updating=!0,this.keypath&&(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(e){var t;n.context=r.keypath.join(e),n.index=e,t=new yw(n),r.fragmentsToRender.push(r.fragments[e]=t)}),this.fragmentsToCreate.length=0):ni(this,e)&&(this.bubble(),this.rendered&&gl.addView(this)),this.value=e,this.updating=!1)}function ti(e,t,n){if(t===Af&&e.indexRefs&&e.indexRefs[0]){var r=e.indexRefs[0];(n&&"i"===r.t||!n&&"k"===r.t)&&(n||(e.length=0,e.fragmentsToUnrender=e.fragments.slice(0),e.fragmentsToUnrender.forEach(function(e){return e.unbind()}))),r.t=n?"k":"i"}e.currentSubtype=t}function ni(e,t){var n={template:e.template.f||[],root:e.root,pElement:e.parentFragment.pElement,owner:e};if(e.hasContext=!0,e.subtype)switch(e.subtype){case Tf:return e.hasContext=!1,si(e,t,!1,n);case Sf:return e.hasContext=!1,si(e,t,!0,n);case Nf:return ai(e,n);case jf:return oi(e,t,n);case Af:if(l(t))return ti(e,e.subtype,!0),ii(e,t,n)}return e.ordered=!!a(t),e.ordered?(ti(e,Af,!1),ri(e,t,n)):l(t)||"function"==typeof t?e.template.i?(ti(e,Af,!0),ii(e,t,n)):(ti(e,Nf,!1),ai(e,n)):(ti(e,Tf,!1),e.hasContext=!1,si(e,t,!1,n))}function ri(e,t,n){var r,i,o;if(i=t.length,i===e.length)return!1;if(i<e.length)e.fragmentsToUnrender=e.fragments.splice(i,e.length-i),e.fragmentsToUnrender.forEach(X);else if(i>e.length)for(r=e.length;i>r;r+=1)n.context=e.keypath.join(r),n.index=r,o=new yw(n),e.fragmentsToRender.push(e.fragments[r]=o);return e.length=i,!0}function ii(e,t,n){var r,i,o,a,s,u;for(o=e.hasKey||(e.hasKey={}),i=e.fragments.length;i--;)a=e.fragments[i],a.key in t||(s=!0,a.unbind(),e.fragmentsToUnrender.push(a),e.fragments.splice(i,1),o[a.key]=!1);for(i=e.fragments.length;i--;)a=e.fragments[i],a.index!==i&&(a.index=i,(u=a.registeredIndexRefs)&&u.forEach(ci));i=e.fragments.length;for(r in t)o[r]||(s=!0,n.context=e.keypath.join(r),n.key=r,n.index=i++,a=new yw(n),e.fragmentsToRender.push(a),e.fragments.push(a),o[r]=!0);return e.length=e.fragments.length,s}function oi(e,t,n){return t?ai(e,n):ui(e)}function ai(e,t){var n;return e.length?void 0:(t.context=e.keypath,t.index=0,n=new yw(t),e.fragmentsToRender.push(e.fragments[0]=n),e.length=1,!0)}function si(e,t,n,r){var i,o,s,u,c;if(o=a(t)&&0===t.length,s=!1,!a(t)&&l(t)){s=!0;for(c in t){s=!1;break}}return i=n?o||s||!t:t&&!o&&!s,i?e.length?e.length>1?(e.fragmentsToUnrender=e.fragments.splice(1),e.fragmentsToUnrender.forEach(X),!0):void 0:(r.index=0,u=new yw(r),e.fragmentsToRender.push(e.fragments[0]=u),e.length=1,!0):ui(e)}function ui(e){return e.length?(e.fragmentsToUnrender=e.fragments.splice(0,e.fragments.length).filter(li),e.fragmentsToUnrender.forEach(X),e.length=e.fragmentsToRender.length=0,!0):void 0}function li(e){return e.rendered}function ci(e){e.rebind("","")}function fi(e){var t,n,r;for(t="",n=0,r=this.length,n=0;r>n;n+=1)t+=this.fragments[n].toString(e);return t}function hi(){var e=this;this.fragments.forEach(X),this.fragmentsToRender.forEach(function(t){return P(e.fragments,t)}),this.fragmentsToRender=[],qp.call(this),this.length=0,this.unbound=!0}function di(e){this.fragments.forEach(e?pi:gi),this.renderedFragments=[],this.rendered=!1}function pi(e){e.unrender(!0)}function gi(e){e.unrender(!1)}function mi(){var e,t,n,r,i,o,a;for(n=this.renderedFragments;e=this.fragmentsToUnrender.pop();)e.unrender(!0),n.splice(n.indexOf(e),1);for(;e=this.fragmentsToRender.shift();)e.render();for(this.rendered&&(i=this.parentFragment.getNode()),a=this.fragments.length,o=0;a>o;o+=1)e=this.fragments[o],t=n.indexOf(e,o),t!==o?(this.docFrag.appendChild(e.detach()),-1!==t&&n.splice(t,1),n.splice(o,0,e)):this.docFrag.childNodes.length&&(r=e.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()}function vi(){var e,t;if(this.docFrag){for(e=this.nodes.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.nodes[t]);return this.docFrag}}function yi(e){var t,n,r,i;for(n=this.nodes.length,t=0;n>t;t+=1)if(r=this.nodes[t],1===r.nodeType){if(hu(r,e))return r;if(i=r.querySelector(e))return i}return null}function bi(e,t){var n,r,i,o,a,s;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType&&(hu(i,e)&&t.push(i),o=i.querySelectorAll(e)))for(a=o.length,s=0;a>s;s+=1)t.push(o[s])}function wi(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xi(e){return Dg[e]||(Dg[e]=fu(e))}function _i(e){var t,n,r;e&&"select"===e.name&&e.binding&&(t=R(e.node.options).filter(ki),e.getAttribute("multiple")?r=t.map(function(e){return e.value}):(n=t[0])&&(r=n.value),void 0!==r&&e.binding.setValue(r),e.bubble())}function ki(e){return e.selected}function Ei(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Lg(this.value,this.parentFragment.getNode(),this.docFrag),Og(this.pElement),this.rendered=!0,this.docFrag}function Ci(e){var t;(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),e!==this.value&&(this.value=e,this.parentFragment.bubble(),this.rendered&&gl.addView(this))}function Ti(){return void 0!=this.value?Cn(""+this.value):""}function Si(e){this.rendered&&e&&(this.nodes.forEach(t),this.rendered=!1)}function Ai(){var e,t;if(this.rendered){for(;this.nodes&&this.nodes.length;)e=this.nodes.pop(),e.parentNode.removeChild(e);t=this.parentFragment.getNode(),this.nodes=Lg(this.value,t,this.docFrag),t.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Og(this.pElement)}}function Ni(){var e,t=this.node;return t?((e=t.parentNode)&&e.removeChild(t),t):void 0}function ji(){return null}function Di(){return this.node}function Li(e){return this.attributes&&this.attributes[e]?this.attributes[e].value:void 0}function Oi(){var e=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();s(e,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=e,"value"===this.name&&this.node&&(this.node._ractive.value=e),this.rendered&&gl.addView(this))}function Fi(e){var t=e.fragment.items;if(1===t.length)return t[0].type===Qc?t[0]:void 0}function qi(e){return this.type=rf,this.element=e.element,this.root=e.root,om(this,e.name),this.isBoolean=bh.test(this.name),e.value&&"string"!=typeof e.value?(this.parentFragment=this.element.parentFragment,this.fragment=new yw({template:e.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=am(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:e.value||"")}function Pi(e,t){this.fragment&&this.fragment.rebind(e,t)}function Ri(e){var t;this.node=e,e.namespaceURI&&e.namespaceURI!==ru.html||(t=cm[this.name]||this.name,void 0!==e[t]&&(this.propertyName=t),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===t&&(e._ractive.value=this.value)),this.rendered=!0,this.update()}function Ii(){var e=this,t=e.name,n=e.namespacePrefix,r=e.value,i=e.interpolator,o=e.fragment;if(("value"!==t||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==t||void 0===this.element.getAttribute("contenteditable"))){if("name"===t&&"input"===this.element.name&&i)return"name={{"+(i.keypath.str||i.ref)+"}}";if(this.isBoolean)return r?t:"";if(o){if(1===o.items.length&&null==o.items[0].value)return"";r=o.toString()}return n&&(t=n+":"+t),r?t+'="'+Hi(r)+'"':t}}function Hi(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Mi(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Wi(){var e,t,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,e=this.node.options,r=e.length;r--;)if(t=e[r],n=t._ractive?t._ractive.value:t.value,n==i){t.selected=!0;break}}function zi(){var e,t,n,r,i=this.value;for(o(i)||(i=[i]),e=this.node.options,t=e.length;t--;)n=e[t],r=n._ractive?n._ractive.value:n.value,n.selected=L(i,r)}function Bi(){var e=this,t=e.node,n=e.value;t.checked=n==t._ractive.value}function $i(){var e,t,n,r,i=this.node;if(e=i.checked,i.value=this.element.getAttribute("value"),i.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),e&&!i.checked&&this.element.binding&&(n=this.element.binding.siblings,r=n.length)){for(;r--;){if(t=n[r],!t.element.node)return;if(t.element.node.checked)return gl.addRactive(t.root),t.handleChange()}this.root.viewmodel.set(t.keypath,void 0)}}function Vi(){var e,t,n=this,r=n.element,i=n.node,a=n.value,s=r.binding;if(e=r.getAttribute("value"),o(a)){for(t=a.length;t--;)if(e==a[t])return void(s.isChecked=i.checked=!0);s.isChecked=i.checked=!1}else s.isChecked=i.checked=a==e}function Ui(){this.node.className=n(this.value)}function Xi(){var e=this,t=e.node,n=e.value;this.root.nodes[n]=t,t.id=n}function Qi(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),e.style.setAttribute("cssText",t)}function Gi(){var e=this.value;void 0===e&&(e=""),this.locked||(this.node.innerHTML=e)}function Ki(){var e=this,t=e.node,n=e.value;t._ractive.value=n,this.locked||(t.value=void 0==n?"":n)}function Yi(){this.locked||(this.node[this.propertyName]=this.value)}function Zi(){var e=this,t=e.node,n=e.namespace,r=e.name,i=e.value,o=e.fragment;n?t.setAttributeNS(n,r,(o||i).toString()):this.isBoolean?i?t.setAttribute(r,""):t.removeAttribute(r):null==i?t.removeAttribute(r):t.setAttribute(r,(o||i).toString())}function Ji(){var e,t,n=this,r=n.name,i=n.element,o=n.node;"id"===r?t=bm:"value"===r?"select"===i.name&&"value"===r?t=i.getAttribute("multiple")?pm:dm:"textarea"===i.name?t=_m:null!=i.getAttribute("contenteditable")?t=xm:"input"===i.name&&(e=i.getAttribute("type"),t="file"===e?Du:"radio"===e&&i.binding&&"name"===i.binding.name?mm:_m):this.isTwoway&&"name"===r?"radio"===o.type?t=gm:"checkbox"===o.type&&(t=vm):"style"===r&&o.style.setAttribute?t=wm:"class"!==r||o.namespaceURI&&o.namespaceURI!==ru.html?this.useProperty&&(t=km):t=ym,t||(t=Em),this.update=t,this.update()}function eo(e,t){var n=t?"svg":"div";return Sm.innerHTML="<"+n+" "+e+"></"+n+">",R(Sm.childNodes[0].attributes)}function to(e,t){for(var n=e.length;n--;)if(e[n].name===t.name)return!1;return!0}function no(e){for(;e=e.parent;)if("form"===e.name)return e}function ro(){this._ractive.binding.handleChange()}function io(){var e;Pm.call(this),e=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==e?"":e}function oo(){var e=this._ractive.binding,t=this;e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.rendered&&Pm.call(t),e._timeout=void 0},e.element.lazy)}function ao(e,t,n){var r=e+t+n;return Wm[r]||(Wm[r]=[])}function so(e){return e.isChecked}function uo(e){return e.element.getAttribute("value")}function lo(e){var t,n,r,i,o,a=e.attributes;return e.binding&&(e.binding.teardown(),e.binding=null),(e.getAttribute("contenteditable")||a.contenteditable&&co(a.contenteditable))&&co(a.value)?n=Hm:"input"===e.name?(t=e.getAttribute("type"),"radio"===t||"checkbox"===t?(r=co(a.name),i=co(a.checked),r&&i&&g("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:e.root}),r?n="radio"===t?Vm:Xm:i&&(n="radio"===t?Bm:Gm)):"file"===t&&co(a.value)?n=tv:co(a.value)&&(n="number"===t||"range"===t?nv:Rm)):"select"===e.name&&co(a.value)?n=e.getAttribute("multiple")?Jm:Ym:"textarea"===e.name&&co(a.value)&&(n=Rm),n&&(o=new n(e))&&o.keypath?o:void 0}function co(e){return e&&e.isBindable}function fo(){var e=this.getAction();e&&!this.hasListener?this.listen():!e&&this.hasListener&&this.unrender()}function ho(e){Wl(this.root,this.getAction(),{event:e})}function po(){return this.action.toString().trim()}function go(e,t,n){var r,i,o,a=this;this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.name=t,-1!==t.indexOf("*")&&(f('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',e.name,t),this.invalid=!0),n.m?(i=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Xp(n.a.s,i.length),this.parentFragment=e.parentFragment,o=this.root,this.refResolvers=[],i.forEach(function(e,t){var n=void 0;(n=uv.exec(e))?a.keypaths[t]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:a.refResolvers.push(Up(a,e,function(e){return a.resolve(t,e)}))}),this.fire=mo):(r=n.n||n,"string"!=typeof r&&(r=new yw({template:r,root:this.root,owner:this})),this.action=r,n.d?(this.dynamicParams=new yw({template:n.d,root:this.root,owner:this.element}),this.fire=yo):n.a&&(this.params=n.a,this.fire=vo))}function mo(e){var t,n,r;if(t=this.root,"function"!=typeof t[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var r,i,o;if(void 0===n)return void 0;if(n.eventObject){if(r=e,i=n.refinements.length)for(o=0;i>o;o+=1)r=r[n.refinements[o]]}else r=t.viewmodel.get(n);return r}),Ml.enqueue(t,e),r=this.fn.apply(null,n),t[this.method].apply(t,r),Ml.dequeue(t)}function vo(e){Wl(this.root,this.getAction(),{event:e,args:this.params})}function yo(e){var t=this.dynamicParams.getArgsList();"string"==typeof t&&(t=t.substr(1,t.length-2)),Wl(this.root,this.getAction(),{event:e,args:t})}function bo(e){var t,n,r,i={};t=this._ractive,n=t.events[e.type],(r=$p(n.element.parentFragment))&&(i=$p.resolve(r)),n.fire({node:this,original:e,index:i,keypath:t.keypath.str,context:t.root.viewmodel.get(t.keypath)})}function wo(){var e,t=this.name;if(!this.invalid){if(e=v("events",this.root,t))this.custom=e(this.node,xo(t));else{if(!("on"+t in this.node||window&&"on"+t in window||eu))return void(hv[t]||m(qu(t,"event"),{node:this.node}));this.node.addEventListener(t,lv,!1)}this.hasListener=!0}}function xo(e){return fv[e]||(fv[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath.str,t.context=n.root.viewmodel.get(n.keypath),n.events[e].fire(t)}),fv[e]}function _o(e,t){function n(n){n&&n.rebind(e,t)}var r;return this.method?(r=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function ko(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Eo(e,t){this.keypaths[e]=t}function Co(){return this.method?void this.refResolvers.forEach(X):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function To(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,lv,!1),this.hasListener=!1}function So(){var e=this;this.dirty||(this.dirty=!0,gl.scheduleTask(function(){Ao(e),e.dirty=!1})),this.parentFragment.bubble()}function Ao(e){var t,n,r,i,o;t=e.node,t&&(i=R(t.options),n=e.getAttribute("value"),r=e.getAttribute("multiple"),void 0!==n?(i.forEach(function(e){var t,i;t=e._ractive?e._ractive.value:e.value,i=r?No(n,t):n==t,i&&(o=!0),e.selected=i}),o||(i[0]&&(i[0].selected=!0),e.binding&&e.binding.forceUpdate())):e.binding&&e.binding.forceUpdate())}function No(e,t){for(var n=e.length;n--;)if(e[n]==t)return!0}function jo(e,t){e.select=Lo(e.parent),e.select&&(e.select.options.push(e),t.a||(t.a={}),void 0!==t.a.value||t.a.hasOwnProperty("disabled")||(t.a.value=t.f),"selected"in t.a&&void 0!==e.select.getAttribute("value")&&delete t.a.selected)}function Do(e){e.select&&P(e.select.options,e)}function Lo(e){if(e)do if("select"===e.name)return e;while(e=e.parent)}function Oo(e){var t,n,r,i,o,a,s;this.type=Jc,t=this.parentFragment=e.parentFragment,n=this.template=e.template,this.parent=e.pElement||t.pElement,this.root=r=t.root,this.index=e.index,this.key=e.key,this.name=im(n.e),"option"===this.name&&jo(this,n),"select"===this.name&&(this.options=[],this.bubble=So),"form"===this.name&&(this.formBindings=[]),s=nm(this,n),this.attributes=Nm(this,n.a),this.conditionalAttributes=Lm(this,n.m),n.f&&(this.fragment=new yw({template:n.f,root:r,owner:this,pElement:this,cssIds:null})),a=r.twoway,s.twoway===!1?a=!1:s.twoway===!0&&(a=!0),this.twoway=a,this.lazy=s.lazy,a&&(i=rv(this,n.a))&&(this.binding=i,o=this.root._twowayBindings[i.keypath.str]||(this.root._twowayBindings[i.keypath.str]=[]),o.push(i)),n.v&&(this.eventHandlers=wv(this,n.v)),n.o&&(this.decorator=new Cv(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function Fo(e,t){function n(n){n.rebind(e,t)}var r,i,o,a;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),o=this.liveQueries)for(a=this.root,r=o.length;r--;)o[r]._makeDirty();this.node&&(i=this.node._ractive)&&_(i,"keypath",e,t)}function qo(e){var t;(e.attributes.width||e.attributes.height)&&e.node.addEventListener("load",t=function(){var n=e.getAttribute("width"),r=e.getAttribute("height");void 0!==n&&e.node.setAttribute("width",n),void 0!==r&&e.node.setAttribute("height",r),e.node.removeEventListener("load",t,!1)},!1)}function Po(e){e.node.addEventListener("reset",Io,!1)}function Ro(e){e.node.removeEventListener("reset",Io,!1)}function Io(){var e=this._ractive.proxy;gl.start(),e.formBindings.forEach(Ho),gl.end()}function Ho(e){e.root.viewmodel.set(e.keypath,e.resetValue)}function Mo(e,t,n){var r,i,o;this.element=e,this.root=r=e.root,this.isIntro=n,i=t.n||t,("string"==typeof i||(o=new yw({template:i,root:r,owner:e}),i=o.toString(),o.unbind(),""!==i))&&(this.name=i,t.a?this.params=t.a:t.d&&(o=new yw({template:t.d,root:r,owner:e}),this.params=o.getArgsList(),o.unbind()),this._fn=v("transitions",r,i),this._fn||m(qu(i,"transition"),{ractive:this.root}))}function Wo(e){return e}function zo(){ty.hidden=document[Yv]}function Bo(){ty.hidden=!0}function $o(){ty.hidden=!1}function Vo(){var e,t,n,r=this;return e=this.node=this.element.node,t=e.getAttribute("style"),this.complete=function(i){n||(!i&&r.isIntro&&Uo(e,t),e._ractive.transition=null,r._manager.remove(r),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Uo(e,t){t?e.setAttribute("style",t):(e.getAttribute("style"),e.removeAttribute("style"))}function Xo(){var e,t,n,r=this,i=this.root;return e=Qo(this),t=this.node=fu(this.name,e),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(e){return"{"+e+"}"}).join(" ")),xu(this.node,"_ractive",{value:{proxy:this,keypath:sl(this.parentFragment),events:wu(null),root:i}}),this.attributes.forEach(function(e){return e.render(t)}),this.conditionalAttributes.forEach(function(e){return e.render(t)}),this.fragment&&("script"===this.name?(this.bubble=hy,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Du):"style"===this.name?(this.bubble=fy,this.bubble(),this.fragment.unrender=Du):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Du:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.render()}),"option"===this.name&&Go(this),"img"===this.name?qo(this):"form"===this.name?Po(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&gl.scheduleTask(function(){r.decorator.torndown||r.decorator.init()},!0),i.transitionsEnabled&&this.intro&&(n=new dy(this,this.intro,!0),gl.registerTransition(n),gl.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&gl.scheduleTask(function(){return r.node.focus()},!0),Ko(this),this.node}function Qo(e){var t,n,r;return t=(n=e.getAttribute("xmlns"))?n:"svg"===e.name?ru.svg:(r=e.parent)?"foreignObject"===r.name?ru.html:r.node.namespaceURI:e.root.el.namespaceURI}function Go(e){var t,n,r;if(e.select&&(n=e.select.getAttribute("value"),void 0!==n))if(t=e.getAttribute("value"),e.select.node.multiple&&o(n)){for(r=n.length;r--;)if(t==n[r]){e.node.selected=!0;break}}else e.node.selected=t==n}function Ko(e){var t,n,r,i,o;t=e.root;do for(n=t._liveQueries,r=n.length;r--;)i=n[r],o=n["_"+i],o._test(e)&&(e.liveQueries||(e.liveQueries=[])).push(o);while(t=t.parent)}function Yo(e){var t,n,r;if(t=e.getAttribute("value"),void 0===t||!e.select)return!1;if(n=e.select.getAttribute("value"),n==t)return!0;if(e.select.getAttribute("multiple")&&o(n))for(r=n.length;r--;)if(n[r]==t)return!0}function Zo(e){var t,n,r,i;return t=e.attributes,n=t.type,r=t.value,i=t.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function Jo(e){var t=e.toString();return t?" "+t:""}function ea(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(X),"option"===this.name&&Do(this),this.attributes.forEach(X),this.conditionalAttributes.forEach(X)}function ta(e){var t,n,r;(r=this.transition)&&r.complete(),"option"===this.name?this.detach():e&&gl.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(t=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[t.keypath.str],n.splice(n.indexOf(t),1)),this.eventHandlers&&this.eventHandlers.forEach(Q),this.decorator&&gl.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(r=new dy(this,this.outro,!1),gl.registerTransition(r),gl.scheduleTask(function(){return r.start()})),this.liveQueries&&na(this),"form"===this.name&&Ro(this)}function na(e){var t,n,r;for(r=e.liveQueries.length;r--;)t=e.liveQueries[r],n=t.selector,t._remove(e.node)}function ra(e,t){var n=xy.exec(t)[0];return null===e||n.length<e.length?n:e}function ia(e,t,n){var r;if(r=oa(e,t,n||{}))return r;if(r=sp.fromId(t,{noThrow:!0})){r=_y(r);var i=sp.parse(r,sp.getParseOptions(e));return e.partials[t]=i.t}}function oa(e,t,n){var r=void 0,i=ua(t,n.owner);if(i)return i;var o=y("partials",e,t);if(o){if(i=o.partials[t],"function"==typeof i&&(r=i.bind(o),r.isOwner=o.partials.hasOwnProperty(t),i=r.call(e,sp)),!i&&""!==i)return void g(Fu,t,"partial","partial",{ractive:e});if(!sp.isParsed(i)){var a=sp.parse(i,sp.getParseOptions(o));a.p&&g("Partials ({{>%s}}) cannot contain nested inline partials",t,{ractive:e});var s=r?o:aa(o,t);s.partials[t]=i=a.t}return r&&(i._fn=r),i.v?i.t:i}}function aa(e,t){return e.partials.hasOwnProperty(t)?e:sa(e.constructor,t)}function sa(e,t){return e?e.partials.hasOwnProperty(t)?e:sa(e._Parent,t):void 0}function ua(e,t){if(t){if(t.template&&t.template.p&&t.template.p[e])return t.template.p[e];if(t.parentFragment&&t.parentFragment.owner)return ua(e,t.parentFragment.owner)}}function la(e,t){var n,r=y("components",e,t);if(r&&(n=r.components[t],!n._Parent)){var i=n.bind(r);if(i.isOwner=r.components.hasOwnProperty(t),n=i(),!n)return void g(Fu,t,"component","component",{ractive:e});"string"==typeof n&&(n=la(e,n)),n._fn=i,r.components[t]=n}return n}function ca(){var e=this.instance.fragment.detach();return Oy.fire(this.instance),e}function fa(e){return this.instance.fragment.find(e)}function ha(e,t){return this.instance.fragment.findAll(e,t)}function da(e,t){t._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(e,t)}function pa(e){return e&&e!==this.name?this.instance.fragment?this.instance.fragment.findComponent(e):null:this.instance}function ga(){return this.parentFragment.findNextNode(this)
}function ma(){return this.rendered?this.instance.fragment.firstNode():null}function va(e,t,n){function r(e){var n,r;e.value=t,e.updating||(r=e.ractive,n=e.keypath,e.updating=!0,gl.start(r),r.viewmodel.mark(n),gl.end(),e.updating=!1)}var i,o,a,s,u,l;if(i=e.obj,o=e.prop,n&&!n.configurable){if("length"===o)return;throw new Error('Cannot use magic mode with property "'+o+'" - object is not configurable')}n&&(a=n.get,s=n.set),u=a||function(){return t},l=function(e){s&&s(e),t=a?a():e,l._ractiveWrappers.forEach(r)},l._ractiveWrappers=[e],Object.defineProperty(i,o,{get:u,set:l,enumerable:!0,configurable:!0})}function ya(e,t){var n,r,i,o;if(this.adaptors)for(n=this.adaptors.length,r=0;n>r;r+=1)if(i=this.adaptors[r],i.filter(t,e,this.ractive))return o=this.wrapped[e]=i.wrap(this.ractive,t,e,wa(e)),void(o.value=t)}function ba(e,t){var n,r={};if(!t)return e;t+=".";for(n in e)e.hasOwnProperty(n)&&(r[t+n]=e[n]);return r}function wa(e){var t;return rb[e]||(t=e?e+".":"",rb[e]=function(n,r){var i;return"string"==typeof n?(i={},i[t+n]=r,i):"object"==typeof n?t?ba(n,e):n:void 0}),rb[e]}function xa(e){var t,n,r=[Xu];for(t=e.length;t--;)for(n=e[t].parent;n&&!n.isRoot;)-1===e.indexOf(n)&&D(r,n),n=n.parent;return r}function _a(e,t,n){var r;Ea(e,t),n||(r=t.wildcardMatches(),r.forEach(function(n){ka(e,n,t)}))}function ka(e,t,n){var r,i,o;t=t.str||t,r=e.depsMap.patternObservers,i=r&&r[t],i&&i.forEach(function(t){o=n.join(t.lastKey),Ea(e,o),ka(e,t,o)})}function Ea(e,t){e.patternObservers.forEach(function(e){e.regex.test(t.str)&&e.update(t)})}function Ca(){function e(e){var r=e.key;e.viewmodel===a?(a.clearCache(r.str),e.invalidate(),n.push(r),t(r)):e.viewmodel.mark(r)}function t(n){var r,i;a.noCascade.hasOwnProperty(n.str)||((i=a.deps.computed[n.str])&&i.forEach(e),(r=a.depsMap.computed[n.str])&&r.forEach(t))}var n,r,i,o=this,a=this,s={};return n=this.changes,n.length?(n.slice().forEach(t),r=ib(n),r.forEach(function(t){var r;-1===n.indexOf(t)&&(r=a.deps.computed[t.str])&&r.forEach(e)}),this.changes=[],this.patternObservers.length&&(r.forEach(function(e){return ob(o,e,!0)}),n.forEach(function(e){return ob(o,e)})),this.deps.observers&&(r.forEach(function(e){return Ta(o,null,e,"observers")}),Aa(this,n,"observers")),this.deps["default"]&&(i=[],r.forEach(function(e){return Ta(o,i,e,"default")}),i.length&&Sa(this,i,n),Aa(this,n,"default")),n.forEach(function(e){s[e.str]=o.get(e)}),this.implicitChanges={},this.noCascade={},s):void 0}function Ta(e,t,n,r){var i,o;(i=Na(e,n,r))&&(o=e.get(n),i.forEach(function(e){t&&e.refineValue?t.push(e):e.setValue(o)}))}function Sa(e,t,n){t.forEach(function(t){for(var r=!1,i=0,o=n.length,a=[];o>i;){var s=n[i];if(s===t.keypath){r=!0;break}s.slice(0,t.keypath.length)===t.keypath&&a.push(s),i++}r&&t.setValue(e.get(t.keypath)),a.length&&t.refineValue(a)})}function Aa(e,t,n){function r(e){e.forEach(i),e.forEach(o)}function i(t){var r=Na(e,t,n);r&&s.push({keypath:t,deps:r})}function o(t){var i;(i=e.depsMap[n][t.str])&&r(i)}function a(t){var n=e.get(t.keypath);t.deps.forEach(function(e){return e.setValue(n)})}var s=[];r(t),s.forEach(a)}function Na(e,t,n){var r=e.deps[n];return r?r[t.str]:null}function ja(){this.captureGroups.push([])}function Da(e,t){var n,r;if(t||(r=this.wrapped[e])&&r.teardown()!==!1&&(this.wrapped[e]=null),this.cache[e]=void 0,n=this.cacheMap[e])for(;n.length;)this.clearCache(n.pop())}function La(e,t){var n=t.firstKey;return!(n in e.data||n in e.computations||n in e.mappings)}function Oa(e,t){var n=new hb(e,t);return this.ready&&n.init(this),this.computations[e.str]=n}function Fa(e,t){var n,r,i,o,a,s=this.cache,u=e.str;if(t=t||mb,t.capture&&(o=q(this.captureGroups))&&(~o.indexOf(e)||o.push(e)),Au.call(this.mappings,e.firstKey))return this.mappings[e.firstKey].get(e,t);if(e.isSpecial)return e.value;if(void 0===s[u]?((r=this.computations[u])&&!r.bypass?(n=r.get(),this.adapt(u,n)):(i=this.wrapped[u])?n=i.value:e.isRoot?(this.adapt("",this.data),n=this.data):n=qa(this,e),s[u]=n):n=s[u],!t.noUnwrap&&(i=this.wrapped[u])&&(n=i.get()),e.isRoot&&t.fullRootGet)for(a in this.mappings)n[a]=this.mappings[a].getValue();return n===pb?void 0:n}function qa(e,t){var n,r,i,o;return n=e.get(t.parent),(o=e.wrapped[t.parent.str])&&(n=o.get()),null!==n&&void 0!==n?((r=e.cacheMap[t.parent.str])?-1===r.indexOf(t.str)&&r.push(t.str):e.cacheMap[t.parent.str]=[t.str],"object"!=typeof n||t.lastKey in n?(i=n[t.lastKey],e.adapt(t.str,i,!1),e.cache[t.str]=i,i):e.cache[t.str]=pb):void 0}function Pa(){var e;for(e in this.computations)this.computations[e].init(this)}function Ra(e,t){var n=this.mappings[e.str]=new bb(e,t);return n.initViewmodel(this),n}function Ia(e,t){var n,r=e.str;t&&(t.implicit&&(this.implicitChanges[r]=!0),t.noCascade&&(this.noCascade[r]=!0)),(n=this.computations[r])&&n.invalidate(),-1===this.changes.indexOf(e)&&this.changes.push(e);var i=t?t.keepExistingWrapper:!1;this.clearCache(r,i),this.ready&&this.onchange()}function Ha(e,t,n,r){var i,o,a,s;if(this.mark(e),r&&r.compare){a=Wa(r.compare);try{i=t.map(a),o=n.map(a)}catch(u){g('merge(): "%s" comparison failed. Falling back to identity checking',e),i=t,o=n}}else i=t,o=n;s=xb(i,o),this.smartUpdate(e,n,s,t.length!==n.length)}function Ma(e){return JSON.stringify(e)}function Wa(e){if(e===!0)return Ma;if("string"==typeof e)return kb[e]||(kb[e]=function(t){return t[e]}),kb[e];if("function"==typeof e)return e;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function za(e,t){var n,r,i,o=void 0===arguments[2]?"default":arguments[2];t.isStatic||((n=this.mappings[e.firstKey])?n.register(e,t,o):(r=this.deps[o]||(this.deps[o]={}),i=r[e.str]||(r[e.str]=[]),i.push(t),this.depsMap[o]||(this.depsMap[o]={}),e.isRoot||Ba(this,e,o)))}function Ba(e,t,n){for(var r,i,o;!t.isRoot;)r=e.depsMap[n],i=r[t.parent.str]||(r[t.parent.str]=[]),o=t.str,void 0===i["_"+o]&&(i["_"+o]=0,i.push(t)),i["_"+o]+=1,t=t.parent}function $a(){return this.captureGroups.pop()}function Va(e){this.data=e,this.clearCache("")}function Ua(e,t){var n,r,i,o,a=void 0===arguments[2]?{}:arguments[2];if(!a.noMapping&&(n=this.mappings[e.firstKey]))return n.set(e,t);if(r=this.computations[e.str]){if(r.setting)return;r.set(t),t=r.get()}s(this.cache[e.str],t)||(i=this.wrapped[e.str],i&&i.reset&&(o=i.reset(t)!==!1,o&&(t=i.get())),r||o||Xa(this,e,t),a.silent?this.clearCache(e.str):this.mark(e))}function Xa(e,t,n){var r,i,o,a;o=function(){r.set?r.set(t.lastKey,n):(i=r.get(),a())},a=function(){i||(i=Yy(t.lastKey),e.set(t.parent,i,{silent:!0})),i[t.lastKey]=n},r=e.wrapped[t.parent.str],r?o():(i=e.get(t.parent),(r=e.wrapped[t.parent.str])?o():a())}function Qa(e,t,n){var r,i,o,a=this;if(i=n.length,n.forEach(function(t,n){-1===t&&a.mark(e.join(n),jb)}),this.set(e,t,{silent:!0}),(r=this.deps["default"][e.str])&&r.filter(Ga).forEach(function(e){return e.shuffle(n,t)}),i!==t.length){for(this.mark(e.join("length"),Nb),o=n.touchedFrom;o<t.length;o+=1)this.mark(e.join(o));for(o=t.length;i>o;o+=1)this.mark(e.join(o),jb)}}function Ga(e){return"function"==typeof e.shuffle}function Ka(){var e,t=this;for(Object.keys(this.cache).forEach(function(e){return t.clearCache(e)});e=this.unresolvedImplicitDependencies.pop();)e.teardown()}function Ya(e,t){var n,r,i,o=void 0===arguments[2]?"default":arguments[2];if(!t.isStatic){if(n=this.mappings[e.firstKey])return n.unregister(e,t,o);if(r=this.deps[o][e.str],i=r.indexOf(t),-1===i)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");r.splice(i,1),e.isRoot||Za(this,e,o)}}function Za(e,t,n){for(var r,i;!t.isRoot;)r=e.depsMap[n],i=r[t.parent.str],i["_"+t.str]-=1,i["_"+t.str]||(P(i,t),i["_"+t.str]=void 0),t=t.parent}function Ja(e){this.hook=new nl(e),this.inProcess={},this.queue={}}function es(e,t){return e[t._guid]||(e[t._guid]=[])}function ts(e,t){var n=es(e.queue,t);for(e.hook.fire(t);n.length;)ts(e,n.shift());delete e.queue[t._guid]}function ns(e,t){var n,r={};for(n in t)r[n]=rs(e,n,t[n]);return r}function rs(e,t,n){var r,i;return"function"==typeof n&&(r=os(n,e)),"string"==typeof n&&(r=is(e,n)),"object"==typeof n&&("string"==typeof n.get?r=is(e,n.get):"function"==typeof n.get?r=os(n.get,e):f("`%s` computation must have a `get()` method",t),"function"==typeof n.set&&(i=os(n.set,e))),{getter:r,setter:i}}function is(e,t){var n,r,i;return n="return ("+t.replace(Rb,function(e,t){return r=!0,'__ractive.get("'+t+'")'})+");",r&&(n="var __ractive = this; "+n),i=new Function(n),r?i.bind(e):i}function os(e,t){return/this/.test(e.toString())?e.bind(t):e}function as(t){var n,i,o=void 0===arguments[1]?{}:arguments[1],a=void 0===arguments[2]?{}:arguments[2];if(Uw.DEBUG&&Su(),ls(t,a),xu(t,"data",{get:cs}),Ib.fire(t,o),zb.forEach(function(e){t[e]=r(wu(t.constructor[e]||null),o[e])}),i=new Fb({adapt:ss(t,t.adapt,o),data:Wc.init(t.constructor,t,o),computed:Pb(t,r(wu(t.constructor.prototype.computed),o.computed)),mappings:a.mappings,ractive:t,onchange:function(){return gl.addRactive(t)}}),t.viewmodel=i,i.init(),bp.init(t.constructor,t,o),Hb.fire(t),Mb.begin(t),t.template){var s=void 0;(a.cssIds||t.cssId)&&(s=a.cssIds?a.cssIds.slice():[],t.cssId&&s.push(t.cssId)),t.fragment=new yw({template:t.template,root:t,owner:t,cssIds:s})}if(Mb.end(t),n=e(t.el)){var u=t.render(n,t.append);Uw.DEBUG_PROMISES&&u["catch"](function(e){throw m("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),g("An error happened during rendering",{ractive:t}),e.stack&&h(e.stack),e})}}function ss(e,t,n){function r(t){return"string"==typeof t&&(t=v("adaptors",e,t),t||f(qu(t,"adaptor"))),t}var i,o,a;if(t=t.map(r),i=F(n.adapt).map(r),i=us(t,i),o="magic"in n?n.magic:e.magic,a="modifyArrays"in n?n.modifyArrays:e.modifyArrays,o){if(!nu)throw new Error("Getters and setters (magic mode) are not supported in this browser");a&&i.push(tb),i.push(eb)}return a&&i.push(Gy),i}function us(e,t){for(var n=e.slice(),r=t.length;r--;)~n.indexOf(t[r])||n.push(t[r]);return n}function ls(e,t){e._guid="r-"+Wb++,e._subs=wu(null),e._config={},e._twowayBindings=wu(null),e._animations=[],e.nodes={},e._liveQueries=[],e._liveComponentQueries=[],e._boundFunctions=[],e._observers=[],t.component?(e.parent=t.parent,e.container=t.container||null,e.root=e.parent.root,e.component=t.component,t.component.instance=e,e._inlinePartials=t.inlinePartials):(e.root=e,e.parent=e.container=null)}function cs(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function fs(e,t,n){this.parentFragment=e.parentFragment,this.callback=n,this.fragment=new yw({template:t,root:e.root,owner:this}),this.update()}function hs(e,t,n){var r;return t.r?r=Up(e,t.r,n):t.x?r=new Kp(e,e.parentFragment,t.x,n):t.rx&&(r=new eg(e,t.rx,n)),r}function ds(e){return 1===e.length&&e[0].t===Qc}function ps(e,t){var n;for(n in t)t.hasOwnProperty(n)&&gs(e.instance,e.root,n,t[n])}function gs(e,t,n,r){"string"!=typeof r&&f("Components currently only support simple events - you cannot include arguments. Sorry!"),e.on(n,function(){var e,n;return arguments.length&&arguments[0]&&arguments[0].node&&(e=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Wl(t,r,{event:e,args:n}),!1})}function ms(e,t){var n,r;if(!t)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=e.parentFragment,r=n.root,this.root=r,this.type=af,this.name=e.template.e,this.index=e.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],Vb(this,t,e.template.a,e.template.f,e.template.p),Ub(this,e.template.v),(e.template.t0||e.template.t1||e.template.t2||e.template.o)&&g('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Xb(this)}function vs(e,t){function n(n){n.rebind(e,t)}var r;this.resolvers.forEach(n);for(var i in this.yielders)this.yielders[i][0]&&n(this.yielders[i][0]);(r=this.root._liveComponentQueries["_"+this.name])&&r._makeDirty()}function ys(){var e=this.instance;return e.render(this.parentFragment.getNode()),this.rendered=!0,e.fragment.detach()}function bs(){return this.instance.fragment.toString()}function ws(){var e=this.instance;this.resolvers.forEach(X),xs(this),e._observers.forEach(G),e.fragment.unbind(),e.viewmodel.teardown(),e.fragment.rendered&&e.el.__ractive_instances__&&P(e.el.__ractive_instances__,e),Jb.fire(e)}function xs(e){var t,n;t=e.root;do(n=t._liveComponentQueries["_"+e.name])&&n._remove(e);while(t=t.parent)}function _s(e){this.shouldDestroy=e,this.instance.unrender()}function ks(e){var t=this;this.owner=e.owner,this.parent=this.owner.parentFragment,this.root=e.root,this.pElement=e.pElement,this.context=e.context,this.index=e.index,this.key=e.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in e?e.cssIds:this.parent?this.parent.cssIds:null,this.items=e.template.map(function(n,r){return Es({parentFragment:t,pElement:e.pElement,template:n,index:r})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Es(e){if("string"==typeof e.template)return new Fp(e);switch(e.template.t){case sf:return new aw(e);case Qc:return new ag(e);case Kc:return new Tg(e);case Gc:return new $g(e);case Jc:var t=void 0;return(t=Dy(e.parentFragment.root,e.template.e))?new nw(e,t):new by(e);case ef:return new jy(e);case tf:return new iw(e);case lf:return new uw(e);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Cs(e,t){(!this.owner||this.owner.hasContext)&&_(this,"context",e,t),this.items.forEach(function(n){n.rebind&&n.rebind(e,t)})}function Ts(){var e;return 1===this.items.length?e=this.items[0].render():(e=document.createDocumentFragment(),this.items.forEach(function(t){e.appendChild(t.render())})),this.rendered=!0,e}function Ss(e){return this.items?this.items.map(e?Ns:As).join(""):""}function As(e){return e.toString()}function Ns(e){return e.toString(!0)}function js(){this.bound&&(this.items.forEach(Ds),this.bound=!1)}function Ds(e){e.unbind&&e.unbind()}function Ls(e){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(t){return t.unrender(e)}),this.rendered=!1}function Os(e){var t,n,r,i,o;if(e=e||{},"object"!=typeof e)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(e)===!1&&this.viewmodel.reset(e):this.viewmodel.reset(e),r=bp.reset(this),i=r.length;i--;)if(ww.indexOf(r[i])>-1){o=!0;break}if(o){var a=void 0;this.viewmodel.mark(Xu),(a=this.component)&&(a.shouldDestroy=!0),this.unrender(),a&&(a.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new yw({template:this.template,root:this,owner:this})),t=this.render(this.el,this.anchor)}else t=gl.start(this,!0),this.viewmodel.mark(Xu),gl.end();return xw.fire(this,e),t}function Fs(e){var t,n;lp.init(null,this,{template:e}),t=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new yw({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=t}function qs(e,t){var n,r;if(r=gl.start(this,!0),l(e)){n=e;for(e in n)n.hasOwnProperty(e)&&(t=n[e],Ps(this,e,t))}else Ps(this,e,t);return gl.end(),r}function Ps(e,t,n){t=E(S(t)),t.isPattern?C(e,t).forEach(function(t){e.viewmodel.set(t,n)}):e.viewmodel.set(t,n)}function Rs(e,t){return Qu(this,e,void 0===t?-1:-t)}function Is(){var e;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(G),this.fragment.rendered&&this.el.__ractive_instances__&&P(this.el.__ractive_instances__,this),this.shouldDestroy=!0,e=this.fragment.rendered?this.unrender():al.resolve(),Dw.fire(this),this._boundFunctions.forEach(Hs),e}function Hs(e){delete e.fn[e.prop]}function Ms(e){var t=this;if("string"!=typeof e)throw new TypeError(Ou);var n=void 0;return/\*/.test(e)?(n={},C(this,E(S(e))).forEach(function(e){n[e.str]=!t.viewmodel.get(e)}),this.set(n)):this.set(e,!this.get(e))}function Ws(){return this.fragment.toString(!0)}function zs(){var e,t;if(!this.fragment.rendered)return g("ractive.unrender() was called on a Ractive instance that was not rendered"),al.resolve();for(e=gl.start(this,!0),t=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(t),P(this.el.__ractive_instances__,this),qw.fire(this),gl.end(),e}function Bs(e){var t;return e=E(e)||Xu,t=gl.start(this,!0),this.viewmodel.mark(e),gl.end(),Iw.fire(this,e),t}function $s(e,t){var n,r,i;if("string"!=typeof e||t){i=[];for(r in this._twowayBindings)(!e||E(r).equalsOrStartsWith(e))&&i.push.apply(i,this._twowayBindings[r])}else i=this._twowayBindings[e];return n=Vs(this,i),this.set(n)}function Vs(e,t){var n={},r=[];return t.forEach(function(e){var t,i;if(!e.radioName||e.element.node.checked){if(e.checkboxName)return void(r[e.keypath.str]||e.changed()||(r.push(e.keypath),r[e.keypath.str]=e));t=e.attribute.value,i=e.getValue(),O(t,i)||s(t,i)||(n[e.keypath.str]=i)}}),r.length&&r.forEach(function(e){var t,i,o;t=r[e.str],i=t.attribute.value,o=t.getValue(),O(i,o)||(n[e.str]=o)}),n}function Us(e,t){return"function"==typeof t&&/_super/.test(e)}function Xs(e){for(var t={};e;)Qs(e,t),Ks(e,t),e=e._Parent!==Uw?e._Parent:!1;return t}function Qs(e,t){mp.forEach(function(n){Gs(n.useDefaults?e.prototype:e,t,n.name)})}function Gs(e,t,n){var r,i=Object.keys(e[n]);i.length&&((r=t[n])||(r=t[n]={}),i.filter(function(e){return!(e in r)}).forEach(function(t){return r[t]=e[n][t]}))}function Ks(e,t){Object.keys(e.prototype).forEach(function(n){if("computed"!==n){var r=e.prototype[n];if(n in t){if("function"==typeof t[n]&&"function"==typeof r&&t[n]._method){var i=void 0,o=r._method;o&&(r=r._method),i=Ww(t[n]._method,r),o&&(i._method=i),t[n]=i}}else t[n]=r._method?r._method:r}})}function Ys(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.length?t.reduce(Zs,this):Zs(this)}function Zs(e){var t,n,i=void 0===arguments[1]?{}:arguments[1];return i.prototype instanceof Uw&&(i=zw(i)),t=function(e){return this instanceof t?void Bb(this,e):new t(e)},n=wu(e.prototype),n.constructor=t,_u(t,{defaults:{value:n},extend:{value:Ys,writable:!0,configurable:!0},_Parent:{value:e}}),bp.extend(e,n,i),Wc.extend(e,n,i),i.computed&&(n.computed=r(wu(e.prototype.computed),i.computed)),t.prototype=n,t}var Js,eu,tu,nu,ru,iu,ou,au=3,su={el:void 0,append:!1,template:{v:au,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},uu=su,lu={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}};Js="object"==typeof document,eu="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),tu="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),nu=!0}catch(cu){nu=!1}ru={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},iu="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),ou=["o","ms","moz","webkit"];var fu,hu,du,pu,gu,mu,vu,yu,bu;if(fu=iu?function(e,t){return t&&t!==ru.html?document.createElementNS(t,e):document.createElement(e)}:function(e,t){if(t&&t!==ru.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(e)},Js){for(du=fu("div"),pu=["matches","matchesSelector"],bu=function(e){return function(t,n){return t[e](n)}},vu=pu.length;vu--&&!hu;)if(gu=pu[vu],du[gu])hu=bu(gu);else for(yu=ou.length;yu--;)if(mu=ou[vu]+gu.substr(0,1).toUpperCase()+gu.substring(1),du[mu]){hu=bu(mu);break}hu||(hu=function(e,t){var n,r,i;for(r=e.parentNode,r||(du.innerHTML="",r=du,e=e.cloneNode(),du.appendChild(e)),n=r.querySelectorAll(t),i=n.length;i--;)if(n[i]===e)return!0;return!1})}else hu=null;var wu,xu,_u,ku=null;try{Object.defineProperty({},"test",{value:0}),Js&&Object.defineProperty(document.createElement("div"),"test",{value:0}),xu=Object.defineProperty}catch(Eu){xu=function(e,t,n){e[t]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Eu){throw Eu}Js&&Object.defineProperties(fu("div"),{test:{value:0}}),_u=Object.defineProperties}catch(Eu){_u=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&xu(e,n,t[n])}}try{Object.create(null),wu=Object.create}catch(Eu){wu=function(){var e=function(){};return function(t,n){var r;return null===t?{}:(e.prototype=t,r=new e,n&&Object.defineProperties(r,n),r)}}()}var Cu,Tu,Su,Au=Object.prototype.hasOwnProperty,Nu=Object.prototype.toString,ju=/^\[object (?:Array|FileList)\]$/,Du=function(){},Lu={};tu?!function(){var e=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],t="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Su=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,e),console.log(t),n&&console.groupEnd(e),Su=Du},Tu=function(e,t){if(Su(),"object"==typeof t[t.length-1]){var n=t.pop(),r=n?n.ractive:null;if(r){var i=void 0;r.component&&(i=r.component.name)&&(e="<"+i+"> "+e);var o=void 0;(o=n.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&t.push(o)}}console.warn.apply(console,["%cRactive.js: %c"+e,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(t))},Cu=function(){console.log.apply(console,arguments)}}():Tu=Cu=Su=Du;var Ou="Bad arguments",Fu='A function was specified for "%s" %s, but no %s was returned',qu=function(e,t){return'Missing "'+e+'" '+t+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+t+"s"},Pu=function(e,t,n,r){if(e===t)return b(t);if(r){var i=v("interpolators",n,r);if(i)return i(e,t)||b(t);f(qu(r,"interpolator"))}return Hu.number(e,t)||Hu.array(e,t)||Hu.object(e,t)||b(t)},Ru=Pu,Iu={number:function(e,t){var n;return u(e)&&u(t)?(e=+e,t=+t,n=t-e,n?function(t){return e+t*n}:function(){return e}):null},array:function(e,t){var n,r,i,a;if(!o(e)||!o(t))return null;for(n=[],r=[],a=i=Math.min(e.length,t.length);a--;)r[a]=Ru(e[a],t[a]);for(a=i;a<e.length;a+=1)n[a]=e[a];for(a=i;a<t.length;a+=1)n[a]=t[a];return function(e){for(var t=i;t--;)n[t]=r[t](e);return n}},object:function(e,t){var n,r,i,o,a;if(!l(e)||!l(t))return null;n=[],o={},i={};for(a in e)Au.call(e,a)&&(Au.call(t,a)?(n.push(a),i[a]=Ru(e[a],t[a])):o[a]=e[a]);for(a in t)Au.call(t,a)&&!Au.call(e,a)&&(o[a]=t[a]);return r=n.length,function(e){for(var t,a=r;a--;)t=n[a],o[t]=i[t](e);return o}}},Hu=Iu,Mu=w,Wu={},zu=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Bu=/\*/,$u={},Vu=function(e){var t=e.split(".");this.str=e,"@"===e[0]&&(this.isSpecial=!0,this.value=k(e)),this.firstKey=t[0],this.lastKey=t.pop(),this.isPattern=Bu.test(e),this.parent=""===e?null:E(t.join(".")),this.isRoot=!e};Vu.prototype={equalsOrStartsWith:function(e){return e===this||this.startsWith(e)},join:function(e){return E(this.isRoot?String(e):this.str+"."+e)},replace:function(e,t){return this===e?t:this.startsWith(e)?null===t?t:E(this.str.replace(e.str+".",t.str+".")):void 0},startsWith:function(e){return e?e&&this.str.substr(0,e.str.length+1)===e.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Mu(this.str))}};var Uu,Xu=E(""),Qu=A,Gu="Cannot add to a non-numeric value",Ku=N;"undefined"==typeof window?Uu=null:(!function(e,t,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<e.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(e){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-t)),o=i(function(){e(n+r)},r),t=n+r,o})}}(ou,0,window),Uu=window.requestAnimationFrame);var Yu,Zu=Uu;Yu="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Ju=Yu,el={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};j.prototype.fire=function(e,t){function n(n){return e[n]?(t?e[n](t):e[n](),!0):void 0}n(this.method),!e[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?g(this.deprecate.message):g('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),t?e.fire(this.event,t):e.fire(this.event)};var tl,nl=j,rl={},il={},ol={};"function"==typeof Promise?tl=Promise:(tl=function(e){var t,n,r,i,o,a,s=[],u=[],l=rl;r=function(e){return function(r){l===rl&&(t=r,l=e,n=H(l===il?s:u,t),I(n))}},i=r(il),o=r(ol);try{e(i,o)}catch(c){o(c)}return a={then:function(e,t){var r=new tl(function(i,o){var a=function(e,t,n){t.push("function"==typeof e?function(t){var n;try{n=e(t),M(r,n,i,o)}catch(a){o(a)}}:n)};a(e,s,i),a(t,u,o),l!==rl&&I(n)});return r}},a["catch"]=function(e){return this.then(null,e)},a},tl.all=function(e){return new tl(function(t,n){var r,i,o,a=[];if(!e.length)return void t(a);for(o=function(e,i){e&&"function"==typeof e.then?e.then(function(e){a[i]=e,--r||t(a)},n):(a[i]=e,--r||t(a))},r=i=e.length;i--;)o(e[i],i)})},tl.resolve=function(e){return new tl(function(t){t(e)})},tl.reject=function(e){return new tl(function(t,n){n(e)})});var al=tl,sl=function(e){do if(void 0!==e.context)return e.context;while(e=e.parent);return Xu},ul=W,ll=function(e,t){this.callback=e,this.parent=t,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,t&&t.addChild(this)};ll.prototype={addChild:function(e){this.children.push(e),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Z(this)},decrementTotal:function(){this.totalChildren-=1,Z(this)},add:function(e){var t=e.isIntro?this.intros:this.outros;t.push(e)},addDecorator:function(e){this.decoratorQueue.push(e)},remove:function(e){var t=e.isIntro?this.intros:this.outros;P(t,e),Z(this)},init:function(){this.ready=!0,Z(this)},detachNodes:function(){this.decoratorQueue.forEach(U),this.detachQueue.forEach(K),this.children.forEach(Y)}};var cl,fl,hl=ll,dl=[],pl=new nl("change");fl={start:function(e,t){var n,r;return t&&(n=new al(function(e){return r=e})),cl={previousBatch:cl,transitionManager:new hl(r,cl&&cl.transitionManager),views:[],tasks:[],ractives:[],instance:e},e&&cl.ractives.push(e),n},end:function(){J(),cl.transitionManager.init(),!cl.previousBatch&&cl.instance&&(cl.instance.viewmodel.changes=[]),cl=cl.previousBatch},addRactive:function(e){cl&&D(cl.ractives,e)},registerTransition:function(e){e._manager=cl.transitionManager,cl.transitionManager.add(e)},registerDecorator:function(e){cl.transitionManager.addDecorator(e)},addView:function(e){cl.views.push(e)},addUnresolved:function(e){dl.push(e)},removeUnresolved:function(e){P(dl,e)},detachWhenReady:function(e){cl.transitionManager.detachQueue.push(e)},scheduleTask:function(e,t){var n;if(cl){for(n=cl;t&&n.previousBatch;)n=n.previousBatch;n.tasks.push(e)}else e()}};var gl=fl,ml=[],vl={tick:function(){var e,t,n;for(n=Ju(),gl.start(),e=0;e<ml.length;e+=1)t=ml[e],t.tick(n)||ml.splice(e--,1);gl.end(),ml.length?Zu(vl.tick):vl.running=!1},add:function(e){ml.push(e),vl.running||(vl.running=!0,Zu(vl.tick))},abort:function(e,t){for(var n,r=ml.length;r--;)n=ml[r],n.root===t&&n.keypath===e&&n.stop()}},yl=vl,bl=function(e){var t;this.startTime=Date.now();for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.interpolator=Ru(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};bl.prototype={tick:function(){var e,t,n,r,i,o;return o=this.keypath,this.running?(r=Date.now(),e=r-this.startTime,e>=this.duration?(null!==o&&(gl.start(this.root),this.root.viewmodel.set(o,this.to),gl.end()),this.step&&this.step(1,this.to),this.complete(this.to),i=this.root._animations.indexOf(this),-1===i&&g("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(t=this.easing?this.easing(e/this.duration):e/this.duration,null!==o&&(n=this.interpolator(t),gl.start(this.root),this.root.viewmodel.set(o,n),gl.end()),this.step&&this.step(t,n),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&g("Animation was not found"),this.root._animations.splice(e,1)}};var wl=bl,xl=nt,_l={stop:Du},kl=it,El=new nl("detach"),Cl=ot,Tl=at,Sl=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],t=this.selector,n=e.indexOf(t),-1!==n&&(e.splice(n,1),e[t]=null)},Al=function(e,t){var n,r,i,o,a,s,u,l,c,f;for(n=ut(e.component||e._ractive.proxy),r=ut(t.component||t._ractive.proxy),i=q(n),o=q(r);i&&i===o;)n.pop(),r.pop(),a=i,i=q(n),o=q(r);if(i=i.component||i,o=o.component||o,c=i.parentFragment,f=o.parentFragment,c===f)return s=c.items.indexOf(i),u=f.items.indexOf(o),s-u||n.length-r.length;if(l=a.fragments)return s=l.indexOf(c),u=l.indexOf(f),s-u||n.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Nl=function(e,t){var n;return e.compareDocumentPosition?(n=e.compareDocumentPosition(t),2&n?1:-1):Al(e,t)},jl=function(){this.sort(this._isComponentQuery?Al:Nl),this._dirty=!1},Dl=function(){var e=this;this._dirty||(this._dirty=!0,gl.scheduleTask(function(){e._sort()}))},Ll=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);-1!==t&&this.splice(t,1)},Ol=lt,Fl=ct,ql=ft,Pl=ht,Rl=dt,Il=pt,Hl={enqueue:function(e,t){e.event&&(e._eventQueue=e._eventQueue||[],e._eventQueue.push(e.event)),e.event=t},dequeue:function(e){e._eventQueue&&e._eventQueue.length?e.event=e._eventQueue.pop():delete e.event}},Ml=Hl,Wl=gt,zl=yt,Bl=bt,$l={capture:!0,noUnwrap:!0,fullRootGet:!0},Vl=wt,Ul=new nl("insert"),Xl=_t,Ql=function(e,t,n,r){this.root=e,this.keypath=t,this.callback=n,this.defer=r.defer,this.context=r&&r.context?r.context:e};Ql.prototype={init:function(e){this.value=this.root.get(this.keypath.str),e!==!1?this.update():this.oldValue=this.value},setValue:function(e){var t=this;s(e,this.value)||(this.value=e,this.defer&&this.ready?gl.scheduleTask(function(){return t.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)
}};var Gl,Kl=Ql,Yl=kt,Zl=Array.prototype.slice;Gl=function(e,t,n,r){this.root=e,this.callback=n,this.defer=r.defer,this.keypath=t,this.regex=new RegExp("^"+t.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:e},Gl.prototype={init:function(e){var t,n;if(t=Yl(this.root,this.keypath),e!==!1)for(n in t)t.hasOwnProperty(n)&&this.update(E(n));else this.values=t},update:function(e){var t,n=this;if(e.isPattern){t=Yl(this.root,e);for(e in t)t.hasOwnProperty(e)&&this.update(E(e))}else if(!this.root.viewmodel.implicitChanges[e.str])return this.defer&&this.ready?void gl.scheduleTask(function(){return n.getProxy(e).update()}):void this.reallyUpdate(e)},reallyUpdate:function(e){var t,n,r,i;return t=e.str,n=this.root.viewmodel.get(e),this.updating?void(this.values[t]=n):(this.updating=!0,s(n,this.values[t])&&this.ready||(r=Zl.call(this.regex.exec(t),1),i=[n,this.values[t],t].concat(r),this.values[t]=n,this.callback.apply(this.context,i)),void(this.updating=!1))},getProxy:function(e){var t=this;return this.proxies[e.str]||(this.proxies[e.str]={update:function(){return t.reallyUpdate(e)}}),this.proxies[e.str]}};var Jl,ec,tc,nc,rc,ic,oc=Gl,ac=Et,sc={},uc=Ct,lc=Tt,cc=function(e){return e.trim()},fc=function(e){return""!==e},hc=St,dc=At,pc=Nt,gc=jt,mc=Array.prototype,vc=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];var a,s,u,l,c=[];if(t=E(S(t)),a=this.viewmodel.get(t),s=a.length,!o(a))throw new Error("Called ractive."+e+"('"+t.str+"'), but '"+t.str+"' does not refer to an array");return c=gc(a,e,r),l=mc[e].apply(a,r),u=gl.start(this,!0).then(function(){return l}),c?this.viewmodel.smartUpdate(t,a,c):this.viewmodel.mark(t),gl.end(),u}},yc=vc("pop"),bc=vc("push"),wc="/* Ractive.js component styles */\n",xc=[],_c=!1;Js?(tc=document.createElement("style"),tc.type="text/css",nc=document.getElementsByTagName("head")[0],ic=!1,rc=tc.styleSheet,ec=function(){var e=wc+xc.map(function(e){return"\n/* {"+e.id+"} */\n"+e.styles}).join("\n");rc?rc.cssText=e:tc.innerHTML=e,ic||(nc.appendChild(tc),ic=!0)},Jl={add:function(e){xc.push(e),_c=!0},apply:function(){_c&&(ec(),_c=!1)}}):Jl={add:Du,apply:Du};var kc,Ec,Cc=Jl,Tc=Lt,Sc=new nl("render"),Ac=new nl("complete"),Nc={extend:function(e,t,n){t.adapt=Ft(t.adapt,F(n.adapt))},init:function(){}},jc=Nc,Dc=qt,Lc=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Oc=/\/\*.*?\*\//g,Fc=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,qc=/^@media/,Pc=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Rc=1,Ic={name:"css",extend:function(e,t,n){if(n.css){var r=Rc++,i=n.noCssTransform?n.css:Dc(n.css,r);t.cssId=r,Cc.add({id:r,styles:i})}},init:function(){}},Hc=Ic,Mc={name:"data",extend:function(e,t,n){var r=void 0,i=void 0;if(n.data&&l(n.data))for(r in n.data)i=n.data[r],i&&"object"==typeof i&&(l(i)||o(i))&&g("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");t.data=Ht(t.data,n.data)},init:function(e,t,n){var r=Ht(e.prototype.data,n.data);return"function"==typeof r&&(r=r.call(t)),r||{}},reset:function(e){var t=this.init(e.constructor,e,e.viewmodel);return e.viewmodel.reset(t),!0}},Wc=Mc,zc=/^\s+/;Ec=function(e){this.name="ParseError",this.message=e;try{throw new Error(e)}catch(t){this.stack=t.stack}},Ec.prototype=Error.prototype,kc=function(e,t){var n,r,i=0;for(this.str=e,this.options=t||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(e){var t=i+e.length+1;return i=t,t},0),this.init&&this.init(e,t),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,t):n},kc.prototype={read:function(e){var t,n,r,i;for(e||(e=this.converters),t=this.pos,r=e.length,n=0;r>n;n+=1)if(this.pos=t,i=e[n](this))return i;return null},getLinePos:function(e){for(var t,n=0,r=0;e>=this.lineEnds[n];)r=this.lineEnds[n],n+=1;return t=e-r,[n+1,t+1,e]},error:function(e){var t=this.getLinePos(this.pos),n=t[0],r=t[1],i=this.lines[t[0]-1],o=0,a=i.replace(/\t/g,function(e,n){return n<t[1]&&(o+=1),"  "})+"\n"+new Array(t[1]+o).join(" ")+"^----",s=new Ec(""+e+" at line "+n+" character "+r+":\n"+a);throw s.line=t[0],s.character=t[1],s.shortMessage=e,s},matchString:function(e){return this.str.substr(this.pos,e.length)===e?(this.pos+=e.length,e):void 0},matchPattern:function(e){var t;return(t=e.exec(this.remaining()))?(this.pos+=t[0].length,t[1]||t[0]):void 0},allowWhitespace:function(){this.matchPattern(zc)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},kc.extend=function(e){var t,n,r=this;t=function(e,t){kc.call(this,e,t)},t.prototype=wu(r.prototype);for(n in e)Au.call(e,n)&&(t.prototype[n]=e[n]);return t.extend=kc.extend,t};var Bc,$c,Vc,Uc=kc,Xc=1,Qc=2,Gc=3,Kc=4,Yc=5,Zc=6,Jc=7,ef=8,tf=9,nf=10,rf=13,of=14,af=15,sf=16,uf=17,lf=18,cf=20,ff=21,hf=22,df=23,pf=24,gf=25,mf=26,vf=27,yf=30,bf=31,wf=32,xf=33,_f=34,kf=35,Ef=36,Cf=40,Tf=50,Sf=51,Af=52,Nf=53,jf=54,Df=60,Lf=61,Of=zt,Ff=/^[^\s=]+/,qf=/^\s+/,Pf=Bt,Rf=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,If=$t,Hf={t:nf,exclude:!0},Mf="Expected a JavaScript expression",Wf="Expected closing paren",zf=Ut,Bf=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,$f=Xt;Bc=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,$c=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Vc=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Vf,Uf,Xf=function(e){return function(t){var n,r,i,o;for(n=t.pos,r='"',i=!1;!i;)o=t.matchPattern(Bc)||t.matchPattern($c)||t.matchString(e),o?r+='"'===o?'\\"':"\\'"===o?"'":o:(o=t.matchPattern(Vc),o?r+="\\u"+("000"+o.charCodeAt(1).toString(16)).slice(-4):i=!0);return r+='"',JSON.parse(r)}},Qf=Xf('"'),Gf=Xf("'"),Kf=function(e){var t,n;return t=e.pos,e.matchString('"')?(n=Gf(e),e.matchString('"')?{t:ff,v:n}:(e.pos=t,null)):e.matchString("'")?(n=Qf(e),e.matchString("'")?{t:ff,v:n}:(e.pos=t,null)):null},Yf=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Zf=Qt,Jf=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,eh=Gt,th=Kt,nh=function(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("{")?(n=th(e),e.allowWhitespace(),e.matchString("}")?{t:df,m:n}:(e.pos=t,null)):(e.pos=t,null)},rh=Yt,ih=function(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("[")?(n=rh(e),e.matchString("]")?{t:hf,m:n}:(e.pos=t,null)):(e.pos=t,null)},oh=Zt,ah=Jt,sh=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Vf=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,Uf=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var uh,lh,ch=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,fh=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,hh=en,dh=function(e){return oh(e)||ah(e)||hh(e)},ph=tn,gh=function(e){var t,n,r,i;if(n=dh(e),!n)return null;for(;n;)if(t=e.pos,r=ph(e))n={t:wf,x:n,r:r};else{if(!e.matchString("("))break;e.allowWhitespace(),i=rh(e),e.allowWhitespace(),e.matchString(")")||e.error(Wf),n={t:Cf,x:n},i&&(n.o=i)}return n};lh=function(e,t){return function(n){var r;return(r=t(n))?r:n.matchString(e)?(n.allowWhitespace(),r=Nh(n),r||n.error(Mf),{s:e,o:r,t:xf}):null}},function(){var e,t,n,r,i;for(r="! ~ + - typeof".split(" "),i=gh,e=0,t=r.length;t>e;e+=1)n=lh(r[e],i),i=n;uh=i}();var mh,vh,yh=uh;vh=function(e,t){return function(n){var r,i,o;if(i=t(n),!i)return null;for(;;){if(r=n.pos,n.allowWhitespace(),!n.matchString(e))return n.pos=r,i;if("in"===e&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=r,i;if(n.allowWhitespace(),o=t(n),!o)return n.pos=r,i;i={t:Ef,s:e,o:[i,o]}}}},function(){var e,t,n,r,i;for(r="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),i=yh,e=0,t=r.length;t>e;e+=1)n=vh(r[e],i),i=n;mh=i}();var bh,wh,xh,_h,kh,Eh,Ch,Th,Sh=mh,Ah=nn,Nh=rn,jh=on,Dh=sn,Lh=/^[0-9][1-9]*$/,Oh=ln,Fh=cn,qh=fn,Ph=hn,Rh=dn,Ih=pn,Hh=gn,Mh=/^yield\s*/,Wh=mn,zh=vn,Bh=/^\s*else\s*/,$h=yn,Vh=/^\s*elseif\s+/,Uh={each:Af,"if":Tf,"if-with":jf,"with":Nf,unless:Sf},Xh=bn,Qh=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Gh=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Kh=new RegExp("^("+Object.keys(Uh).join("|")+")\\b"),Yh=En,Zh="<!--",Jh="-->";bh=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,wh=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,xh={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},_h=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],kh=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(xh).join("|")+"));?","g"),Eh=/</g,Ch=/>/g,Th=/&/g;var ed,td,nd,rd,id,od,ad,sd=/^\s*\r?\n/,ud=/\r?\n\s*$/,ld=function(e){var t,n,r,i,o;for(t=1;t<e.length;t+=1)n=e[t],r=e[t-1],i=e[t-2],An(n)&&Nn(r)&&An(i)&&ud.test(i)&&sd.test(n)&&(e[t-2]=i.replace(ud,"\n"),e[t]=n.replace(sd,"")),jn(n)&&An(r)&&ud.test(r)&&An(n.f[0])&&sd.test(n.f[0])&&(e[t-1]=r.replace(ud,"\n"),n.f[0]=n.f[0].replace(sd,"")),An(n)&&jn(r)&&(o=q(r.f),An(o)&&ud.test(o)&&sd.test(n)&&(r.f[r.f.length-1]=o.replace(ud,"\n"),e[t]=n.replace(sd,"")));return e},cd=function(e,t,n){var r;t&&(r=e[0],"string"==typeof r&&(r=r.replace(t,""),r?e[0]=r:e.shift())),n&&(r=q(e),"string"==typeof r&&(r=r.replace(n,""),r?e[e.length-1]=r:e.pop()))},fd=Dn,hd=/[ \t\f\r\n]+/g,dd=/^(?:pre|script|style|textarea)$/i,pd=/^[ \t\f\r\n]+/,gd=/[ \t\f\r\n]+$/,md=/^(?:\r\n|\r|\n)/,vd=/(?:\r\n|\r|\n)$/,yd=Ln,bd=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,wd=function(e,t){var n,r,i;for(n=t.length;n--;){if(r=e.indexOf(t[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},xd=On,_d=/^[^\s"'>\/=]+/,kd=/^[^\s"'=<>`]+/;td={"true":!0,"false":!1,undefined:void 0,"null":null},nd=new RegExp("^(?:"+Object.keys(td).join("|")+")"),rd=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,id=/\$\{([^\}]+)\}/g,od=/^\$\{([^\}]+)\}/,ad=/^\s*$/,ed=Uc.extend({init:function(e,t){this.values=t.values,this.allowWhitespace()},postProcess:function(e){return 1===e.length&&ad.test(this.leftover)?{value:e[0].v}:null},converters:[function(e){var t;return e.values?(t=e.matchPattern(od),t&&e.values.hasOwnProperty(t)?{v:e.values[t]}:void 0):null},function(e){var t;return(t=e.matchPattern(nd))?{v:td[t]}:void 0},function(e){var t;return(t=e.matchPattern(rd))?{v:+t}:void 0},function(e){var t,n=Kf(e);return n&&(t=e.values)?{v:n.v.replace(id,function(e,n){return n in t?t[n]:n})}:n},function(e){var t,n;if(!e.matchString("{"))return null;if(t={},e.allowWhitespace(),e.matchString("}"))return{v:t};for(;n=Hn(e);){if(t[n.key]=n.value,e.allowWhitespace(),e.matchString("}"))return{v:t};if(!e.matchString(","))return null}return null},function(e){var t,n;if(!e.matchString("["))return null;if(t=[],e.allowWhitespace(),e.matchString("]"))return{v:t};for(;n=e.read();){if(t.push(n.v),e.allowWhitespace(),e.matchString("]"))return{v:t};if(!e.matchString(","))return null;e.allowWhitespace()}return null}]});var Ed,Cd=function(e,t){var n=new ed(e,{values:t});return n.result},Td=Mn,Sd=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Ad=/\)\s*$/;Ed=Uc.extend({converters:[Nh]});var Nd,jd=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Dd=/^[\s\n\/>]/,Ld=/^on/,Od=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Fd=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,qd={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Pd={exclude:!0};Nd={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Rd,Id=Wn,Hd=Bn,Md=$n,Wd=/[-/\\^$*+?.()|[\]{}]/g,zd=Vn,Bd=/^<!--\s*/,$d=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Vd=/\s*-->/,Ud=Un,Xd=/^#\s*partial\s+/,Qd=Xn,Gd=Qn,Kd=[qh,Fh,Xh,Hh,Ih,Ph],Yd=[Oh],Zd=[Fh,Xh,Ih],Jd=void 0,ep=[If,Yh,Id,Hd],tp=[zd,Ud];Jd=Uc.extend({init:function(e,t){var n=t.tripleDelimiters||["{{{","}}}"],r=t.staticDelimiters||["[[","]]"],i=t.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=t.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Kd},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Yd},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:Zd},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:Yd}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!t.interpolate||t.interpolate.script!==!1,style:!t.interpolate||t.interpolate.style!==!1},t.sanitize===!0&&(t.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=t.stripComments!==!1,this.preserveWhitespace=t.preserveWhitespace,this.sanitizeElements=t.sanitize&&t.sanitize.elements,this.sanitizeEventAttributes=t.sanitize&&t.sanitize.eventAttributes,this.includeLinePositions=t.includeLinePositions},postProcess:function(e){return e.length?(this.sectionDepth>0&&this.error("A section was left open"),fd(e[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),e[0]):{t:[],v:au}},converters:[Qd],sortMustacheTags:function(){this.tags.sort(function(e,t){return t.open.length-e.open.length})}});var np,rp,ip,op=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],ap={fromId:Yn,isHashedId:Zn,isParsed:Jn,getParseOptions:er,createHelper:Gn,parse:Kn},sp=ap,up={name:"template",extend:function(e,t,n){var r;"template"in n&&(r=n.template,t.template="function"==typeof r?r:ir(r,t))},init:function(e,t,n){var r,i;r="template"in n?n.template:e.prototype.template,"function"==typeof r&&(i=r,r=nr(t,i),t._config.template={fn:i,result:r}),r=ir(r,t),t.template=r.t,r.p&&or(t.partials,r.p)},reset:function(e){var t,n=tr(e);return n?(t=ir(n,e),e.template=t.t,or(e.partials,t.p,!0),!0):void 0}},lp=up;np=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],rp=function(e,t){this.name=e,this.useDefaults=t},rp.prototype={constructor:rp,extend:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,this.useDefaults?t:t.constructor,n)},init:function(){},configure:function(e,t,n){var r,i=this.name,o=n[i];r=wu(e[i]);for(var a in o)r[a]=o[a];t[i]=r},reset:function(e){var t=e[this.name],n=!1;return Object.keys(t).forEach(function(e){var r=t[e];r._fn&&(r._fn.isOwner?t[e]=r._fn:delete t[e],n=!0)}),n}},ip=np.map(function(e){return new rp(e,"computed"===e)});var cp,fp,hp,dp,pp,gp,mp=ip,vp=ar,yp=cr;dp={adapt:jc,css:Hc,data:Wc,template:lp},hp=Object.keys(uu),gp=dr(hp.filter(function(e){return!dp[e]})),pp=dr(hp.concat(mp.map(function(e){return e.name}))),fp=[].concat(hp.filter(function(e){return!mp[e]&&!dp[e]}),mp,dp.data,dp.template,dp.css),cp={extend:function(e,t,n){return fr("extend",e,t,n)},init:function(e,t,n){return fr("init",e,t,n)},reset:function(e){return fp.filter(function(t){return t.reset&&t.reset(e)}).map(function(e){return e.name})},order:fp};var bp=cp,wp=pr,xp=gr,_p=mr,kp=vr,Ep=yr,Cp=br,Tp=wr,Sp=xr,Ap=_r,Np=kr,jp=Er,Dp=Cr,Lp=function(){return t(this.node)},Op=function(e){this.type=Xc,this.text=e.template};Op.prototype={detach:Lp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(e){return e?Sn(this.text):this.text},unrender:function(e){return e?this.detach():void 0}};var Fp=Op,qp=Tr,Pp=Sr,Rp=function(e,t,n){var r;this.ref=t,this.resolved=!1,this.root=e.root,this.parentFragment=e.parentFragment,this.callback=n,r=ul(e.root,t,e.parentFragment),void 0!=r?this.resolve(r):gl.addUnresolved(this)};Rp.prototype={resolve:function(e){this.keypath&&!e&&gl.addUnresolved(this),this.resolved=!0,this.keypath=e,this.callback(e)},forceResolution:function(){this.resolve(E(this.ref))},rebind:function(e,t){var n;void 0!=this.keypath&&(n=this.keypath.replace(e,t),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||gl.removeUnresolved(this)}};var Ip=Rp,Hp=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,this.rebind()},Mp={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Hp.prototype={rebind:function(){var e,t=this.ref,n=this.parentFragment,r=Mp[t];if(!r)throw new Error('Unknown special reference "'+t+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(E("@"+r.prefix+Ar(this.cached,r)));if(-1!==r.prop.indexOf("index")||-1!==r.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Af&&void 0!==(e=Ar(n,r)))return this.cached=n,n.registerIndexRef(this),this.callback(E("@"+r.prefix+e));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(e=Ar(n,r)))return this.callback(E("@"+r.prefix+e.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Wp=Hp,zp=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,t.ref.fragment.registerIndexRef(this),this.rebind()};zp.prototype={rebind:function(){var e,t=this.ref.ref;e="k"===t.ref.t?"k"+t.fragment.key:"i"+t.fragment.index,void 0!==e&&this.callback(E("@"+e))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Bp=zp,$p=Nr;Nr.resolve=function(e){var t,n,r={};for(t in e.refs)n=e.refs[t],r[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return r};var Vp,Up=jr,Xp=Dr,Qp={},Gp=Function.prototype.bind;Vp=function(e,t,n,r){var i,o=this;i=e.root,this.root=i,this.parentFragment=t,this.callback=r,this.owner=e,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(e,t){return Up(o,e,function(e){o.resolve(t,e)})}),this.ready=!0,this.bubble()},Vp.prototype={bubble:function(){this.ready&&(this.uniqueString=Or(this.str,this.keypaths),this.keypath=Fr(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var e;e=this.refResolvers.pop();)e.unbind()},resolve:function(e,t){this.keypaths[e]=t,this.bubble()},createEvaluator:function(){var e,t,n,r,i,o=this;r=this.keypath,e=this.root.viewmodel.computations[r.str],e?this.root.viewmodel.mark(r):(i=Xp(this.str,this.refResolvers.length),t=this.keypaths.map(function(e){var t;return"undefined"===e?function(){return void 0}:e.isSpecial?(t=e.value,function(){return t}):function(){var t=o.root.viewmodel.get(e,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof t&&(t=Pr(t,o.root)),t}}),n={deps:this.keypaths.filter(qr),getter:function(){var e=t.map(Lr);return i.apply(null,e)}},e=this.root.viewmodel.compute(r,n))},rebind:function(e,t){this.refResolvers.forEach(function(n){return n.rebind(e,t)})}};var Kp=Vp,Yp=function(e,t,n){var r=this;this.resolver=t,this.root=t.root,this.parentFragment=n,this.viewmodel=t.root.viewmodel,"string"==typeof e?this.value=e:e.t===yf?this.refResolver=Up(this,e.n,function(e){r.resolve(e)}):new Kp(t,n,e,function(e){r.resolve(e)})};Yp.prototype={resolve:function(e){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=e,this.value=this.viewmodel.get(e),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(e,t){this.refResolver&&this.refResolver.rebind(e,t)},setValue:function(e){this.value=e,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Zp=Yp,Jp=function(e,t,n){var r,i,o,a,s=this;this.parentFragment=a=e.parentFragment,this.root=r=e.root,this.mustache=e,this.ref=i=t.r,this.callback=n,this.unresolved=[],(o=ul(r,i,a))?this.base=o:this.baseResolver=new Ip(this,i,function(e){s.base=e,s.baseResolver=null,s.bubble()}),this.members=t.m.map(function(e){return new Zp(e,s,a)}),this.ready=!0,this.bubble()};Jp.prototype={getKeypath:function(){var e=this.members.map(Rr);return!e.every(Ir)||this.baseResolver?null:this.base.join(e.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(X)},rebind:function(e,t){var n;if(this.base){var r=this.base.replace(e,t);r&&r!==this.base&&(this.base=r,n=!0)}this.members.forEach(function(r){r.rebind(e,t)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=E(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Hr),this.bubble()}};var eg=Jp,tg=Mr,ng=Wr,rg=zr,ig={getValue:Pp,init:tg,resolve:ng,rebind:rg},og=function(e){this.type=Qc,ig.init(this,e)};og.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:ig.resolve,rebind:ig.rebind,detach:Lp,unbind:qp,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(e){e&&t(this.node)},getValue:ig.getValue,setValue:function(e){var t;this.keypath&&(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),s(e,this.value)||(this.value=e,this.parentFragment.bubble(),this.node&&gl.addView(this))},firstNode:function(){return this.node},toString:function(e){var t=""+n(this.value);return e?Sn(t):t}};var ag=og,sg=Br,ug=$r,lg=Vr,cg=Ur,fg=Xr,hg=Qr,dg=Gr,pg=Kr,gg=Yr,mg=function(e,t){ig.rebind.call(this,e,t)},vg=Jr,yg=ei,bg=fi,wg=hi,xg=di,_g=mi,kg=function(e){this.type=Kc,this.subtype=this.currentSubtype=e.template.n,this.inverted=this.subtype===Sf,this.pElement=e.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],e.template.i&&(this.indexRefs=e.template.i.split(",").map(function(e,t){return{n:e,t:0===t?"k":"i"}})),this.renderedFragments=[],this.length=0,ig.init(this,e)};kg.prototype={bubble:sg,detach:ug,find:lg,findAll:cg,findAllComponents:fg,findComponent:hg,findNextNode:dg,firstNode:pg,getIndexRef:function(e){if(this.indexRefs)for(var t=this.indexRefs.length;t--;){var n=this.indexRefs[t];if(n.n===e)return n}},getValue:ig.getValue,shuffle:gg,rebind:mg,render:vg,resolve:ig.resolve,setValue:yg,toString:bg,unbind:wg,unrender:xg,update:_g};var Eg,Cg,Tg=kg,Sg=vi,Ag=yi,Ng=bi,jg=wi,Dg={};try{fu("table").innerHTML="foo"}catch(Eu){Eg=!0,Cg={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Lg=function(e,t,n){var r,i,o,a,s,u=[];if(null!=e&&""!==e){for(Eg&&(i=Cg[t.tagName])?(r=xi("DIV"),r.innerHTML=i[0]+e+i[1],r=r.querySelector(".x"),"SELECT"===r.tagName&&(o=r.options[r.selectedIndex])):t.namespaceURI===ru.svg?(r=xi("DIV"),r.innerHTML='<svg class="x">'+e+"</svg>",r=r.querySelector(".x")):(r=xi(t.tagName),r.innerHTML=e,"SELECT"===r.tagName&&(o=r.options[r.selectedIndex]));a=r.firstChild;)u.push(a),n.appendChild(a);if("SELECT"===t.tagName)for(s=u.length;s--;)u[s]!==o&&(u[s].selected=!1)}return u},Og=_i,Fg=Ei,qg=Ci,Pg=Ti,Rg=Si,Ig=Ai,Hg=function(e){this.type=Gc,ig.init(this,e)};Hg.prototype={detach:Sg,find:Ag,findAll:Ng,firstNode:jg,getValue:ig.getValue,rebind:ig.rebind,render:Fg,resolve:ig.resolve,setValue:qg,toString:Pg,unbind:qp,unrender:Rg,update:Ig};var Mg,Wg,zg,Bg,$g=Hg,Vg=function(){this.parentFragment.bubble()},Ug=Ni,Xg=function(e){return this.node?hu(this.node,e)?this.node:this.fragment&&this.fragment.find?this.fragment.find(e):void 0:null},Qg=function(e,t){t._test(this,!0)&&t.live&&(this.liveQueries||(this.liveQueries=[])).push(t),this.fragment&&this.fragment.findAll(e,t)},Gg=function(e,t){this.fragment&&this.fragment.findAllComponents(e,t)},Kg=function(e){return this.fragment?this.fragment.findComponent(e):void 0},Yg=ji,Zg=Di,Jg=Li,em=/^true|on|yes|1$/i,tm=/^[0-9]+$/,nm=function(e,t){var n,r,i;return i=t.a||{},r={},n=i.twoway,void 0!==n&&(r.twoway=0===n||em.test(n)),n=i.lazy,void 0!==n&&(r.lazy=0!==n&&tm.test(n)?parseInt(n):0===n||em.test(n)),r},rm=Oi;Mg="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Wg="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),zg=function(e){for(var t={},n=e.length;n--;)t[e[n].toLowerCase()]=e[n];return t},Bg=zg(Mg.concat(Wg));var im=function(e){var t=e.toLowerCase();return Bg[t]||t},om=function(e,t){var n,r;if(n=t.indexOf(":"),-1===n||(r=t.substr(0,n),"xmlns"===r))e.name=e.element.namespace!==ru.html?im(t):t;else if(t=t.substring(n+1),e.name=im(t),e.namespace=ru[r.toLowerCase()],e.namespacePrefix=r,!e.namespace)throw'Unknown namespace ("'+r+'")'},am=Fi,sm=qi,um=Pi,lm=Ri,cm={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},fm=Ii,hm=Mi,dm=Wi,pm=zi,gm=Bi,mm=$i,vm=Vi,ym=Ui,bm=Xi,wm=Qi,xm=Gi,_m=Ki,km=Yi,Em=Zi,Cm=Ji,Tm=function(e){this.init(e)};Tm.prototype={bubble:rm,init:sm,rebind:um,render:lm,toString:fm,unbind:hm,update:Cm};var Sm,Am=Tm,Nm=function(e,t){var n,r,i=[];for(n in t)"twoway"!==n&&"lazy"!==n&&t.hasOwnProperty(n)&&(r=new Am({element:e,name:n,value:t[n],root:e.root}),i[n]=r,"value"!==n&&i.push(r));return(r=i.value)&&i.push(r),i};"undefined"!=typeof document&&(Sm=fu("div"));var jm=function(e,t){this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.attributes=[],this.fragment=new yw({root:e.root,owner:this,template:[t]})};jm.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(e,t){this.fragment.rebind(e,t)},render:function(e){this.node=e,this.isSvg=e.namespaceURI===ru.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var e,t,n=this;e=this.fragment.toString(),t=eo(e,this.isSvg),this.attributes.filter(function(e){return to(t,e)}).forEach(function(e){n.node.removeAttribute(e.name)}),t.forEach(function(e){n.node.setAttribute(e.name,e.value)}),this.attributes=t},toString:function(){return this.fragment.toString()}};var Dm=jm,Lm=function(e,t){return t?t.map(function(t){return new Dm(e,t)}):[]},Om=function(e){var t,n,r,i;if(this.element=e,this.root=e.root,this.attribute=e.attributes[this.name||"value"],t=this.attribute.interpolator,t.twowayBinding=this,n=t.keypath){if("}"===n.str.slice(-1))return m("Two-way binding does not work with expressions (`%s` on <%s>)",t.resolver.uniqueString,e.name,{ractive:this.root}),!1;if(n.isSpecial)return m("Two-way binding does not work with %s",t.resolver.ref,{ractive:this.root}),!1}else{var o=t.template.r?"'"+t.template.r+"' reference":"expression";g("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",o,{ractive:this.root}),t.resolver.forceResolution(),n=t.keypath}this.attribute.isTwoway=!0,this.keypath=n,r=this.root.viewmodel.get(n),void 0===r&&this.getInitialValue&&(r=this.getInitialValue(),void 0!==r&&this.root.viewmodel.set(n,r)),(i=no(e))&&(this.resetValue=r,i.formBindings.push(this))};Om.prototype={handleChange:function(){var e=this;gl.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),gl.scheduleTask(function(){return e.attribute.locked=!1}),gl.end()},rebound:function(){var e,t,n;t=this.keypath,n=this.attribute.interpolator.keypath,t!==n&&(P(this.root._twowayBindings[t.str],this),this.keypath=n,e=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),e.push(this))},unbind:function(){}},Om.extend=function(e){var t,n=this;return t=function(e){Om.call(this,e),this.init&&this.init()},t.prototype=wu(n.prototype),r(t.prototype,e),t.extend=Om.extend,t};var Fm,qm=Om,Pm=ro;Fm=qm.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var e,t=this.element.node,n=!1;
this.rendered=!0,e=this.root.lazy,this.element.lazy===!0?e=!0:this.element.lazy===!1?e=!1:u(this.element.lazy)?(e=!1,n=+this.element.lazy):u(e||"")&&(n=+e,e=!1,this.element.lazy=n),this.handler=n?oo:Pm,t.addEventListener("change",Pm,!1),e||(t.addEventListener("input",this.handler,!1),t.attachEvent&&t.addEventListener("keyup",this.handler,!1)),t.addEventListener("blur",io,!1)},unrender:function(){var e=this.element.node;this.rendered=!1,e.removeEventListener("change",Pm,!1),e.removeEventListener("input",this.handler,!1),e.removeEventListener("keyup",this.handler,!1),e.removeEventListener("blur",io,!1)}});var Rm=Fm,Im=Rm.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),Hm=Im,Mm=ao,Wm={},zm=qm.extend({name:"checked",init:function(){this.siblings=Mm(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var e=this.element.node;e.addEventListener("change",Pm,!1),e.attachEvent&&e.addEventListener("click",Pm,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Pm,!1),e.removeEventListener("click",Pm,!1)},handleChange:function(){gl.start(this.root),this.siblings.forEach(function(e){e.root.viewmodel.set(e.keypath,e.getValue())}),gl.end()},getValue:function(){return this.element.node.checked},unbind:function(){P(this.siblings,this)}}),Bm=zm,$m=qm.extend({name:"name",init:function(){this.siblings=Mm(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var e=this.element.node;e.name="{{"+this.keypath.str+"}}",e.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),e.addEventListener("change",Pm,!1),e.attachEvent&&e.addEventListener("click",Pm,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Pm,!1),e.removeEventListener("click",Pm,!1)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){this.element.node.checked&&qm.prototype.handleChange.call(this)},rebound:function(e,t){var n;qm.prototype.rebound.call(this,e,t),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){P(this.siblings,this)}}),Vm=$m,Um=qm.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var e,t;this.checkboxName=!0,this.siblings=Mm(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),e.push(t))},unbind:function(){P(this.siblings,this)},render:function(){var e,t,n=this.element.node;e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),this.isChecked=o(e)?L(e,t):e==t,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Pm,!1),n.attachEvent&&n.addEventListener("click",Pm,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Pm,!1),e.removeEventListener("click",Pm,!1)},changed:function(){var e=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===e},handleChange:function(){this.isChecked=this.element.node.checked,qm.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(so).map(uo)}}),Xm=Um,Qm=qm.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",Pm,!1),e.attachEvent&&e.addEventListener("click",Pm,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Pm,!1),e.removeEventListener("click",Pm,!1)},getValue:function(){return this.element.node.checked}}),Gm=Qm,Km=qm.extend({getInitialValue:function(){var e,t,n,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(t=e=i.length,e)){for(;t--;)if(i[t].getAttribute("selected")){n=i[t].getAttribute("value"),r=!0;break}if(!r)for(;++t<e;)if(!i[t].getAttribute("disabled")){n=i[t].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Pm,!1)},unrender:function(){this.element.node.removeEventListener("change",Pm,!1)},setValue:function(e){this.root.viewmodel.set(this.keypath,e)},getValue:function(){var e,t,n,r,i;for(e=this.element.node.options,n=e.length,t=0;n>t;t+=1)if(r=e[t],e[t].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var e=this,t=this.getValue();void 0!==t&&(this.attribute.locked=!0,gl.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,t))}}),Ym=Km,Zm=Ym.extend({getInitialValue:function(){return this.element.options.filter(function(e){return e.getAttribute("selected")}).map(function(e){return e.getAttribute("value")})},render:function(){var e;this.element.node.addEventListener("change",Pm,!1),e=this.root.viewmodel.get(this.keypath),void 0===e&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Pm,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,r,i,o;for(e=[],t=this.element.node.options,r=t.length,n=0;r>n;n+=1)i=t[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,e.push(o));return e},handleChange:function(){var e,t,n;return e=this.attribute,t=e.value,n=this.getValue(),void 0!==t&&O(n,t)||Ym.prototype.handleChange.call(this),this},forceUpdate:function(){var e=this,t=this.getValue();void 0!==t&&(this.attribute.locked=!0,gl.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,t))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Jm=Zm,ev=qm.extend({render:function(){this.element.node.addEventListener("change",Pm,!1)},unrender:function(){this.element.node.removeEventListener("change",Pm,!1)},getValue:function(){return this.element.node.files}}),tv=ev,nv=Rm.extend({getInitialValue:function(){return void 0},getValue:function(){var e=parseFloat(this.element.node.value);return isNaN(e)?void 0:e}}),rv=lo,iv=fo,ov=ho,av=po,sv=go,uv=/^event(?:\.(.+))?/,lv=bo,cv=wo,fv={},hv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},dv=_o,pv=ko,gv=Eo,mv=Co,vv=To,yv=function(e,t,n){this.init(e,t,n)};yv.prototype={bubble:iv,fire:ov,getAction:av,init:sv,listen:cv,rebind:dv,render:pv,resolve:gv,unbind:mv,unrender:vv};var bv=yv,wv=function(e,t){var n,r,i,o,a=[];for(r in t)if(t.hasOwnProperty(r))for(i=r.split("-"),n=i.length;n--;)o=new bv(e,i[n],t[r]),a.push(o);return a},xv=function(e,t){var n,r,i,o=this;this.element=e,this.root=n=e.root,r=t.n||t,("string"==typeof r||(i=new yw({template:r,root:n,owner:e}),r=i.toString(),i.unbind(),""!==r))&&(t.a?this.params=t.a:t.d&&(this.fragment=new yw({template:t.d,root:n,owner:e}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,o.params=this.getArgsList(),o.ready&&o.update()}),this.fn=v("decorators",n,r),this.fn||f(qu(r,"decorator")))};xv.prototype={init:function(){var e,t,n;if(e=this.element.node,this.params?(n=[e].concat(this.params),t=this.fn.apply(this.root,n)):t=this.fn.call(this.root,e),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=t,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(e,t){this.fragment&&this.fragment.rebind(e,t)},teardown:function(e){this.torndown=!0,this.ready&&this.actual.teardown(),!e&&this.fragment&&this.fragment.unbind()}};var _v,kv,Ev,Cv=xv,Tv=Oo,Sv=Fo,Av=Mo,Nv=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};Js?(kv={},Ev=fu("div").style,_v=function(e){var t,n,r;if(e=Nv(e),!kv[e])if(void 0!==Ev[e])kv[e]=e;else for(r=e.charAt(0).toUpperCase()+e.substring(1),t=ou.length;t--;)if(n=ou[t],void 0!==Ev[n+r]){kv[e]=n+r;break}return kv[e]}):_v=null;var jv,Dv,Lv=_v;Js?(Dv=window.getComputedStyle||ku.getComputedStyle,jv=function(e){var t,n,r,i,a;if(t=Dv(this.node),"string"==typeof e)return a=t[Lv(e)],"0px"===a&&(a=0),a;if(!o(e))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},r=e.length;r--;)i=e[r],a=t[Lv(i)],"0px"===a&&(a=0),n[i]=a;return n}):jv=null;var Ov=jv,Fv=function(e,t){var n;if("string"==typeof e)this.node.style[Lv(e)]=t;else for(n in e)e.hasOwnProperty(n)&&(this.node.style[Lv(n)]=e[n]);return this},qv=function(e){var t;this.duration=e.duration,this.step=e.step,this.complete=e.complete,"string"==typeof e.easing?(t=e.root.easing[e.easing],t||(m(qu(e.easing,"easing")),t=Wo)):t="function"==typeof e.easing?e.easing:Wo,this.easing=t,this.start=Ju(),this.end=this.start+this.duration,this.running=!0,yl.add(this)};qv.prototype={tick:function(e){var t,n;return this.running?e>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(t=e-this.start,n=this.easing(t/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Pv,Rv,Iv,Hv,Mv,Wv,zv,Bv,$v=qv,Vv=new RegExp("^-(?:"+ou.join("|")+")-"),Uv=function(e){return e.replace(Vv,"")},Xv=new RegExp("^(?:"+ou.join("|")+")([A-Z])"),Qv=function(e){var t;return e?(Xv.test(e)&&(e="-"+e),t=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})):""},Gv={},Kv={};Js?(Rv=fu("div").style,function(){void 0!==Rv.transition?(Iv="transition",Hv="transitionend",Mv=!0):void 0!==Rv.webkitTransition?(Iv="webkitTransition",Hv="webkitTransitionEnd",Mv=!0):Mv=!1}(),Iv&&(Wv=Iv+"Duration",zv=Iv+"Property",Bv=Iv+"TimingFunction"),Pv=function(e,t,n,r,i){setTimeout(function(){var o,a,s,u,l;u=function(){a&&s&&(e.root.fire(e.name+":end",e.node,e.isIntro),i())},o=(e.node.namespaceURI||"")+e.node.tagName,e.node.style[zv]=r.map(Lv).map(Qv).join(","),e.node.style[Bv]=Qv(n.easing||"linear"),e.node.style[Wv]=n.duration/1e3+"s",l=function(t){var n;n=r.indexOf(Nv(Uv(t.propertyName))),-1!==n&&r.splice(n,1),r.length||(e.node.removeEventListener(Hv,l,!1),s=!0,u())},e.node.addEventListener(Hv,l,!1),setTimeout(function(){for(var i,c,f,h,d,p=r.length,m=[];p--;)h=r[p],i=o+h,Mv&&!Kv[i]&&(e.node.style[Lv(h)]=t[h],Gv[i]||(c=e.getStyle(h),Gv[i]=e.getStyle(h)!=t[h],Kv[i]=!Gv[i],Kv[i]&&(e.node.style[Lv(h)]=c))),(!Mv||Kv[i])&&(void 0===c&&(c=e.getStyle(h)),f=r.indexOf(h),-1===f?g("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:e.node}):r.splice(f,1),d=/[^\d]*$/.exec(t[h])[0],m.push({name:Lv(h),interpolator:Ru(parseFloat(c),parseFloat(t[h])),suffix:d}));m.length?new $v({root:e.root,duration:n.duration,easing:Nv(n.easing||""),step:function(t){var n,r;for(r=m.length;r--;)n=m[r],e.node.style[n.name]=n.interpolator(t)+n.suffix},complete:function(){a=!0,u()}}):a=!0,r.length||(e.node.removeEventListener(Hv,l,!1),s=!0,u())},0)},n.delay||0)}):Pv=null;var Yv,Zv,Jv,ey,ty,ny=Pv;if("undefined"!=typeof document){if(Yv="hidden",ty={},Yv in document)Jv="";else for(ey=ou.length;ey--;)Zv=ou[ey],Yv=Zv+"Hidden",Yv in document&&(Jv=Zv);void 0!==Jv?(document.addEventListener(Jv+"visibilitychange",zo),zo()):("onfocusout"in document?(document.addEventListener("focusout",Bo),document.addEventListener("focusin",$o)):(window.addEventListener("pagehide",Bo),window.addEventListener("blur",Bo),window.addEventListener("pageshow",$o),window.addEventListener("focus",$o)),ty.hidden=!1)}var ry,iy,oy,ay=ty;Js?(iy=window.getComputedStyle||ku.getComputedStyle,ry=function(e,t,n){var r,i=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(ay.hidden)return this.setStyle(e,t),oy||(oy=al.resolve());"string"==typeof e?(r={},r[e]=t):(r=e,n=t),n||(m('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var o=new al(function(e){var t,o,a,s,u,l,c;if(!n.duration)return i.setStyle(r),void e();for(t=Object.keys(r),o=[],a=iy(i.node),u={},l=t.length;l--;)c=t[l],s=a[Lv(c)],"0px"===s&&(s=0),s!=r[c]&&(o.push(c),i.node.style[Lv(c)]=s);return o.length?void ny(i,r,n,o,e):void e()});return o}):ry=null;var sy=ry,uy=function(e,t){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),i({},e,t)},ly=Vo,cy=function(e,t,n){this.init(e,t,n)};cy.prototype={init:Av,start:ly,getStyle:Ov,setStyle:Fv,animateStyle:sy,processParams:uy};var fy,hy,dy=cy,py=Xo;fy=function(){var e=this.node,t=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(e.type="text/css"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},hy=function(){this.node.type&&"text/javascript"!==this.node.type||g("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var gy=function(){var e,t;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(e="<"+this.template.e,e+=this.attributes.map(Jo).join("")+this.conditionalAttributes.map(Jo).join(""),"option"===this.name&&Yo(this)&&(e+=" selected"),"input"===this.name&&Zo(this)&&(e+=" checked"),e+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?e+=Sn(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(e+=this.getAttribute("value")||""),this.fragment&&(t="script"!==this.name&&"style"!==this.name,e+=this.fragment.toString(t)),wh.test(this.template.e)||(e+="</"+this.template.e+">"),e)},my=ea,vy=ta,yy=function(e){this.init(e)};yy.prototype={bubble:Vg,detach:Ug,find:Xg,findAll:Qg,findAllComponents:Gg,findComponent:Kg,findNextNode:Yg,firstNode:Zg,getAttribute:Jg,init:Tv,rebind:Sv,render:py,toString:gy,unbind:my,unrender:vy};var by=yy,wy=/^\s*$/,xy=/^\s*/,_y=function(e){var t,n,r,i;return t=e.split("\n"),n=t[0],void 0!==n&&wy.test(n)&&t.shift(),r=q(t),void 0!==r&&wy.test(r)&&t.pop(),i=t.reduce(ra,null),i&&(e=t.map(function(e){return e.replace(i,"")}).join("\n")),e},ky=ia,Ey=function(e,t){var n;return t?n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n"):e},Cy='Could not find template for partial "%s"',Ty=function(e){var t,n;t=this.parentFragment=e.parentFragment,this.root=t.root,this.type=ef,this.index=e.index,this.name=e.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,ig.init(this,e),this.keypath||((n=ky(this.root,this.name,t))?(qp.call(this),this.isNamed=!0,this.setTemplate(n)):m(Cy,this.name))};Ty.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(e,t){this.isNamed||rg.call(this,e,t),this.fragment&&this.fragment.rebind(e,t)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:ig.resolve,setValue:function(e){var t;(void 0===e||e!==this.value)&&(void 0!==e&&(t=ky(this.root,""+e,this.parentFragment)),!t&&this.name&&(t=ky(this.root,this.name,this.parentFragment))&&(qp.call(this),this.isNamed=!0),t||m(Cy,this.name,{ractive:this.root}),this.value=e,this.setTemplate(t||[]),this.bubble(),this.rendered&&gl.addView(this))},setTemplate:function(e){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new yw({template:e,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(e){var t,n,r,i;return t=this.fragment.toString(e),n=this.parentFragment.items[this.index-1],n&&n.type===Xc?(r=n.text.split("\n").pop(),(i=/^\s+$/.exec(r))?Ey(t,i[0]):t):t},unbind:function(){this.isNamed||qp.call(this),this.fragment&&this.fragment.unbind()},unrender:function(e){this.rendered&&(this.fragment&&this.fragment.unrender(e),this.rendered=!1)},update:function(){var e,t;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(e=this.parentFragment.getNode(),t=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,t))}};var Sy,Ay,Ny,jy=Ty,Dy=la,Ly=ca,Oy=new nl("detach"),Fy=fa,qy=ha,Py=da,Ry=pa,Iy=ga,Hy=ma,My=function(e,t,n,r){var i=e.root,o=e.keypath;r?i.viewmodel.smartUpdate(o,t,r):i.viewmodel.mark(o)},Wy=[],zy=["pop","push","reverse","shift","sort","splice","unshift"];zy.forEach(function(e){var t=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];var i,o,a,s;for(i=gc(this,e,n),o=Array.prototype[e].apply(this,arguments),gl.start(),this._ractive.setting=!0,s=this._ractive.wrappers.length;s--;)a=this._ractive.wrappers[s],gl.addRactive(a.root),My(a,this,e,i);return gl.end(),this._ractive.setting=!1,o};xu(Wy,e,{value:t})}),Sy={},Sy.__proto__?(Ay=function(e){e.__proto__=Wy},Ny=function(e){e.__proto__=Array.prototype}):(Ay=function(e){var t,n;for(t=zy.length;t--;)n=zy[t],xu(e,n,{value:Wy[n],configurable:!0})},Ny=function(e){var t;for(t=zy.length;t--;)delete e[zy[t]]}),Ay.unpatch=Ny;var By,$y,Vy,Uy=Ay;By={filter:function(e){return o(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new $y(e,t,n)}},$y=function(e,t,n){this.root=e,this.value=t,this.keypath=E(n),t._ractive||(xu(t,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Uy(t)),t._ractive.instances[e._guid]||(t._ractive.instances[e._guid]=0,t._ractive.instances.push(e)),t._ractive.instances[e._guid]+=1,t._ractive.wrappers.push(this)},$y.prototype={get:function(){return this.value},teardown:function(){var e,t,n,r,i;if(e=this.value,t=e._ractive,n=t.wrappers,r=t.instances,t.setting)return!1;if(i=n.indexOf(this),-1===i)throw new Error(Vy);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(i=r.indexOf(this.root),-1===i)throw new Error(Vy);r.splice(i,1)}}else delete e._ractive,Uy.unpatch(this.value)}},Vy="Something went wrong in a rather interesting way";var Xy,Qy,Gy=By,Ky=/^\s*[0-9]+\s*$/,Yy=function(e){return Ky.test(e)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Xy={filter:function(e,t,n){var r,i;return t?(t=E(t),(r=n.viewmodel.wrapped[t.parent.str])&&!r.magic?!1:(i=n.viewmodel.get(t.parent),o(i)&&/^[0-9]+$/.test(t.lastKey)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(e,t,n){return new Qy(e,t,n)}},Qy=function(e,t,n){var r,i,o;return n=E(n),this.magic=!0,this.ractive=e,this.keypath=n,this.value=t,this.prop=n.lastKey,r=n.parent,this.obj=r.isRoot?e.viewmodel.data:e.viewmodel.get(r),i=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),i&&i.set&&(o=i.set._ractiveWrappers)?void(-1===o.indexOf(this)&&o.push(this)):void va(this,t,i)},Qy.prototype={get:function(){return this.value},reset:function(e){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=e,gl.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(e,t){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Yy(e),this.updating=!1),this.obj[this.prop][e]=t)},teardown:function(){var e,t,n,r,i;return this.updating?!1:(e=Object.getOwnPropertyDescriptor(this.obj,this.prop),t=e&&e.set,void(t&&(r=t._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(Eu){Xy=!1}var Zy,Jy,eb=Xy;eb&&(Zy={filter:function(e,t,n){return eb.filter(e,t,n)&&Gy.filter(e)},wrap:function(e,t,n){return new Jy(e,t,n)}},Jy=function(e,t,n){this.value=t,this.magic=!0,this.magicWrapper=eb.wrap(e,t,n),this.arrayWrapper=Gy.wrap(e,t,n)},Jy.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}});var tb=Zy,nb=ya,rb={},ib=xa,ob=_a,ab=Ca,sb=ja,ub=Da,lb=function(e,t){this.computation=e,this.viewmodel=e.viewmodel,this.ref=t,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};lb.prototype={resolve:function(e){this.computation.softDeps.push(e),this.computation.unresolvedDeps[e.str]=null,this.viewmodel.register(e,this.computation,"computed")}};var cb=lb,fb=function(e,t){this.key=e,this.getter=t.getter,this.setter=t.setter,this.hardDeps=t.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};fb.prototype={constructor:fb,init:function(e){var t,n=this;this.viewmodel=e,this.bypass=!0,t=e.get(this.key),e.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==t&&this.set(t),this.hardDeps&&this.hardDeps.forEach(function(t){return e.register(t,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var e,t,n=this,r=!1;if(this.getting){var i="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(i),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(e){var t,i,o;if(!r)for(o=e.length;o--;)if(t=e[o],i=n.viewmodel.get(t),!s(i,n.depValues[t.str]))return n.depValues[t.str]=i,void(r=!0)}),r){this.viewmodel.capture();try{this.value=this.getter()}catch(o){g('Failed to compute "%s"',this.key.str),h(o.stack||o),this.value=void 0}e=this.viewmodel.release(),t=this.updateDependencies(e),t&&[this.hardDeps,this.softDeps].forEach(function(e){e.forEach(function(e){n.depValues[e.str]=n.viewmodel.get(e)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(e){if(this.setting)return void(this.value=e);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(e)},updateDependencies:function(e){var t,n,r,i,o;for(n=this.softDeps,t=n.length;t--;)r=n[t],-1===e.indexOf(r)&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(t=e.length;t--;)r=e[t],-1!==n.indexOf(r)||this.hardDeps&&-1!==this.hardDeps.indexOf(r)||(i=!0,La(this.viewmodel,r)&&!this.unresolvedDeps[r.str]?(o=new cb(this,r.str),e.splice(t,1),this.unresolvedDeps[r.str]=o,gl.addUnresolved(o)):this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=e.slice()),i}};var hb=fb,db=Oa,pb={FAILED_LOOKUP:!0},gb=Fa,mb={},vb=Pa,yb=Ra,bb=function(e,t){this.localKey=e,this.keypath=t.keypath,this.origin=t.origin,this.deps=[],this.unresolved=[],this.resolved=!1};bb.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(e,t){return this.resolved?this.origin.get(this.map(e),t):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(e){this.local=e,this.setup()},map:function(e){return void 0===typeof this.keypath?this.localKey:e.replace(this.localKey,this.keypath)},register:function(e,t,n){this.deps.push({keypath:e,dep:t,group:n}),this.resolved&&this.origin.register(this.map(e),t,n)},resolve:function(e){void 0!==this.keypath&&this.unbind(!0),this.keypath=e,this.setup()},set:function(e,t){this.resolved||this.forceResolution(),this.origin.set(this.map(e),t)},setup:function(){var e=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(t){var n=e.map(t.keypath);if(e.origin.register(n,t.dep,t.group),t.dep.setValue)t.dep.setValue(e.origin.get(n));else{if(!t.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");t.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(e){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,e)},unbind:function(e){var t=this;e||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(e){t.origin.unregister(t.map(e.keypath),e.dep,e.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(e,t,n){var r,i;if(this.resolved){for(r=this.deps,i=r.length;i--;)if(r[i].dep===t){r.splice(i,1);break}this.origin.unregister(this.map(e),t,n)}}};var wb=Ia,xb=function(e,t){var n,r,i,o;return n={},r=0,i=e.map(function(e,i){var a,s,u;s=r,u=t.length;do{if(a=t.indexOf(e,s),-1===a)return o=!0,-1;s=a+1}while(n[a]&&u>s);return a===r&&(r+=1),a!==i&&(o=!0),n[a]=!0,a})},_b=Ha,kb={},Eb=za,Cb=$a,Tb=Va,Sb=Ua,Ab=Qa,Nb={implicit:!0},jb={noCascade:!0},Db=Ka,Lb=Ya,Ob=function(e){var t,n,r=e.adapt,i=e.data,o=e.ractive,a=e.computed,s=e.mappings;this.ractive=o,this.adaptors=r,this.onchange=e.onchange,this.cache={},this.cacheMap=wu(null),this.deps={computed:wu(null),"default":wu(null)},this.depsMap={computed:wu(null),"default":wu(null)},this.patternObservers=[],this.specials=wu(null),this.wrapped=wu(null),this.computations=wu(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=i,this.mappings=wu(null);for(t in s)this.map(E(t),s[t]);if(i)for(t in i)(n=this.mappings[t])&&void 0===n.getValue()&&n.setValue(i[t]);for(t in a)s&&t in s&&f("Cannot map to a computed property ('%s')",t),this.compute(E(t),a[t]);this.ready=!0};Ob.prototype={adapt:nb,applyChanges:ab,capture:sb,clearCache:ub,compute:db,get:gb,init:vb,map:yb,mark:wb,merge:_b,register:Eb,release:Cb,reset:Tb,set:Sb,smartUpdate:Ab,teardown:Db,unregister:Lb};var Fb=Ob;Ja.prototype={constructor:Ja,begin:function(e){this.inProcess[e._guid]=!0},end:function(e){var t=e.parent;t&&this.inProcess[t._guid]?es(this.queue,t).push(e):ts(this,e),delete this.inProcess[e._guid]}};var qb=Ja,Pb=ns,Rb=/\$\{([^\}]+)\}/g,Ib=new nl("construct"),Hb=new nl("config"),Mb=new qb("init"),Wb=0,zb=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Bb=as,$b=fs;fs.prototype={bubble:function(){this.dirty||(this.dirty=!0,gl.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(e,t){this.fragment.rebind(e,t)},unbind:function(){this.fragment.unbind()}};var Vb=function(e,t,n,i,a){var s,u,l,c,f,h,d={},p={},m={},v=[];for(u=e.parentFragment,l=e.root,a=a||{},r(d,a),a.content=i||[],d[""]=a.content,t.defaults.el&&g("The <%s/> component has a default `el` property; it has been disregarded",e.name),c=u;c;){if(c.owner.type===sf){f=c.owner.container;break}c=c.parent}return n&&Object.keys(n).forEach(function(t){var r,i,a=n[t];if("string"==typeof a)r=Cd(a),p[t]=r?r.value:a;else if(0===a)p[t]=!0;else{if(!o(a))throw new Error("erm wut");ds(a)?(m[t]={origin:e.root.viewmodel,keypath:void 0},i=hs(e,a[0],function(e){e.isSpecial?h?s.set(t,e.value):(p[t]=e.value,delete m[t]):h?s.viewmodel.mappings[t].resolve(e):m[t].keypath=e})):i=new $b(e,a,function(e){h?s.set(t,e):p[t]=e}),v.push(i)}}),s=wu(t.prototype),Bb(s,{el:null,append:!0,data:p,partials:a,magic:l.magic||t.defaults.magic,modifyArrays:l.modifyArrays,adapt:l.adapt},{parent:l,component:e,container:f,mappings:m,inlinePartials:d,cssIds:u.cssIds}),h=!0,e.resolvers=v,s},Ub=ps,Xb=function(e){var t,n;for(t=e.root;t;)(n=t._liveComponentQueries["_"+e.name])&&n.push(e.instance),t=t.parent},Qb=ms,Gb=vs,Kb=ys,Yb=bs,Zb=ws,Jb=new nl("teardown"),ew=_s,tw=function(e,t){this.init(e,t)};tw.prototype={detach:Ly,find:Fy,findAll:qy,findAllComponents:Py,findComponent:Ry,findNextNode:Iy,firstNode:Hy,init:Qb,rebind:Gb,render:Kb,toString:Yb,unbind:Zb,unrender:ew};var nw=tw,rw=function(e){this.type=tf,this.value=e.template.c};rw.prototype={detach:Lp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){e&&this.node.parentNode.removeChild(this.node)}};var iw=rw,ow=function(e){var t,n;this.type=sf,this.container=t=e.parentFragment.root,this.component=n=t.component,this.container=t,this.containerFragment=e.parentFragment,this.parentFragment=n.parentFragment;var r=this.name=e.template.n||"",i=t._inlinePartials[r];i||(g('Could not find template for partial "'+r+'"',{ractive:e.root}),i=[]),this.fragment=new yw({owner:this,root:t.parent,template:i,pElement:this.containerFragment.pElement}),o(n.yielders[r])?n.yielders[r].push(this):n.yielders[r]=[this],gl.scheduleTask(function(){if(n.yielders[r].length>1)throw new Error("A component template can only have one {{yield"+(r?" "+r:"")+"}} declaration at a time")})};ow.prototype={detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(e){return this.fragment.getValue(e)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(e){this.fragment.unrender(e),P(this.component.yielders[this.name],this)},rebind:function(e,t){this.fragment.rebind(e,t)},toString:function(){return this.fragment.toString()}};var aw=ow,sw=function(e){this.declaration=e.template.a};sw.prototype={init:Du,render:Du,unrender:Du,teardown:Du,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var uw=sw,lw=ks,cw=Cs,fw=Ts,hw=Ss,dw=js,pw=Ls,gw=function(e){this.init(e)};gw.prototype={bubble:wp,detach:xp,find:_p,findAll:kp,findAllComponents:Ep,findComponent:Cp,findNextNode:Tp,firstNode:Sp,getArgsList:Np,getNode:jp,getValue:Dp,init:lw,rebind:cw,registerIndexRef:function(e){var t=this.registeredIndexRefs;-1===t.indexOf(e)&&t.push(e)},render:fw,toString:hw,unbind:dw,unregisterIndexRef:function(e){var t=this.registeredIndexRefs;t.splice(t.indexOf(e),1)},unrender:pw};var mw,vw,yw=gw,bw=Os,ww=["template","partials","components","decorators","events"],xw=new nl("reset"),_w=function(e,t){function n(t,r,i){i&&i.partials[e]||t.forEach(function(t){t.type===ef&&t.getPartialName()===e&&r.push(t),t.fragment&&n(t.fragment.items,r,i),o(t.fragments)?n(t.fragments,r,i):o(t.items)?n(t.items,r,i):t.type===af&&t.instance&&n(t.instance.fragment.items,r,t.instance),t.type===Jc&&(o(t.attributes)&&n(t.attributes,r,i),o(t.conditionalAttributes)&&n(t.conditionalAttributes,r,i))})}var r,i=[];return n(this.fragment.items,i),this.partials[e]=t,r=gl.start(this,!0),i.forEach(function(t){t.value=void 0,t.setValue(e)}),gl.end(),r},kw=Fs,Ew=vc("reverse"),Cw=qs,Tw=vc("shift"),Sw=vc("sort"),Aw=vc("splice"),Nw=Rs,jw=Is,Dw=new nl("teardown"),Lw=Ms,Ow=Ws,Fw=zs,qw=new nl("unrender"),Pw=vc("unshift"),Rw=Bs,Iw=new nl("update"),Hw=$s,Mw={add:Ku,animate:xl,detach:kl,find:Cl,findAll:Fl,findAllComponents:ql,findComponent:Pl,findContainer:Rl,findParent:Il,fire:zl,get:Bl,insert:Vl,merge:Xl,observe:uc,observeOnce:lc,off:hc,on:dc,once:pc,pop:yc,push:bc,render:Tc,reset:bw,resetPartial:_w,resetTemplate:kw,reverse:Ew,set:Cw,shift:Tw,sort:Sw,splice:Aw,subtract:Nw,teardown:jw,toggle:Lw,toHTML:Ow,toHtml:Ow,unrender:Fw,unshift:Pw,update:Rw,updateModel:Hw},Ww=function(e,t,n){return n||Us(e,t)?function(){var n,r="_super"in this,i=this._super;return this._super=t,n=e.apply(this,arguments),r&&(this._super=i),n}:e},zw=Xs,Bw=Ys,$w=function(e){var t,n,r={};return e&&(t=e._ractive)?(r.ractive=t.root,r.keypath=t.keypath.str,r.index={},(n=$p(t.proxy.parentFragment))&&(r.index=$p.resolve(n)),r):r};mw=function(e){return this instanceof mw?void Bb(this,e):new mw(e)
},vw={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Bw},getNodeInfo:{value:$w},parse:{value:Gd},Promise:{value:al},svg:{value:iu},magic:{value:nu},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:lu},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Hu},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},_u(mw,vw),mw.prototype=r(Mw,uu),mw.prototype.constructor=mw,mw.defaults=mw.prototype;var Vw="function";if(typeof Date.now!==Vw||typeof String.prototype.trim!==Vw||typeof Object.keys!==Vw||typeof Array.prototype.indexOf!==Vw||typeof Array.prototype.forEach!==Vw||typeof Array.prototype.map!==Vw||typeof Array.prototype.filter!==Vw||"undefined"!=typeof window&&typeof window.addEventListener!==Vw)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Uw=mw;return Uw}),this.RactiveTemplates||(this.RactiveTemplates={}),this.RactiveTemplates["templates/weblingo"]={v:3,t:[{t:7,e:"div",a:{"class":"weblingo-container"},f:[{t:4,f:[{t:7,e:"div",a:{"class":"question-info-section"},f:["Welcome to the Weblingo quiz. ",{t:7,e:"br"}," Select the logo that goes with the corresponding tag-line. ",{t:7,e:"br"}," ",{t:7,e:"br"}," ",{t:7,e:"button",v:{click:"startQuiz"},a:{"class":"quiz-button"},f:["Begin"]}]}],n:50,x:{r:["questionNum"],s:"_0<0"}},{t:4,n:51,f:[{t:4,n:50,x:{r:["questionNum","questions.length"],s:"_0>=_1"},f:["finished with score: ",{t:2,r:"score"},"/",{t:2,r:"questions.length"}]},{t:4,n:50,x:{r:["questionNum","questions.length"],s:"!(_0>=_1)"},f:[" ",{t:7,e:"div",f:[{t:7,e:"div",a:{"class":"question-info-section"},f:[{t:7,e:"img",a:{src:[{t:2,r:"currentLingo.logo_url"}],"class":"logo-img",title:[{t:2,r:"currentLingo.name"}]}}]}," ",{t:7,e:"div",a:{"class":"question-info-section"},f:[{t:4,f:[{t:7,e:"div",a:{"class":"question-choice"},v:{click:{m:"choiceClick",a:{r:["i"],s:"[_0]"}}},f:[{t:7,e:"i",a:{"class":"fa fa-quote-left"}},"\xa0\xa0",{t:2,r:"."},"\xa0\xa0",{t:7,e:"i",a:{"class":"fa fa-quote-right"}}]}],i:"i",r:"choicesTagline"}]}]}]}],x:{r:["questionNum"],s:"_0<0"}}]}]},function(){function e(e,t){if(e!==t){var n=null===e,r=e===_,i=e===e,o=null===t,a=t===_,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(t>e&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function t(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function n(e,t,n){if(t!==t)return d(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function r(e){return"function"==typeof e||!1}function i(e){return null==e?"":e+""}function o(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function a(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function s(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function u(t,n,r){for(var i=-1,o=t.criteria,a=n.criteria,s=o.length,u=r.length;++i<s;){var l=e(o[i],a[i]);if(l){if(i>=u)return l;var c=r[i];return l*("asc"===c||c===!0?1:-1)}}return t.index-n.index}function l(e){return Wt[e]}function c(e){return zt[e]}function f(e,t,n){return t?e=Vt[e]:n&&(e=Ut[e]),"\\"+e}function h(e){return"\\"+Ut[e]}function d(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function p(e){return!!e&&"object"==typeof e}function g(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function m(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=W,o[++i]=n);return o}function v(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}function y(e){for(var t=-1,n=e.length;++t<n&&g(e.charCodeAt(t)););return t}function b(e){for(var t=e.length;t--&&g(e.charCodeAt(t)););return t}function w(e){return Bt[e]}function x(g){function Q(e){if(p(e)&&!Nu(e)&&!(e instanceof Wt)){if(e instanceof et)return e;if(ts.call(e,"__chain__")&&ts.call(e,"__wrapped__"))return di(e)}return new et(e)}function Z(){}function et(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function Wt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=As,this.__views__=[]}function zt(){var e=new Wt(this.__wrapped__);return e.__actions__=nn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nn(this.__views__),e}function Bt(){if(this.__filtered__){var e=new Wt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function $t(){var e=this.__wrapped__.value(),t=this.__dir__,n=Nu(e),r=0>t,i=n?e.length:0,o=Ur(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=ks(u,this.__takeCount__);if(!n||R>i||i==u&&d==u)return rr(e,this.__actions__);var p=[];e:for(;u--&&d>h;){l+=t;for(var g=-1,m=e[l];++g<f;){var v=c[g],y=v.iteratee,b=v.type,w=y(m);if(b==H)m=w;else if(!w){if(b==I)continue e;break e}}p[h++]=m}return p}function Vt(){this.__data__={}}function Ut(e){return this.has(e)&&delete this.__data__[e]}function Xt(e){return"__proto__"==e?_:this.__data__[e]}function Qt(e){return"__proto__"!=e&&ts.call(this.__data__,e)}function Gt(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Kt(e){var t=e?e.length:0;for(this.data={hash:vs(null),set:new fs};t--;)this.push(e[t])}function Yt(e,t){var n=e.data,r="string"==typeof t||qo(t)?n.set.has(t):n.hash[t];return r?0:-1}function Zt(e){var t=this.data;"string"==typeof e||qo(e)?t.set.add(e):t.hash[e]=!0}function tn(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=Wa(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function nn(e,t){var n=-1,r=e.length;for(t||(t=Wa(r));++n<r;)t[n]=e[n];return t}function rn(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function on(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function an(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function sn(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var u=e[i],l=+t(u);n(l,a)&&(a=l,s=u)}return s}function un(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function ln(e,t){for(var n=-1,r=e.length,i=Wa(r);++n<r;)i[n]=t(e[n],n,e);return i}function cn(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function fn(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function hn(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function dn(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function pn(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function gn(e,t){return e===_?t:e}function mn(e,t,n,r){return e!==_&&ts.call(r,n)?e:t}function vn(e,t,n){for(var r=-1,i=Mu(t),o=i.length;++r<o;){var a=i[r],s=e[a],u=n(s,t[a],a,e,t);(u===u?u===s:s!==s)&&(s!==_||a in e)||(e[a]=u)}return e}function yn(e,t){return null==t?e:wn(t,Mu(t),e)}function bn(e,t){for(var n=-1,r=null==e,i=!r&&Yr(e),o=i?e.length:0,a=t.length,s=Wa(a);++n<a;){var u=t[n];s[n]=i?Zr(u,o)?e[u]:_:r?_:e[u]}return s}function wn(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function xn(e,t,n){var r=typeof e;return"function"==r?t===_?e:ar(e,t,n):null==e?Aa:"object"==r?Mn(e):t===_?Fa(e):Wn(e,t)}function _n(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==_)return s;if(!qo(e))return e;var u=Nu(e);if(u){if(s=Xr(e),!t)return nn(e,s)}else{var l=rs.call(e),c=l==X;if(l!=K&&l!=z&&(!c||i))return Mt[l]?Gr(e,l,t):i?e:{};if(s=Qr(c?{}:e),!t)return yn(s,e)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==e)return a[f];return o.push(e),a.push(s),(u?rn:Ln)(e,function(r,i){s[i]=_n(r,t,n,i,e,o,a)}),s}function kn(e,t,n){if("function"!=typeof e)throw new Ka(M);return hs(function(){e.apply(_,n)},t)}function En(e,t){var r=e?e.length:0,i=[];if(!r)return i;var o=-1,a=Br(),s=a===n,u=s&&t.length>=R?gr(t):null,l=t.length;u&&(a=Yt,s=!1,t=u);e:for(;++o<r;){var c=e[o];if(s&&c===c){for(var f=l;f--;)if(t[f]===c)continue e;i.push(c)}else a(t,c,0)<0&&i.push(c)}return i}function Cn(e,t){var n=!0;return Ps(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Tn(e,t,n,r){var i=r,o=i;return Ps(e,function(e,a,s){var u=+t(e,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=e)}),o}function Sn(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===_||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)e[n++]=t;return e}function An(e,t){var n=[];return Ps(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Nn(e,t,n,r){var i;return n(e,function(e,n,o){return t(e,n,o)?(i=r?n:e,!1):void 0}),i}function jn(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];p(a)&&Yr(a)&&(n||Nu(a)||To(a))?t?jn(a,t,n,r):cn(r,a):n||(r[r.length]=a)}return r}function Dn(e,t){return Is(e,t,ta)}function Ln(e,t){return Is(e,t,Mu)}function On(e,t){return Hs(e,t,Mu)}function Fn(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Fo(e[a])&&(o[++i]=a)}return o}function qn(e,t,n){if(null!=e){n!==_&&n in fi(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&i>r;)e=e[t[r++]];return r&&r==i?e:_}}function Pn(e,t,n,r,i,o){return e===t?!0:null==e||null==t||!qo(e)&&!p(t)?e!==e&&t!==t:Rn(e,t,Pn,n,r,i,o)}function Rn(e,t,n,r,i,o,a){var s=Nu(e),u=Nu(t),l=B,c=B;s||(l=rs.call(e),l==z?l=K:l!=K&&(s=$o(e))),u||(c=rs.call(t),c==z?c=K:c!=K&&(u=$o(t)));var f=l==K,h=c==K,d=l==c;if(d&&!s&&!f)return Hr(e,t,l);if(!i){var p=f&&ts.call(e,"__wrapped__"),g=h&&ts.call(t,"__wrapped__");if(p||g)return n(p?e.value():e,g?t.value():t,r,i,o,a)}if(!d)return!1;o||(o=[]),a||(a=[]);for(var m=o.length;m--;)if(o[m]==e)return a[m]==t;o.push(e),a.push(t);var v=(s?Ir:Mr)(e,t,n,r,i,o,a);return o.pop(),a.pop(),v}function In(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=fi(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],u=e[s],l=a[1];if(o&&a[2]){if(u===_&&!(s in e))return!1}else{var c=n?n(u,l,s):_;if(!(c===_?Pn(l,u,n,!0):c))return!1}}return!0}function Hn(e,t){var n=-1,r=Yr(e)?Wa(e.length):[];return Ps(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Mn(e){var t=$r(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==_||n in fi(e))}}return function(e){return In(e,t)}}function Wn(e,t){var n=Nu(e),r=ei(e)&&ri(t),i=e+"";return e=hi(e),function(o){if(null==o)return!1;var a=i;if(o=fi(o),!(!n&&r||a in o)){if(o=1==e.length?o:qn(o,Gn(e,0,-1)),null==o)return!1;a=Ti(e),o=fi(o)}return o[a]===t?t!==_||a in o:Pn(t,o[a],_,!0)}}function zn(e,t,n,r,i){if(!qo(e))return e;var o=Yr(t)&&(Nu(t)||$o(t)),a=o?_:Mu(t);return rn(a||t,function(s,u){if(a&&(u=s,s=t[u]),p(s))r||(r=[]),i||(i=[]),Bn(e,t,u,zn,n,r,i);else{var l=e[u],c=n?n(l,s,u,e,t):_,f=c===_;f&&(c=s),c===_&&(!o||u in e)||!f&&(c===c?c===l:l!==l)||(e[u]=c)}}),e}function Bn(e,t,n,r,i,o,a){for(var s=o.length,u=t[n];s--;)if(o[s]==u)return void(e[n]=a[s]);var l=e[n],c=i?i(l,u,n,e,t):_,f=c===_;f&&(c=u,Yr(u)&&(Nu(u)||$o(u))?c=Nu(l)?l:Yr(l)?nn(l):[]:Wo(u)||To(u)?c=To(l)?Go(l):Wo(l)?l:{}:f=!1),o.push(u),a.push(c),f?e[n]=r(c,u,i,o,a):(c===c?c!==l:l===l)&&(e[n]=c)}function $n(e){return function(t){return null==t?_:t[e]}}function Vn(e){var t=e+"";return e=hi(e),function(n){return qn(n,e,t)}}function Un(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Zr(r)){var i=r;ds.call(e,r,1)}}return e}function Xn(e,t){return e+ys(Ts()*(t-e+1))}function Qn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function Gn(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,0>t&&(t=-t>i?0:i+t),n=n===_||n>i?i:+n||0,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Wa(i);++r<i;)o[r]=e[r+t];return o}function Kn(e,t){var n;return Ps(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Yn(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Zn(e,t,n){var r=Wr(),i=-1;t=ln(t,function(e){return r(e)});var o=Hn(e,function(e){var n=ln(t,function(t){return t(e)});return{criteria:n,index:++i,value:e}});return Yn(o,function(e,t){return u(e,t,n)})}function Jn(e,t){var n=0;return Ps(e,function(e,r,i){n+=+t(e,r,i)||0}),n}function er(e,t){var r=-1,i=Br(),o=e.length,a=i===n,s=a&&o>=R,u=s?gr():null,l=[];u?(i=Yt,a=!1):(s=!1,u=t?[]:l);e:for(;++r<o;){var c=e[r],f=t?t(c,r,e):c;if(a&&c===c){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),l.push(c)}else i(u,f,0)<0&&((t||s)&&u.push(f),l.push(c))}return l}function tr(e,t){for(var n=-1,r=t.length,i=Wa(r);++n<r;)i[n]=e[t[n]];return i}function nr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Gn(e,r?0:o,r?o+1:i):Gn(e,r?o+1:0,r?i:o)}function rr(e,t){var n=e;n instanceof Wt&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,cn([n],o.args))}return n}function ir(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Ds>=i){for(;i>r;){var o=r+i>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?r=o+1:i=o}return i}return or(e,t,Aa,n)}function or(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=t===_;o>i;){var l=ys((i+o)/2),c=n(e[l]),f=c!==_,h=c===c;if(a)var d=h||r;else d=s?h&&f&&(r||null!=c):u?h&&(r||f):null==c?!1:r?t>=c:t>c;d?i=l+1:o=l}return ks(o,js)}function ar(e,t,n){if("function"!=typeof e)return Aa;if(t===_)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function sr(e){var t=new as(e.byteLength),n=new ps(t);return n.set(new ps(e)),t}function ur(e,t,n){for(var r=n.length,i=-1,o=_s(e.length-r,0),a=-1,s=t.length,u=Wa(s+o);++a<s;)u[a]=t[a];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[a++]=e[i++];return u}function lr(e,t,n){for(var r=-1,i=n.length,o=-1,a=_s(e.length-i,0),s=-1,u=t.length,l=Wa(a+u);++o<a;)l[o]=e[o];for(var c=o;++s<u;)l[c+s]=t[s];for(;++r<i;)l[c+n[r]]=e[o++];return l}function cr(e,t){return function(n,r,i){var o=t?t():{};if(r=Wr(r,i,3),Nu(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(o,u,r(u,a,n),n)}else Ps(n,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function fr(e){return yo(function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:_,a=i>2?n[2]:_,s=i>1?n[i-1]:_;for("function"==typeof o?(o=ar(o,s,5),i-=2):(o="function"==typeof s?s:_,i-=o?1:0),a&&Jr(n[0],n[1],a)&&(o=3>i?_:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t})}function hr(e,t){return function(n,r){var i=n?zs(n):0;if(!ni(i))return e(n,r);for(var o=t?i:-1,a=fi(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function dr(e){return function(t,n,r){for(var i=fi(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(n(i[u],u,i)===!1)break}return t}}function pr(e,t){function n(){var i=this&&this!==Jt&&this instanceof n?r:e;return i.apply(t,arguments)}var r=vr(e);return n}function gr(e){return vs&&fs?new Kt(e):null}function mr(e){return function(t){for(var n=-1,r=Ca(fa(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function vr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=qs(e.prototype),r=e.apply(n,t);return qo(r)?r:n}}function yr(e){function t(n,r,i){i&&Jr(n,r,i)&&(r=_);var o=Rr(n,e,_,_,_,_,_,r);return o.placeholder=t.placeholder,o}return t}function br(e,t){return yo(function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(_,n))})}function wr(e,t){return function(n,r,i){if(i&&Jr(n,r,i)&&(r=_),r=Wr(r,i,3),1==r.length){n=Nu(n)?n:ci(n);var o=sn(n,r,e,t);if(!n.length||o!==t)return o}return Tn(n,r,e,t)}}function xr(e,n){return function(r,i,o){if(i=Wr(i,o,3),Nu(r)){var a=t(r,i,n);return a>-1?r[a]:_}return Nn(r,i,e)}}function _r(e){return function(n,r,i){return n&&n.length?(r=Wr(r,i,3),t(n,r,e)):-1}}function kr(e){return function(t,n,r){return n=Wr(n,r,3),Nn(t,n,e,!0)}}function Er(e){return function(){for(var t,n=arguments.length,r=e?n:-1,i=0,o=Wa(n);e?r--:++r<n;){var a=o[i++]=arguments[r];if("function"!=typeof a)throw new Ka(M);!t&&et.prototype.thru&&"wrapper"==zr(a)&&(t=new et([],!0))}for(r=t?-1:n;++r<n;){a=o[r];var s=zr(a),u="wrapper"==s?Ws(a):_;t=u&&ti(u[0])&&u[1]==(D|S|N|L)&&!u[4].length&&1==u[9]?t[zr(u[0])].apply(t,u[3]):1==a.length&&ti(a)?t[s]():t.thru(a)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&Nu(r)&&r.length>=R)return t.plant(r).value();for(var i=0,a=n?o[i].apply(this,e):r;++i<n;)a=o[i].call(this,a);return a}}}function Cr(e,t){return function(n,r,i){return"function"==typeof r&&i===_&&Nu(n)?e(n,r):t(n,ar(r,i,3))}}function Tr(e){return function(t,n,r){return("function"!=typeof n||r!==_)&&(n=ar(n,r,3)),e(t,n,ta)}}function Sr(e){return function(t,n,r){return("function"!=typeof n||r!==_)&&(n=ar(n,r,3)),e(t,n)}}function Ar(e){return function(t,n,r){var i={};return n=Wr(n,r,3),Ln(t,function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t}),i}}function Nr(e){return function(t,n,r){return t=i(t),(e?t:"")+Or(t,n,r)+(e?"":t)}}function jr(e){var t=yo(function(n,r){var i=m(r,t.placeholder);return Rr(n,e,_,r,i)});return t}function Dr(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===_&&Nu(n)?e(n,r,i,a):Qn(n,Wr(r,o,4),i,a,t)}}function Lr(e,t,n,r,i,o,a,s,u,l){function c(){for(var b=arguments.length,w=b,x=Wa(b);w--;)x[w]=arguments[w];if(r&&(x=ur(x,r,i)),o&&(x=lr(x,o,a)),p||v){var k=c.placeholder,T=m(x,k);if(b-=T.length,l>b){var S=s?nn(s):_,A=_s(l-b,0),D=p?T:_,L=p?_:T,O=p?x:_,F=p?_:x;t|=p?N:j,t&=~(p?j:N),g||(t&=~(E|C));var q=[e,t,n,O,D,F,L,S,u,A],P=Lr.apply(_,q);return ti(e)&&Bs(P,q),P.placeholder=k,P}}var R=h?n:this,I=d?R[e]:e;return s&&(x=ui(x,s)),f&&u<x.length&&(x.length=u),this&&this!==Jt&&this instanceof c&&(I=y||vr(e)),I.apply(R,x)}var f=t&D,h=t&E,d=t&C,p=t&S,g=t&T,v=t&A,y=d?_:vr(e);return c}function Or(e,t,n){var r=e.length;if(t=+t,r>=t||!ws(t))return"";var i=t-r;return n=null==n?" ":n+"",va(n,ms(i/n.length)).slice(0,i)}function Fr(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,l=r.length,c=Wa(l+s);++u<l;)c[u]=r[u];for(;s--;)c[u++]=arguments[++t];var f=this&&this!==Jt&&this instanceof i?a:e;return f.apply(o?n:this,c)}var o=t&E,a=vr(e);return i}function qr(e){var t=Va[e];return function(e,n){return n=n===_?0:+n||0,n?(n=ls(10,n),t(e*n)/n):t(e)}}function Pr(e){return function(t,n,r,i){var o=Wr(r);return null==r&&o===xn?ir(t,n,e):or(t,n,o(r,i,1),e)}}function Rr(e,t,n,r,i,o,a,s){var u=t&C;if(!u&&"function"!=typeof e)throw new Ka(M);var l=r?r.length:0;if(l||(t&=~(N|j),r=i=_),l-=i?i.length:0,t&j){var c=r,f=i;r=i=_}var h=u?_:Ws(e),d=[e,t,n,r,i,c,f,o,a,s];if(h&&(ii(d,h),t=d[1],s=d[9]),d[9]=null==s?u?0:e.length:_s(s-l,0)||0,t==E)var p=pr(d[0],d[2]);else p=t!=N&&t!=(E|N)||d[4].length?Lr.apply(_,d):Fr.apply(_,d);var g=h?Ms:Bs;return g(p,d)}function Ir(e,t,n,r,i,o,a){var s=-1,u=e.length,l=t.length;if(u!=l&&!(i&&l>u))return!1;for(;++s<u;){var c=e[s],f=t[s],h=r?r(i?f:c,i?c:f,s):_;if(h!==_){if(h)continue;return!1}if(i){if(!dn(t,function(e){return c===e||n(c,e,r,i,o,a)}))return!1}else if(c!==f&&!n(c,f,r,i,o,a))return!1}return!0}function Hr(e,t,n){switch(n){case $:case V:return+e==+t;case U:return e.name==t.name&&e.message==t.message;case G:return e!=+e?t!=+t:e==+t;case Y:case J:return e==t+""}return!1}function Mr(e,t,n,r,i,o,a){var s=Mu(e),u=s.length,l=Mu(t),c=l.length;if(u!=c&&!i)return!1;for(var f=u;f--;){var h=s[f];if(!(i?h in t:ts.call(t,h)))return!1}for(var d=i;++f<u;){h=s[f];var p=e[h],g=t[h],m=r?r(i?g:p,i?p:g,h):_;if(!(m===_?n(p,g,r,i,o,a):m))return!1;d||(d="constructor"==h)}if(!d){var v=e.constructor,y=t.constructor;if(v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y))return!1}return!0}function Wr(e,t,n){var r=Q.callback||Ta;return r=r===Ta?xn:r,n?r(e,t,n):r}function zr(e){for(var t=e.name+"",n=Fs[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Br(e,t,r){var i=Q.indexOf||Ei;return i=i===Ei?n:i,e?i(e,t,r):i}function $r(e){for(var t=na(e),n=t.length;n--;)t[n][2]=ri(t[n][1]);return t}function Vr(e,t){var n=null==e?_:e[t];return Io(n)?n:_}function Ur(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=ks(t,e+a);break;case"takeRight":e=_s(e,t-a)}}return{start:e,end:t}}function Xr(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ts.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Qr(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Xa),new t}function Gr(e,t,n){var r=e.constructor;switch(t){case tt:return sr(e);case $:case V:return new r(+e);case nt:case rt:case it:case ot:case at:case st:case ut:case lt:case ct:var i=e.buffer;return new r(n?sr(i):i,e.byteOffset,e.length);case G:case J:return new r(e);case Y:var o=new r(e.source,Nt.exec(e));o.lastIndex=e.lastIndex}return o}function Kr(e,t,n){null==e||ei(t,e)||(t=hi(t),e=1==t.length?e:qn(e,Gn(t,0,-1)),t=Ti(t));var r=null==e?e:e[t];return null==r?_:r.apply(e,n)}function Yr(e){return null!=e&&ni(zs(e))}function Zr(e,t){return e="number"==typeof e||Lt.test(e)?+e:-1,t=null==t?Ls:t,e>-1&&e%1==0&&t>e}function Jr(e,t,n){if(!qo(n))return!1;var r=typeof t;if("number"==r?Yr(n)&&Zr(t,n.length):"string"==r&&t in n){var i=n[t];return e===e?e===i:i!==i}return!1}function ei(e,t){var n=typeof e;if("string"==n&&_t.test(e)||"number"==n)return!0;if(Nu(e))return!1;var r=!xt.test(e);return r||null!=t&&e in fi(t)}function ti(e){var t=zr(e),n=Q[t];if("function"!=typeof n||!(t in Wt.prototype))return!1;if(e===n)return!0;var r=Ws(n);return!!r&&e===r[0]}function ni(e){return"number"==typeof e&&e>-1&&e%1==0&&Ls>=e}function ri(e){return e===e&&!qo(e)}function ii(e,t){var n=e[1],r=t[1],i=n|r,o=D>i,a=r==D&&n==S||r==D&&n==L&&e[7].length<=t[8]||r==(D|L)&&n==S;if(!o&&!a)return e;r&E&&(e[2]=t[2],i|=n&E?0:T);var s=t[3];if(s){var u=e[3];e[3]=u?ur(u,s,t[4]):nn(s),e[4]=u?m(e[3],W):nn(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?lr(u,s,t[6]):nn(s),e[6]=u?m(e[5],W):nn(t[6])),s=t[7],s&&(e[7]=nn(s)),r&D&&(e[8]=null==e[8]?t[8]:ks(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function oi(e,t){return e===_?t:ju(e,t,oi)}function ai(e,t){e=fi(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function si(e,t){var n={};return Dn(e,function(e,r,i){t(e,r,i)&&(n[r]=e)}),n}function ui(e,t){for(var n=e.length,r=ks(t.length,n),i=nn(e);r--;){var o=t[r];e[r]=Zr(o,n)?i[o]:_}return e}function li(e){for(var t=ta(e),n=t.length,r=n&&e.length,i=!!r&&ni(r)&&(Nu(e)||To(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&Zr(s,r)||ts.call(e,s))&&a.push(s)}return a}function ci(e){return null==e?[]:Yr(e)?qo(e)?e:Xa(e):aa(e)}function fi(e){return qo(e)?e:Xa(e)}function hi(e){if(Nu(e))return e;var t=[];return i(e).replace(kt,function(e,n,r,i){t.push(r?i.replace(St,"$1"):n||e)}),t}function di(e){return e instanceof Wt?e.clone():new et(e.__wrapped__,e.__chain__,nn(e.__actions__))}function pi(e,t,n){t=(n?Jr(e,t,n):null==t)?1:_s(ys(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=Wa(ms(i/t));i>r;)a[++o]=Gn(e,r,r+=t);return a}function gi(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function mi(e,t,n){var r=e?e.length:0;return r?((n?Jr(e,t,n):null==t)&&(t=1),Gn(e,0>t?0:t)):[]}function vi(e,t,n){var r=e?e.length:0;return r?((n?Jr(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gn(e,0,0>t?0:t)):[]}function yi(e,t,n){return e&&e.length?nr(e,Wr(t,n,3),!0,!0):[]}function bi(e,t,n){return e&&e.length?nr(e,Wr(t,n,3),!0):[]}function wi(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Jr(e,t,n)&&(n=0,r=i),Sn(e,t,n,r)):[]}function xi(e){return e?e[0]:_}function _i(e,t,n){var r=e?e.length:0;return n&&Jr(e,t,n)&&(t=!1),r?jn(e,t):[]}function ki(e){var t=e?e.length:0;return t?jn(e,!0):[]}function Ei(e,t,r){var i=e?e.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?_s(i+r,0):r;else if(r){var o=ir(e,t);return i>o&&(t===t?t===e[o]:e[o]!==e[o])?o:-1}return n(e,t,r||0)}function Ci(e){return vi(e,1)}function Ti(e){var t=e?e.length:0;return t?e[t-1]:_}function Si(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?_s(r+n,0):ks(n||0,r-1))+1;else if(n){i=ir(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return d(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Ai(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Br(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)ds.call(t,o,1);return t}function Ni(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=Wr(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Un(e,o),r}function ji(e){return mi(e,1)}function Di(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Jr(e,t,n)&&(t=0,n=r),Gn(e,t,n)):[]}function Li(e,t,n){var r=e?e.length:0;return r?((n?Jr(e,t,n):null==t)&&(t=1),Gn(e,0,0>t?0:t)):[]}function Oi(e,t,n){var r=e?e.length:0;return r?((n?Jr(e,t,n):null==t)&&(t=1),t=r-(+t||0),Gn(e,0>t?0:t)):[]}function Fi(e,t,n){return e&&e.length?nr(e,Wr(t,n,3),!1,!0):[]}function qi(e,t,n){return e&&e.length?nr(e,Wr(t,n,3)):[]}function Pi(e,t,r,i){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(i=r,r=Jr(e,t,i)?_:t,t=!1);var a=Wr();return(null!=r||a!==xn)&&(r=a(r,i,3)),t&&Br()===n?v(e,r):er(e,r)}function Ri(e){if(!e||!e.length)return[];var t=-1,n=0;e=un(e,function(e){return Yr(e)?(n=_s(e.length,n),!0):void 0});for(var r=Wa(n);++t<n;)r[t]=ln(e,$n(t));return r}function Ii(e,t,n){var r=e?e.length:0;if(!r)return[];var i=Ri(e);return null==t?i:(t=ar(t,n,4),ln(i,function(e){return fn(e,t,_,!0)}))}function Hi(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Yr(n))var r=r?cn(En(r,n),En(n,r)):n}return r?er(r):[]}function Mi(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||Nu(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Wi(e){var t=Q(e);return t.__chain__=!0,t}function zi(e,t,n){return t.call(n,e),e}function Bi(e,t,n){return t.call(n,e)}function $i(){return Wi(this)}function Vi(){return new et(this.value(),this.__chain__)}function Ui(e){for(var t,n=this;n instanceof Z;){var r=di(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Xi(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof Wt){var n=e;return this.__actions__.length&&(n=new Wt(this)),n=n.reverse(),n.__actions__.push({func:Bi,args:[t],thisArg:_}),new et(n,this.__chain__)}return this.thru(t)}function Qi(){return this.value()+""}function Gi(){return rr(this.__wrapped__,this.__actions__)}function Ki(e,t,n){var r=Nu(e)?an:Cn;return n&&Jr(e,t,n)&&(t=_),("function"!=typeof t||n!==_)&&(t=Wr(t,n,3)),r(e,t)}function Yi(e,t,n){var r=Nu(e)?un:An;return t=Wr(t,n,3),r(e,t)}function Zi(e,t){return iu(e,Mn(t))}function Ji(e,t,n,r){var i=e?zs(e):0;return ni(i)||(e=aa(e),i=e.length),n="number"!=typeof n||r&&Jr(t,n,r)?0:0>n?_s(i+n,0):n||0,"string"==typeof e||!Nu(e)&&Bo(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&Br(e,t,n)>-1}function eo(e,t,n){var r=Nu(e)?ln:Hn;return t=Wr(t,n,3),r(e,t)}function to(e,t){return eo(e,Fa(t))}function no(e,t,n){var r=Nu(e)?un:An;return t=Wr(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function ro(e,t,n){if(n?Jr(e,t,n):null==t){e=ci(e);var r=e.length;return r>0?e[Xn(0,r-1)]:_}var i=-1,o=Qo(e),r=o.length,a=r-1;for(t=ks(0>t?0:+t||0,r);++i<t;){var s=Xn(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=t,o}function io(e){return ro(e,As)}function oo(e){var t=e?zs(e):0;return ni(t)?t:Mu(e).length}function ao(e,t,n){var r=Nu(e)?dn:Kn;return n&&Jr(e,t,n)&&(t=_),("function"!=typeof t||n!==_)&&(t=Wr(t,n,3)),r(e,t)}function so(e,t,n){if(null==e)return[];n&&Jr(e,t,n)&&(t=_);var r=-1;t=Wr(t,n,3);var i=Hn(e,function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}});return Yn(i,s)}function uo(e,t,n,r){return null==e?[]:(r&&Jr(t,n,r)&&(n=_),Nu(t)||(t=null==t?[]:[t]),Nu(n)||(n=null==n?[]:[n]),Zn(e,t,n))}function lo(e,t){return Yi(e,Mn(t))}function co(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Ka(M);var n=e;e=t,t=n}return e=ws(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function fo(e,t,n){return n&&Jr(e,t,n)&&(t=_),t=e&&null==t?e.length:_s(+t||0,0),Rr(e,D,_,_,_,_,t)}function ho(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Ka(M);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=_),n}}function po(e,t,n){function r(){d&&ss(d),l&&ss(l),g=0,l=d=p=_}function i(t,n){n&&ss(n),l=d=p=_,t&&(g=gu(),c=e.apply(h,u),d||l||(u=h=_))}function o(){var e=t-(gu()-f);0>=e||e>t?i(p,l):d=hs(o,e)}function a(){i(v,d)}function s(){if(u=arguments,f=gu(),h=this,p=v&&(d||!y),m===!1)var n=y&&!d;else{l||y||(g=f);var r=m-(f-g),i=0>=r||r>m;i?(l&&(l=ss(l)),g=f,c=e.apply(h,u)):l||(l=hs(a,r))}return i&&d?d=ss(d):d||t===m||(d=hs(o,t)),n&&(i=!0,c=e.apply(h,u)),!i||d||l||(u=h=_),c}var u,l,c,f,h,d,p,g=0,m=!1,v=!0;if("function"!=typeof e)throw new Ka(M);if(t=0>t?0:+t||0,n===!0){var y=!0;v=!1}else qo(n)&&(y=!!n.leading,m="maxWait"in n&&_s(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function go(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Ka(M);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new go.Cache,n}function mo(e){if("function"!=typeof e)throw new Ka(M);return function(){return!e.apply(this,arguments)}}function vo(e){return ho(2,e)}function yo(e,t){if("function"!=typeof e)throw new Ka(M);return t=_s(t===_?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=_s(n.length-t,0),o=Wa(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Wa(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function bo(e){if("function"!=typeof e)throw new Ka(M);return function(t){return e.apply(this,t)}}function wo(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ka(M);return n===!1?r=!1:qo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),po(e,t,{leading:r,maxWait:+t,trailing:i})}function xo(e,t){return t=null==t?Aa:t,Rr(t,N,_,[e],[])}function _o(e,t,n,r){return t&&"boolean"!=typeof t&&Jr(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?_n(e,t,ar(n,r,3)):_n(e,t)}function ko(e,t,n){return"function"==typeof t?_n(e,!0,ar(t,n,3)):_n(e,!0)}function Eo(e,t){return e>t}function Co(e,t){return e>=t}function To(e){return p(e)&&Yr(e)&&ts.call(e,"callee")&&!cs.call(e,"callee")}function So(e){return e===!0||e===!1||p(e)&&rs.call(e)==$}function Ao(e){return p(e)&&rs.call(e)==V}function No(e){return!!e&&1===e.nodeType&&p(e)&&!Wo(e)}function jo(e){return null==e?!0:Yr(e)&&(Nu(e)||Bo(e)||To(e)||p(e)&&Fo(e.splice))?!e.length:!Mu(e).length}function Do(e,t,n,r){n="function"==typeof n?ar(n,r,3):_;var i=n?n(e,t):_;return i===_?Pn(e,t,n):!!i}function Lo(e){return p(e)&&"string"==typeof e.message&&rs.call(e)==U}function Oo(e){return"number"==typeof e&&ws(e)}function Fo(e){return qo(e)&&rs.call(e)==X}function qo(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Po(e,t,n,r){return n="function"==typeof n?ar(n,r,3):_,In(e,$r(t),n)}function Ro(e){return Mo(e)&&e!=+e}function Io(e){return null==e?!1:Fo(e)?os.test(es.call(e)):p(e)&&Dt.test(e)}function Ho(e){return null===e}function Mo(e){return"number"==typeof e||p(e)&&rs.call(e)==G}function Wo(e){var t;if(!p(e)||rs.call(e)!=K||To(e)||!ts.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var n;return Dn(e,function(e,t){n=t}),n===_||ts.call(e,n)}function zo(e){return qo(e)&&rs.call(e)==Y}function Bo(e){return"string"==typeof e||p(e)&&rs.call(e)==J}function $o(e){return p(e)&&ni(e.length)&&!!Ht[rs.call(e)]}function Vo(e){return e===_}function Uo(e,t){return t>e}function Xo(e,t){return t>=e}function Qo(e){var t=e?zs(e):0;return ni(t)?t?nn(e):[]:aa(e)}function Go(e){return wn(e,ta(e))}function Ko(e,t,n){var r=qs(e);return n&&Jr(e,t,n)&&(t=_),t?yn(r,t):r}function Yo(e){return Fn(e,ta(e))}function Zo(e,t,n){var r=null==e?_:qn(e,hi(t),t+"");return r===_?n:r}function Jo(e,t){if(null==e)return!1;var n=ts.call(e,t);if(!n&&!ei(t)){if(t=hi(t),e=1==t.length?e:qn(e,Gn(t,0,-1)),null==e)return!1;t=Ti(t),n=ts.call(e,t)}return n||ni(e.length)&&Zr(t,e.length)&&(Nu(e)||To(e))}function ea(e,t,n){n&&Jr(e,t,n)&&(t=_);for(var r=-1,i=Mu(e),o=i.length,a={};++r<o;){var s=i[r],u=e[s];
t?ts.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function ta(e){if(null==e)return[];qo(e)||(e=Xa(e));var t=e.length;t=t&&ni(t)&&(Nu(e)||To(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Wa(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Zr(s,t)||"constructor"==s&&(i||!ts.call(e,s))||o.push(s);return o}function na(e){e=fi(e);for(var t=-1,n=Mu(e),r=n.length,i=Wa(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function ra(e,t,n){var r=null==e?_:e[t];return r===_&&(null==e||ei(t,e)||(t=hi(t),e=1==t.length?e:qn(e,Gn(t,0,-1)),r=null==e?_:e[Ti(t)]),r=r===_?n:r),Fo(r)?r.call(e):r}function ia(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||ei(t,e)?[r]:hi(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];qo(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=Zr(t[i+1])?[]:{})),s=s[u]}return e}function oa(e,t,n,r){var i=Nu(e)||$o(e);if(t=Wr(t,r,4),null==n)if(i||qo(e)){var o=e.constructor;n=i?Nu(e)?new o:[]:qs(Fo(o)?o.prototype:_)}else n={};return(i?rn:Ln)(e,function(e,r,i){return t(n,e,r,i)}),n}function aa(e){return tr(e,Mu(e))}function sa(e){return tr(e,ta(e))}function ua(e,t,n){return t=+t||0,n===_?(n=t,t=0):n=+n||0,e>=ks(t,n)&&e<_s(t,n)}function la(e,t,n){n&&Jr(e,t,n)&&(t=n=_);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Ts();return ks(e+o*(t-e+us("1e-"+((o+"").length-1))),t)}return Xn(e,t)}function ca(e){return e=i(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function fa(e){return e=i(e),e&&e.replace(Ot,l).replace(Tt,"")}function ha(e,t,n){e=i(e),t+="";var r=e.length;return n=n===_?r:ks(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function da(e){return e=i(e),e&&vt.test(e)?e.replace(gt,c):e}function pa(e){return e=i(e),e&&Ct.test(e)?e.replace(Et,f):e||"(?:)"}function ga(e,t,n){e=i(e),t=+t;var r=e.length;if(r>=t||!ws(t))return e;var o=(t-r)/2,a=ys(o),s=ms(o);return n=Or("",s,n),n.slice(0,a)+e+n}function ma(e,t,n){return(n?Jr(e,t,n):null==t)?t=0:t&&(t=+t),e=wa(e),Cs(e,t||(jt.test(e)?16:10))}function va(e,t){var n="";if(e=i(e),t=+t,1>t||!e||!ws(t))return n;do t%2&&(n+=e),t=ys(t/2),e+=e;while(t);return n}function ya(e,t,n){return e=i(e),n=null==n?0:ks(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function ba(e,t,n){var r=Q.templateSettings;n&&Jr(e,t,n)&&(t=n=_),e=i(e),t=vn(yn({},n||t),r,mn);var o,a,s=vn(yn({},t.imports),r.imports,mn),u=Mu(s),l=tr(s,u),c=0,f=t.interpolate||Ft,d="__p += '",p=Qa((t.escape||Ft).source+"|"+f.source+"|"+(f===wt?At:Ft).source+"|"+(t.evaluate||Ft).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++It+"]")+"\n";e.replace(p,function(t,n,r,i,s,u){return r||(r=i),d+=e.slice(c,u).replace(qt,h),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),d+="';\n";var m=t.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(ft,""):d).replace(ht,"$1").replace(dt,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Yu(function(){return $a(u,g+"return "+d).apply(_,l)});if(v.source=d,Lo(v))throw v;return v}function wa(e,t,n){var r=e;return(e=i(e))?(n?Jr(r,t,n):null==t)?e.slice(y(e),b(e)+1):(t+="",e.slice(o(e,t),a(e,t)+1)):e}function xa(e,t,n){var r=e;return e=i(e),e?e.slice((n?Jr(r,t,n):null==t)?y(e):o(e,t+"")):e}function _a(e,t,n){var r=e;return e=i(e),e?(n?Jr(r,t,n):null==t)?e.slice(0,b(e)+1):e.slice(0,a(e,t+"")+1):e}function ka(e,t,n){n&&Jr(e,t,n)&&(t=_);var r=O,o=F;if(null!=t)if(qo(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,o="omission"in t?i(t.omission):o}else r=+t||0;if(e=i(e),r>=e.length)return e;var s=r-o.length;if(1>s)return o;var u=e.slice(0,s);if(null==a)return u+o;if(zo(a)){if(e.slice(s).search(a)){var l,c,f=e.slice(0,s);for(a.global||(a=Qa(a.source,(Nt.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(f);)c=l.index;u=u.slice(0,null==c?s:c)}}else if(e.indexOf(a,s)!=s){var h=u.lastIndexOf(a);h>-1&&(u=u.slice(0,h))}return u+o}function Ea(e){return e=i(e),e&&mt.test(e)?e.replace(pt,w):e}function Ca(e,t,n){return n&&Jr(e,t,n)&&(t=_),e=i(e),e.match(t||Pt)||[]}function Ta(e,t,n){return n&&Jr(e,t,n)&&(t=_),p(e)?Na(e):xn(e,t)}function Sa(e){return function(){return e}}function Aa(e){return e}function Na(e){return Mn(_n(e,!0))}function ja(e,t){return Wn(e,_n(t,!0))}function Da(e,t,n){if(null==n){var r=qo(t),i=r?Mu(t):_,o=i&&i.length?Fn(t,i):_;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Fn(t,Mu(t)));var a=!0,s=-1,u=Fo(e),l=o.length;n===!1?a=!1:qo(n)&&"chain"in n&&(a=n.chain);for(;++s<l;){var c=o[s],f=t[c];e[c]=f,u&&(e.prototype[c]=function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__),i=r.__actions__=nn(this.__actions__);return i.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,cn([this.value()],arguments))}}(f))}return e}function La(){return Jt._=is,this}function Oa(){}function Fa(e){return ei(e)?$n(e):Vn(e)}function qa(e){return function(t){return qn(e,hi(t),t+"")}}function Pa(e,t,n){n&&Jr(e,t,n)&&(t=n=_),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=_s(ms((t-e)/(n||1)),0),o=Wa(i);++r<i;)o[r]=e,e+=n;return o}function Ra(e,t,n){if(e=ys(e),1>e||!ws(e))return[];var r=-1,i=Wa(ks(e,Ns));for(t=ar(t,n,1);++r<e;)Ns>r?i[r]=t(r):t(r);return i}function Ia(e){var t=++ns;return i(e)+t}function Ha(e,t){return(+e||0)+(+t||0)}function Ma(e,t,n){return n&&Jr(e,t,n)&&(t=_),t=Wr(t,n,3),1==t.length?pn(Nu(e)?e:ci(e),t):Jn(e,t)}g=g?en.defaults(Jt.Object(),g,en.pick(Jt,Rt)):Jt;{var Wa=g.Array,za=g.Date,Ba=g.Error,$a=g.Function,Va=g.Math,Ua=g.Number,Xa=g.Object,Qa=g.RegExp,Ga=g.String,Ka=g.TypeError,Ya=Wa.prototype,Za=Xa.prototype,Ja=Ga.prototype,es=$a.prototype.toString,ts=Za.hasOwnProperty,ns=0,rs=Za.toString,is=Jt._,os=Qa("^"+es.call(ts).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),as=g.ArrayBuffer,ss=g.clearTimeout,us=g.parseFloat,ls=Va.pow,cs=Za.propertyIsEnumerable,fs=Vr(g,"Set"),hs=g.setTimeout,ds=Ya.splice,ps=g.Uint8Array,gs=Vr(g,"WeakMap"),ms=Va.ceil,vs=Vr(Xa,"create"),ys=Va.floor,bs=Vr(Wa,"isArray"),ws=g.isFinite,xs=Vr(Xa,"keys"),_s=Va.max,ks=Va.min,Es=Vr(za,"now"),Cs=g.parseInt,Ts=Va.random,Ss=Ua.NEGATIVE_INFINITY,As=Ua.POSITIVE_INFINITY,Ns=4294967295,js=Ns-1,Ds=Ns>>>1,Ls=9007199254740991,Os=gs&&new gs,Fs={};Q.support={}}Q.templateSettings={escape:yt,evaluate:bt,interpolate:wt,variable:"",imports:{_:Q}};var qs=function(){function e(){}return function(t){if(qo(t)){e.prototype=t;var n=new e;e.prototype=_}return n||{}}}(),Ps=hr(Ln),Rs=hr(On,!0),Is=dr(),Hs=dr(!0),Ms=Os?function(e,t){return Os.set(e,t),e}:Aa,Ws=Os?function(e){return Os.get(e)}:Oa,zs=$n("length"),Bs=function(){var e=0,t=0;return function(n,r){var i=gu(),o=P-(i-t);if(t=i,o>0){if(++e>=q)return n}else e=0;return Ms(n,r)}}(),$s=yo(function(e,t){return p(e)&&Yr(e)?En(e,jn(t,!1,!0)):[]}),Vs=_r(),Us=_r(!0),Xs=yo(function(e){for(var t=e.length,r=t,i=Wa(f),o=Br(),a=o===n,s=[];r--;){var u=e[r]=Yr(u=e[r])?u:[];i[r]=a&&u.length>=120?gr(r&&u):null}var l=e[0],c=-1,f=l?l.length:0,h=i[0];e:for(;++c<f;)if(u=l[c],(h?Yt(h,u):o(s,u,0))<0){for(var r=t;--r;){var d=i[r];if((d?Yt(d,u):o(e[r],u,0))<0)continue e}h&&h.push(u),s.push(u)}return s}),Qs=yo(function(t,n){n=jn(n);var r=bn(t,n);return Un(t,n.sort(e)),r}),Gs=Pr(),Ks=Pr(!0),Ys=yo(function(e){return er(jn(e,!1,!0))}),Zs=yo(function(e,t){return Yr(e)?En(e,t):[]}),Js=yo(Ri),eu=yo(function(e){var t=e.length,n=t>2?e[t-2]:_,r=t>1?e[t-1]:_;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):_,r=_),e.length=t,Ii(e,n,r)}),tu=yo(function(e){return e=jn(e),this.thru(function(t){return tn(Nu(t)?t:[fi(t)],e)})}),nu=yo(function(e,t){return bn(e,jn(t))}),ru=cr(function(e,t,n){ts.call(e,n)?++e[n]:e[n]=1}),iu=xr(Ps),ou=xr(Rs,!0),au=Cr(rn,Ps),su=Cr(on,Rs),uu=cr(function(e,t,n){ts.call(e,n)?e[n].push(t):e[n]=[t]}),lu=cr(function(e,t,n){e[n]=t}),cu=yo(function(e,t,n){var r=-1,i="function"==typeof t,o=ei(t),a=Yr(e)?Wa(e.length):[];return Ps(e,function(e){var s=i?t:o&&null!=e?e[t]:_;a[++r]=s?s.apply(e,n):Kr(e,t,n)}),a}),fu=cr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),hu=Dr(fn,Ps),du=Dr(hn,Rs),pu=yo(function(e,t){if(null==e)return[];var n=t[2];return n&&Jr(t[0],t[1],n)&&(t.length=1),Zn(e,jn(t),[])}),gu=Es||function(){return(new za).getTime()},mu=yo(function(e,t,n){var r=E;if(n.length){var i=m(n,mu.placeholder);r|=N}return Rr(e,r,t,n,i)}),vu=yo(function(e,t){t=t.length?jn(t):Yo(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Rr(e[i],E,e)}return e}),yu=yo(function(e,t,n){var r=E|C;if(n.length){var i=m(n,yu.placeholder);r|=N}return Rr(t,r,e,n,i)}),bu=yr(S),wu=yr(A),xu=yo(function(e,t){return kn(e,1,t)}),_u=yo(function(e,t,n){return kn(e,t,n)}),ku=Er(),Eu=Er(!0),Cu=yo(function(e,t){if(t=jn(t),"function"!=typeof e||!an(t,r))throw new Ka(M);var n=t.length;return yo(function(r){for(var i=ks(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)})}),Tu=jr(N),Su=jr(j),Au=yo(function(e,t){return Rr(e,L,_,_,_,jn(t))}),Nu=bs||function(e){return p(e)&&ni(e.length)&&rs.call(e)==B},ju=fr(zn),Du=fr(function(e,t,n){return n?vn(e,t,n):yn(e,t)}),Lu=br(Du,gn),Ou=br(ju,oi),Fu=kr(Ln),qu=kr(On),Pu=Tr(Is),Ru=Tr(Hs),Iu=Sr(Ln),Hu=Sr(On),Mu=xs?function(e){var t=null==e?_:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Yr(e)?li(e):qo(e)?xs(e):[]}:li,Wu=Ar(!0),zu=Ar(),Bu=yo(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ln(jn(t),Ga);return ai(e,En(ta(e),t))}var n=ar(t[0],t[1],3);return si(e,function(e,t,r){return!n(e,t,r)})}),$u=yo(function(e,t){return null==e?{}:"function"==typeof t[0]?si(e,ar(t[0],t[1],3)):ai(e,jn(t))}),Vu=mr(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),Uu=mr(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Xu=Nr(),Qu=Nr(!0),Gu=mr(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ku=mr(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Yu=yo(function(e,t){try{return e.apply(_,t)}catch(n){return Lo(n)?n:new Ba(n)}}),Zu=yo(function(e,t){return function(n){return Kr(n,e,t)}}),Ju=yo(function(e,t){return function(n){return Kr(e,n,t)}}),el=qr("ceil"),tl=qr("floor"),nl=wr(Eo,Ss),rl=wr(Uo,As),il=qr("round");return Q.prototype=Z.prototype,et.prototype=qs(Z.prototype),et.prototype.constructor=et,Wt.prototype=qs(Z.prototype),Wt.prototype.constructor=Wt,Vt.prototype["delete"]=Ut,Vt.prototype.get=Xt,Vt.prototype.has=Qt,Vt.prototype.set=Gt,Kt.prototype.push=Zt,go.Cache=Vt,Q.after=co,Q.ary=fo,Q.assign=Du,Q.at=nu,Q.before=ho,Q.bind=mu,Q.bindAll=vu,Q.bindKey=yu,Q.callback=Ta,Q.chain=Wi,Q.chunk=pi,Q.compact=gi,Q.constant=Sa,Q.countBy=ru,Q.create=Ko,Q.curry=bu,Q.curryRight=wu,Q.debounce=po,Q.defaults=Lu,Q.defaultsDeep=Ou,Q.defer=xu,Q.delay=_u,Q.difference=$s,Q.drop=mi,Q.dropRight=vi,Q.dropRightWhile=yi,Q.dropWhile=bi,Q.fill=wi,Q.filter=Yi,Q.flatten=_i,Q.flattenDeep=ki,Q.flow=ku,Q.flowRight=Eu,Q.forEach=au,Q.forEachRight=su,Q.forIn=Pu,Q.forInRight=Ru,Q.forOwn=Iu,Q.forOwnRight=Hu,Q.functions=Yo,Q.groupBy=uu,Q.indexBy=lu,Q.initial=Ci,Q.intersection=Xs,Q.invert=ea,Q.invoke=cu,Q.keys=Mu,Q.keysIn=ta,Q.map=eo,Q.mapKeys=Wu,Q.mapValues=zu,Q.matches=Na,Q.matchesProperty=ja,Q.memoize=go,Q.merge=ju,Q.method=Zu,Q.methodOf=Ju,Q.mixin=Da,Q.modArgs=Cu,Q.negate=mo,Q.omit=Bu,Q.once=vo,Q.pairs=na,Q.partial=Tu,Q.partialRight=Su,Q.partition=fu,Q.pick=$u,Q.pluck=to,Q.property=Fa,Q.propertyOf=qa,Q.pull=Ai,Q.pullAt=Qs,Q.range=Pa,Q.rearg=Au,Q.reject=no,Q.remove=Ni,Q.rest=ji,Q.restParam=yo,Q.set=ia,Q.shuffle=io,Q.slice=Di,Q.sortBy=so,Q.sortByAll=pu,Q.sortByOrder=uo,Q.spread=bo,Q.take=Li,Q.takeRight=Oi,Q.takeRightWhile=Fi,Q.takeWhile=qi,Q.tap=zi,Q.throttle=wo,Q.thru=Bi,Q.times=Ra,Q.toArray=Qo,Q.toPlainObject=Go,Q.transform=oa,Q.union=Ys,Q.uniq=Pi,Q.unzip=Ri,Q.unzipWith=Ii,Q.values=aa,Q.valuesIn=sa,Q.where=lo,Q.without=Zs,Q.wrap=xo,Q.xor=Hi,Q.zip=Js,Q.zipObject=Mi,Q.zipWith=eu,Q.backflow=Eu,Q.collect=eo,Q.compose=Eu,Q.each=au,Q.eachRight=su,Q.extend=Du,Q.iteratee=Ta,Q.methods=Yo,Q.object=Mi,Q.select=Yi,Q.tail=ji,Q.unique=Pi,Da(Q,Q),Q.add=Ha,Q.attempt=Yu,Q.camelCase=Vu,Q.capitalize=ca,Q.ceil=el,Q.clone=_o,Q.cloneDeep=ko,Q.deburr=fa,Q.endsWith=ha,Q.escape=da,Q.escapeRegExp=pa,Q.every=Ki,Q.find=iu,Q.findIndex=Vs,Q.findKey=Fu,Q.findLast=ou,Q.findLastIndex=Us,Q.findLastKey=qu,Q.findWhere=Zi,Q.first=xi,Q.floor=tl,Q.get=Zo,Q.gt=Eo,Q.gte=Co,Q.has=Jo,Q.identity=Aa,Q.includes=Ji,Q.indexOf=Ei,Q.inRange=ua,Q.isArguments=To,Q.isArray=Nu,Q.isBoolean=So,Q.isDate=Ao,Q.isElement=No,Q.isEmpty=jo,Q.isEqual=Do,Q.isError=Lo,Q.isFinite=Oo,Q.isFunction=Fo,Q.isMatch=Po,Q.isNaN=Ro,Q.isNative=Io,Q.isNull=Ho,Q.isNumber=Mo,Q.isObject=qo,Q.isPlainObject=Wo,Q.isRegExp=zo,Q.isString=Bo,Q.isTypedArray=$o,Q.isUndefined=Vo,Q.kebabCase=Uu,Q.last=Ti,Q.lastIndexOf=Si,Q.lt=Uo,Q.lte=Xo,Q.max=nl,Q.min=rl,Q.noConflict=La,Q.noop=Oa,Q.now=gu,Q.pad=ga,Q.padLeft=Xu,Q.padRight=Qu,Q.parseInt=ma,Q.random=la,Q.reduce=hu,Q.reduceRight=du,Q.repeat=va,Q.result=ra,Q.round=il,Q.runInContext=x,Q.size=oo,Q.snakeCase=Gu,Q.some=ao,Q.sortedIndex=Gs,Q.sortedLastIndex=Ks,Q.startCase=Ku,Q.startsWith=ya,Q.sum=Ma,Q.template=ba,Q.trim=wa,Q.trimLeft=xa,Q.trimRight=_a,Q.trunc=ka,Q.unescape=Ea,Q.uniqueId=Ia,Q.words=Ca,Q.all=Ki,Q.any=ao,Q.contains=Ji,Q.eq=Do,Q.detect=iu,Q.foldl=hu,Q.foldr=du,Q.head=xi,Q.include=Ji,Q.inject=hu,Da(Q,function(){var e={};return Ln(Q,function(t,n){Q.prototype[n]||(e[n]=t)}),e}(),!1),Q.sample=ro,Q.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ro(t,e)}):ro(this.value())},Q.VERSION=k,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Q[e].placeholder=Q}),rn(["drop","take"],function(e,t){Wt.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Wt(this);n=null==n?1:_s(ys(n)||0,0);var i=this.clone();return r?i.__takeCount__=ks(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},Wt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),rn(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n!=H;Wt.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Wr(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),rn(["first","last"],function(e,t){var n="take"+(t?"Right":"");Wt.prototype[e]=function(){return this[n](1).value()[0]}}),rn(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Wt.prototype[e]=function(){return this.__filtered__?new Wt(this):this[n](1)}}),rn(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Mn:Fa;Wt.prototype[e]=function(e){return this[n](r(e))}}),Wt.prototype.compact=function(){return this.filter(Aa)},Wt.prototype.reject=function(e,t){return e=Wr(e,t,1),this.filter(function(t){return!e(t)})},Wt.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||0>t)?new Wt(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==_&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n)},Wt.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Wt.prototype.toArray=function(){return this.take(As)},Ln(Wt.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),r=/^(?:first|last)$/.test(t),i=Q[r?"take"+("last"==t?"Right":""):t];i&&(Q.prototype[t]=function(){var t=r?[1]:arguments,o=this.__chain__,a=this.__wrapped__,s=!!this.__actions__.length,u=a instanceof Wt,l=t[0],c=u||Nu(a);c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=function(e){return r&&o?i(e,1)[0]:i.apply(_,cn([e],t))},h={func:Bi,args:[f],thisArg:_},d=u&&!s;if(r&&!o)return d?(a=a.clone(),a.__actions__.push(h),e.call(a)):i.call(_,this.value())[0];if(!r&&c){a=d?a:new Wt(this);var p=e.apply(a,t);return p.__actions__.push(h),new et(p,o)}return this.thru(f)})}),rn(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Ja:Ya)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);Q.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),Ln(Wt.prototype,function(e,t){var n=Q[t];if(n){var r=n.name+"",i=Fs[r]||(Fs[r]=[]);i.push({name:t,func:n})}}),Fs[Lr(_,C).name]=[{name:"wrapper",func:_}],Wt.prototype.clone=zt,Wt.prototype.reverse=Bt,Wt.prototype.value=$t,Q.prototype.chain=$i,Q.prototype.commit=Vi,Q.prototype.concat=tu,Q.prototype.plant=Ui,Q.prototype.reverse=Xi,Q.prototype.toString=Qi,Q.prototype.run=Q.prototype.toJSON=Q.prototype.valueOf=Q.prototype.value=Gi,Q.prototype.collect=Q.prototype.map,Q.prototype.head=Q.prototype.first,Q.prototype.select=Q.prototype.filter,Q.prototype.tail=Q.prototype.rest,Q}var _,k="3.10.1",E=1,C=2,T=4,S=8,A=16,N=32,j=64,D=128,L=256,O=30,F="...",q=150,P=16,R=200,I=1,H=2,M="Expected a function",W="__lodash_placeholder__",z="[object Arguments]",B="[object Array]",$="[object Boolean]",V="[object Date]",U="[object Error]",X="[object Function]",Q="[object Map]",G="[object Number]",K="[object Object]",Y="[object RegExp]",Z="[object Set]",J="[object String]",et="[object WeakMap]",tt="[object ArrayBuffer]",nt="[object Float32Array]",rt="[object Float64Array]",it="[object Int8Array]",ot="[object Int16Array]",at="[object Int32Array]",st="[object Uint8Array]",ut="[object Uint8ClampedArray]",lt="[object Uint16Array]",ct="[object Uint32Array]",ft=/\b__p \+= '';/g,ht=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pt=/&(?:amp|lt|gt|quot|#39|#96);/g,gt=/[&<>"'`]/g,mt=RegExp(pt.source),vt=RegExp(gt.source),yt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,wt=/<%=([\s\S]+?)%>/g,xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,_t=/^\w*$/,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Et=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ct=RegExp(Et.source),Tt=/[\u0300-\u036f\ufe20-\ufe23]/g,St=/\\(\\)?/g,At=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nt=/\w*$/,jt=/^0[xX]/,Dt=/^\[object .+?Constructor\]$/,Lt=/^\d+$/,Ot=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ft=/($^)/,qt=/['\n\r\u2028\u2029\\]/g,Pt=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Rt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],It=-1,Ht={};Ht[nt]=Ht[rt]=Ht[it]=Ht[ot]=Ht[at]=Ht[st]=Ht[ut]=Ht[lt]=Ht[ct]=!0,Ht[z]=Ht[B]=Ht[tt]=Ht[$]=Ht[V]=Ht[U]=Ht[X]=Ht[Q]=Ht[G]=Ht[K]=Ht[Y]=Ht[Z]=Ht[J]=Ht[et]=!1;var Mt={};Mt[z]=Mt[B]=Mt[tt]=Mt[$]=Mt[V]=Mt[nt]=Mt[rt]=Mt[it]=Mt[ot]=Mt[at]=Mt[G]=Mt[K]=Mt[Y]=Mt[J]=Mt[st]=Mt[ut]=Mt[lt]=Mt[ct]=!0,Mt[U]=Mt[X]=Mt[Q]=Mt[Z]=Mt[et]=!1;var Wt={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Bt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},$t={"function":!0,object:!0},Vt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xt=$t[typeof exports]&&exports&&!exports.nodeType&&exports,Qt=$t[typeof module]&&module&&!module.nodeType&&module,Gt=Xt&&Qt&&"object"==typeof global&&global&&global.Object&&global,Kt=$t[typeof self]&&self&&self.Object&&self,Yt=$t[typeof window]&&window&&window.Object&&window,Zt=Qt&&Qt.exports===Xt&&Xt,Jt=Gt||Yt!==(this&&this.window)&&Yt||Kt||this,en=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Jt._=en,define(function(){return en})):Xt&&Qt?Zt?(Qt.exports=en)._=en:Xt._=en:Jt._=en}.call(this),window.Weblingo=Ractive.extend({template:RactiveTemplates["templates/weblingo"],computed:{currentLingo:{get:"${lingos}[${currentQuestion}.lingoId]"},currentQuestion:{get:"${questions}[${questionNum}]"},correctChoice:{get:"${currentQuestion}.correctChoice"},choicesTagline:{get:function(){for(var e=this.get("lingos"),t=this.get("currentQuestion").choiceIds,n=[],r=0;r<t.length;r++)n.push(e[t[r]].tagline);return n}}},oninit:function(){this.on("startQuiz",this.startQuiz)},data:function(){return{score:0,questionNum:-1}},startQuiz:function(){this.set("score",0),this.nextQuestion()},nextQuestion:function(){this.add("questionNum")},choiceClick:function(e){this.get("correctChoice");this.get("correctChoice")==e&&this.add("score"),this.nextQuestion()}});