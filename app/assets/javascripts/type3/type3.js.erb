
//= require ./vendor/pixi

var asset_path = function (asset) {
  return '<%= image_url('type3/planet20.png') %>';
};

$(function() {

  var canvas = $('#type3-canvas');

  var renderer = new PIXI.CanvasRenderer(1000,600, {view: document.getElementById('type3-canvas'), transparent: true});

  var stage = new PIXI.Container();

  PIXI.loader.add('planet', asset_path('type3/planet19.png')).load(function (loader, resources) {
    // This creates a texture from a 'bunny.png' image.
    var planet = new PIXI.Sprite(resources.planet.texture);

    // Setup the position and scale of the planet
    planet.position.x = 400;
    planet.position.y = 300;
    planet.pivot.set(planet.width/2, planet.height/2);

    planet.scale.x = .3;
    planet.scale.y = .3;




    // Add the planet to the scene we are building.
    stage.addChild(planet);

    // kick off the animation loop (defined below)
    animate();

    function animate() {
      // start the timer for the next animation loop
      requestAnimationFrame(animate);

      // each frame we spin the planet around a bit
      planet.rotation += 0.01;

      // this is the main render call that makes pixi draw your container and its children.
      renderer.render(stage);
    }
  });



});


